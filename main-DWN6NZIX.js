var lx=Object.create;var oa=Object.defineProperty,ux=Object.defineProperties,dx=Object.getOwnPropertyDescriptor,fx=Object.getOwnPropertyDescriptors,hx=Object.getOwnPropertyNames,ia=Object.getOwnPropertySymbols,px=Object.getPrototypeOf,Bl=Object.prototype.hasOwnProperty,Qp=Object.prototype.propertyIsEnumerable;var Kp=(e,t,n)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||={})Bl.call(t,n)&&Kp(e,n,t[n]);if(ia)for(var n of ia(t))Qp.call(t,n)&&Kp(e,n,t[n]);return e},Le=(e,t)=>ux(e,fx(t));var Zp=(e,t)=>{var n={};for(var r in e)Bl.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ia)for(var r of ia(e))t.indexOf(r)<0&&Qp.call(e,r)&&(n[r]=e[r]);return n};var mx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gi=(e,t)=>{for(var n in t)oa(e,n,{get:t[n],enumerable:!0})},gx=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hx(t))!Bl.call(e,i)&&i!==n&&oa(e,i,{get:()=>t[i],enumerable:!(r=dx(t,i))||r.enumerable});return e};var vx=(e,t,n)=>(n=e!=null?lx(px(e)):{},gx(t||!e||!e.__esModule?oa(n,"default",{value:e,enumerable:!0}):n,e));var cb=mx((mh,ti)=>{"use strict";(function(e,t){typeof mh=="object"&&typeof ti<"u"?ti.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).interact=t()})(mh,function(){"use strict";function e(c,a){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);a&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable})),u.push.apply(u,f)}return u}function t(c){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?e(Object(u),!0).forEach(function(f){s(c,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):e(Object(u)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(u,f))})}return c}function n(c){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(c)}function r(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function i(c,a){for(var u=0;u<a.length;u++){var f=a[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,_(f.key),f)}}function o(c,a,u){return a&&i(c.prototype,a),u&&i(c,u),Object.defineProperty(c,"prototype",{writable:!1}),c}function s(c,a,u){return(a=_(a))in c?Object.defineProperty(c,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[a]=u,c}function l(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&h(c,a)}function d(c){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},d(c)}function h(c,a){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},h(c,a)}function y(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function m(c){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,f=d(c);if(a){var p=d(this).constructor;u=Reflect.construct(f,arguments,p)}else u=f.apply(this,arguments);return function(g,v){if(v&&(typeof v=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(g)}(this,u)}}function D(){return D=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,a,u){var f=function(g,v){for(;!Object.prototype.hasOwnProperty.call(g,v)&&(g=d(g))!==null;);return g}(c,a);if(f){var p=Object.getOwnPropertyDescriptor(f,a);return p.get?p.get.call(arguments.length<3?c:u):p.value}},D.apply(this,arguments)}function _(c){var a=function(u,f){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var g=p.call(u,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(u)}(c,"string");return typeof a=="symbol"?a:a+""}var S=function(c){return!(!c||!c.Window)&&c instanceof c.Window},T=void 0,R=void 0;function P(c){T=c;var a=c.document.createTextNode("");a.ownerDocument!==c.document&&typeof c.wrap=="function"&&c.wrap(a)===a&&(c=c.wrap(c)),R=c}function fe(c){return S(c)?c:(c.ownerDocument||c).defaultView||R.window}typeof window<"u"&&window&&P(window);var he=function(c){return!!c&&n(c)==="object"},Ne=function(c){return typeof c=="function"},I={window:function(c){return c===R||S(c)},docFrag:function(c){return he(c)&&c.nodeType===11},object:he,func:Ne,number:function(c){return typeof c=="number"},bool:function(c){return typeof c=="boolean"},string:function(c){return typeof c=="string"},element:function(c){if(!c||n(c)!=="object")return!1;var a=fe(c)||R;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?c instanceof Element||c instanceof a.Element:c.nodeType===1&&typeof c.nodeName=="string"},plainObject:function(c){return he(c)&&!!c.constructor&&/function Object\b/.test(c.constructor.toString())},array:function(c){return he(c)&&c.length!==void 0&&Ne(c.splice)}};function Ie(c){var a=c.interaction;if(a.prepared.name==="drag"){var u=a.prepared.axis;u==="x"?(a.coords.cur.page.y=a.coords.start.page.y,a.coords.cur.client.y=a.coords.start.client.y,a.coords.velocity.client.y=0,a.coords.velocity.page.y=0):u==="y"&&(a.coords.cur.page.x=a.coords.start.page.x,a.coords.cur.client.x=a.coords.start.client.x,a.coords.velocity.client.x=0,a.coords.velocity.page.x=0)}}function Je(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="drag"){var f=u.prepared.axis;if(f==="x"||f==="y"){var p=f==="x"?"y":"x";a.page[p]=u.coords.start.page[p],a.client[p]=u.coords.start.client[p],a.delta[p]=0}}}var ht={id:"actions/drag",install:function(c){var a=c.actions,u=c.Interactable,f=c.defaults;u.prototype.draggable=ht.draggable,a.map.drag=ht,a.methodDict.drag="draggable",f.actions.drag=ht.defaults},listeners:{"interactions:before-action-move":Ie,"interactions:action-resume":Ie,"interactions:action-move":Je,"auto-start:check":function(c){var a=c.interaction,u=c.interactable,f=c.buttons,p=u.options.drag;if(p&&p.enabled&&(!a.pointerIsDown||!/mouse|pointer/.test(a.pointerType)||f&u.options.drag.mouseButtons))return c.action={name:"drag",axis:p.lockAxis==="start"?p.startAxis:p.lockAxis},!1}},draggable:function(c){return I.object(c)?(this.options.drag.enabled=c.enabled!==!1,this.setPerAction("drag",c),this.setOnEvents("drag",c),/^(xy|x|y|start)$/.test(c.lockAxis)&&(this.options.drag.lockAxis=c.lockAxis),/^(xy|x|y)$/.test(c.startAxis)&&(this.options.drag.startAxis=c.startAxis),this):I.bool(c)?(this.options.drag.enabled=c,this):this.options.drag},beforeMove:Ie,move:Je,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(c){return c.search("drag")===0}},Sn=ht,ze={init:function(c){var a=c;ze.document=a.document,ze.DocumentFragment=a.DocumentFragment||hi,ze.SVGElement=a.SVGElement||hi,ze.SVGSVGElement=a.SVGSVGElement||hi,ze.SVGElementInstance=a.SVGElementInstance||hi,ze.Element=a.Element||hi,ze.HTMLElement=a.HTMLElement||ze.Element,ze.Event=a.Event,ze.Touch=a.Touch||hi,ze.PointerEvent=a.PointerEvent||a.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function hi(){}var dt=ze,jt={init:function(c){var a=dt.Element,u=c.navigator||{};jt.supportsTouch="ontouchstart"in c||I.func(c.DocumentTouch)&&dt.document instanceof c.DocumentTouch,jt.supportsPointerEvent=u.pointerEnabled!==!1&&!!dt.PointerEvent,jt.isIOS=/iP(hone|od|ad)/.test(u.platform),jt.isIOS7=/iP(hone|od|ad)/.test(u.platform)&&/OS 7[^\d]/.test(u.appVersion),jt.isIe9=/MSIE 9/.test(u.userAgent),jt.isOperaMobile=u.appName==="Opera"&&jt.supportsTouch&&/Presto/.test(u.userAgent),jt.prefixedMatchesSelector="matches"in a.prototype?"matches":"webkitMatchesSelector"in a.prototype?"webkitMatchesSelector":"mozMatchesSelector"in a.prototype?"mozMatchesSelector":"oMatchesSelector"in a.prototype?"oMatchesSelector":"msMatchesSelector",jt.pEventTypes=jt.supportsPointerEvent?dt.PointerEvent===c.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,jt.wheelEvent=dt.document&&"onmousewheel"in dt.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},en=jt;function Mr(c,a){if(c.contains)return c.contains(a);for(;a;){if(a===c)return!0;a=a.parentNode}return!1}function ep(c,a){for(;I.element(c);){if(Xn(c,a))return c;c=In(c)}return null}function In(c){var a=c.parentNode;if(I.docFrag(a)){for(;(a=a.host)&&I.docFrag(a););return a}return a}function Xn(c,a){return R!==T&&(a=a.replace(/\/deep\//g," ")),c[en.prefixedMatchesSelector](a)}var hl=function(c){return c.parentNode||c.host};function tp(c,a){for(var u,f=[],p=c;(u=hl(p))&&p!==a&&u!==p.ownerDocument;)f.unshift(p),p=u;return f}function pl(c,a,u){for(;I.element(c);){if(Xn(c,a))return!0;if((c=In(c))===u)return Xn(c,a)}return!1}function np(c){return c.correspondingUseElement||c}function ml(c){var a=c instanceof dt.SVGElement?c.getBoundingClientRect():c.getClientRects()[0];return a&&{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width||a.right-a.left,height:a.height||a.bottom-a.top}}function gl(c){var a,u=ml(c);if(!en.isIOS7&&u){var f={x:(a=(a=fe(c))||R).scrollX||a.document.documentElement.scrollLeft,y:a.scrollY||a.document.documentElement.scrollTop};u.left+=f.x,u.right+=f.x,u.top+=f.y,u.bottom+=f.y}return u}function rp(c){for(var a=[];c;)a.push(c),c=In(c);return a}function ip(c){return!!I.string(c)&&(dt.document.querySelector(c),!0)}function z(c,a){for(var u in a)c[u]=a[u];return c}function op(c,a,u){return c==="parent"?In(u):c==="self"?a.getRect(u):ep(u,c)}function Co(c,a,u,f){var p=c;return I.string(p)?p=op(p,a,u):I.func(p)&&(p=p.apply(void 0,f)),I.element(p)&&(p=gl(p)),p}function Hs(c){return c&&{x:"x"in c?c.x:c.left,y:"y"in c?c.y:c.top}}function vl(c){return!c||"x"in c&&"y"in c||((c=z({},c)).x=c.left||0,c.y=c.top||0,c.width=c.width||(c.right||0)-c.x,c.height=c.height||(c.bottom||0)-c.y),c}function zs(c,a,u){c.left&&(a.left+=u.x),c.right&&(a.right+=u.x),c.top&&(a.top+=u.y),c.bottom&&(a.bottom+=u.y),a.width=a.right-a.left,a.height=a.bottom-a.top}function _o(c,a,u){var f=u&&c.options[u];return Hs(Co(f&&f.origin||c.options.origin,c,a,[c&&a]))||{x:0,y:0}}function Tr(c,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(w){return!0},f=arguments.length>3?arguments[3]:void 0;if(f=f||{},I.string(c)&&c.search(" ")!==-1&&(c=sp(c)),I.array(c))return c.forEach(function(w){return Tr(w,a,u,f)}),f;if(I.object(c)&&(a=c,c=""),I.func(a)&&u(c))f[c]=f[c]||[],f[c].push(a);else if(I.array(a))for(var p=0,g=a;p<g.length;p++){var v=g[p];Tr(c,v,u,f)}else if(I.object(a))for(var b in a)Tr(sp(b).map(function(w){return"".concat(c).concat(w)}),a[b],u,f);return f}function sp(c){return c.trim().split(/ +/)}var Eo=function(c,a){return Math.sqrt(c*c+a*a)},Kb=["webkit","moz"];function Gs(c,a){c.__set||(c.__set={});var u=function(p){if(Kb.some(function(g){return p.indexOf(g)===0}))return 1;typeof c[p]!="function"&&p!=="__set"&&Object.defineProperty(c,p,{get:function(){return p in c.__set?c.__set[p]:c.__set[p]=a[p]},set:function(g){c.__set[p]=g},configurable:!0})};for(var f in a)u(f);return c}function Ws(c,a){c.page=c.page||{},c.page.x=a.page.x,c.page.y=a.page.y,c.client=c.client||{},c.client.x=a.client.x,c.client.y=a.client.y,c.timeStamp=a.timeStamp}function ap(c){c.page.x=0,c.page.y=0,c.client.x=0,c.client.y=0}function cp(c){return c instanceof dt.Event||c instanceof dt.Touch}function qs(c,a,u){return c=c||"page",(u=u||{}).x=a[c+"X"],u.y=a[c+"Y"],u}function lp(c,a){return a=a||{x:0,y:0},en.isOperaMobile&&cp(c)?(qs("screen",c,a),a.x+=window.scrollX,a.y+=window.scrollY):qs("page",c,a),a}function So(c){return I.number(c.pointerId)?c.pointerId:c.identifier}function Qb(c,a,u){var f=a.length>1?up(a):a[0];lp(f,c.page),function(p,g){g=g||{},en.isOperaMobile&&cp(p)?qs("screen",p,g):qs("client",p,g)}(f,c.client),c.timeStamp=u}function yl(c){var a=[];return I.array(c)?(a[0]=c[0],a[1]=c[1]):c.type==="touchend"?c.touches.length===1?(a[0]=c.touches[0],a[1]=c.changedTouches[0]):c.touches.length===0&&(a[0]=c.changedTouches[0],a[1]=c.changedTouches[1]):(a[0]=c.touches[0],a[1]=c.touches[1]),a}function up(c){for(var a={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},u=0;u<c.length;u++){var f=c[u];for(var p in a)a[p]+=f[p]}for(var g in a)a[g]/=c.length;return a}function bl(c){if(!c.length)return null;var a=yl(c),u=Math.min(a[0].pageX,a[1].pageX),f=Math.min(a[0].pageY,a[1].pageY),p=Math.max(a[0].pageX,a[1].pageX),g=Math.max(a[0].pageY,a[1].pageY);return{x:u,y:f,left:u,top:f,right:p,bottom:g,width:p-u,height:g-f}}function wl(c,a){var u=a+"X",f=a+"Y",p=yl(c),g=p[0][u]-p[1][u],v=p[0][f]-p[1][f];return Eo(g,v)}function xl(c,a){var u=a+"X",f=a+"Y",p=yl(c),g=p[1][u]-p[0][u],v=p[1][f]-p[0][f];return 180*Math.atan2(v,g)/Math.PI}function dp(c){return I.string(c.pointerType)?c.pointerType:I.number(c.pointerType)?[void 0,void 0,"touch","pen","mouse"][c.pointerType]:/touch/.test(c.type||"")||c instanceof dt.Touch?"touch":"mouse"}function fp(c){var a=I.func(c.composedPath)?c.composedPath():c.path;return[np(a?a[0]:c.target),np(c.currentTarget)]}var Ys=function(){function c(a){r(this,c),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=a}return o(c,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),c}();Object.defineProperty(Ys.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var hp=function(c,a){for(var u=0;u<a.length;u++){var f=a[u];c.push(f)}return c},pp=function(c){return hp([],c)},Io=function(c,a){for(var u=0;u<c.length;u++)if(a(c[u],u,c))return u;return-1},Mo=function(c,a){return c[Io(c,a)]},pi=function(c){l(u,c);var a=m(u);function u(f,p,g){var v;r(this,u),(v=a.call(this,p._interaction)).dropzone=void 0,v.dragEvent=void 0,v.relatedTarget=void 0,v.draggable=void 0,v.propagationStopped=!1,v.immediatePropagationStopped=!1;var b=g==="dragleave"?f.prev:f.cur,w=b.element,C=b.dropzone;return v.type=g,v.target=w,v.currentTarget=w,v.dropzone=C,v.dragEvent=p,v.relatedTarget=p.target,v.draggable=p.interactable,v.timeStamp=p.timeStamp,v}return o(u,[{key:"reject",value:function(){var f=this,p=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&p.cur.dropzone===this.dropzone&&p.cur.element===this.target)if(p.prev.dropzone=this.dropzone,p.prev.element=this.target,p.rejected=!0,p.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var g=p.activeDrops,v=Io(g,function(w){var C=w.dropzone,x=w.element;return C===f.dropzone&&x===f.target});p.activeDrops.splice(v,1);var b=new u(p,this.dragEvent,"dropdeactivate");b.dropzone=this.dropzone,b.target=this.target,this.dropzone.fire(b)}else this.dropzone.fire(new u(p,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),u}(Ys);function mp(c,a){for(var u=0,f=c.slice();u<f.length;u++){var p=f[u],g=p.dropzone,v=p.element;a.dropzone=g,a.target=v,g.fire(a),a.propagationStopped=a.immediatePropagationStopped=!1}}function Dl(c,a){for(var u=function(g,v){for(var b=[],w=0,C=g.interactables.list;w<C.length;w++){var x=C[w];if(x.options.drop.enabled){var E=x.options.drop.accept;if(!(I.element(E)&&E!==v||I.string(E)&&!Xn(v,E)||I.func(E)&&!E({dropzone:x,draggableElement:v})))for(var M=0,N=x.getAllElements();M<N.length;M++){var A=N[M];A!==v&&b.push({dropzone:x,element:A,rect:x.getRect(A)})}}}return b}(c,a),f=0;f<u.length;f++){var p=u[f];p.rect=p.dropzone.getRect(p.element)}return u}function gp(c,a,u){for(var f=c.dropState,p=c.interactable,g=c.element,v=[],b=0,w=f.activeDrops;b<w.length;b++){var C=w[b],x=C.dropzone,E=C.element,M=C.rect,N=x.dropCheck(a,u,p,g,E,M);v.push(N?E:null)}var A=function(O){for(var $,j,U,ce=[],ve=0;ve<O.length;ve++){var te=O[ve],ue=O[$];if(te&&ve!==$)if(ue){var mt=hl(te),je=hl(ue);if(mt!==te.ownerDocument)if(je!==te.ownerDocument)if(mt!==je){ce=ce.length?ce:tp(ue);var Et=void 0;if(ue instanceof dt.HTMLElement&&te instanceof dt.SVGElement&&!(te instanceof dt.SVGSVGElement)){if(te===je)continue;Et=te.ownerSVGElement}else Et=te;for(var tn=tp(Et,ue.ownerDocument),An=0;tn[An]&&tn[An]===ce[An];)An++;var ra=[tn[An-1],tn[An],ce[An]];if(ra[0])for(var Po=ra[0].lastChild;Po;){if(Po===ra[1]){$=ve,ce=tn;break}if(Po===ra[2])break;Po=Po.previousSibling}}else U=ue,(parseInt(fe(j=te).getComputedStyle(j).zIndex,10)||0)>=(parseInt(fe(U).getComputedStyle(U).zIndex,10)||0)&&($=ve);else $=ve}else $=ve}return $}(v);return f.activeDrops[A]||null}function Cl(c,a,u){var f=c.dropState,p={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return u.type==="dragstart"&&(p.activate=new pi(f,u,"dropactivate"),p.activate.target=null,p.activate.dropzone=null),u.type==="dragend"&&(p.deactivate=new pi(f,u,"dropdeactivate"),p.deactivate.target=null,p.deactivate.dropzone=null),f.rejected||(f.cur.element!==f.prev.element&&(f.prev.dropzone&&(p.leave=new pi(f,u,"dragleave"),u.dragLeave=p.leave.target=f.prev.element,u.prevDropzone=p.leave.dropzone=f.prev.dropzone),f.cur.dropzone&&(p.enter=new pi(f,u,"dragenter"),u.dragEnter=f.cur.element,u.dropzone=f.cur.dropzone)),u.type==="dragend"&&f.cur.dropzone&&(p.drop=new pi(f,u,"drop"),u.dropzone=f.cur.dropzone,u.relatedTarget=f.cur.element),u.type==="dragmove"&&f.cur.dropzone&&(p.move=new pi(f,u,"dropmove"),u.dropzone=f.cur.dropzone)),p}function _l(c,a){var u=c.dropState,f=u.activeDrops,p=u.cur,g=u.prev;a.leave&&g.dropzone.fire(a.leave),a.enter&&p.dropzone.fire(a.enter),a.move&&p.dropzone.fire(a.move),a.drop&&p.dropzone.fire(a.drop),a.deactivate&&mp(f,a.deactivate),u.prev.dropzone=p.dropzone,u.prev.element=p.element}function vp(c,a){var u=c.interaction,f=c.iEvent,p=c.event;if(f.type==="dragmove"||f.type==="dragend"){var g=u.dropState;a.dynamicDrop&&(g.activeDrops=Dl(a,u.element));var v=f,b=gp(u,v,p);g.rejected=g.rejected&&!!b&&b.dropzone===g.cur.dropzone&&b.element===g.cur.element,g.cur.dropzone=b&&b.dropzone,g.cur.element=b&&b.element,g.events=Cl(u,0,v)}}var yp={id:"actions/drop",install:function(c){var a=c.actions,u=c.interactStatic,f=c.Interactable,p=c.defaults;c.usePlugin(Sn),f.prototype.dropzone=function(g){return function(v,b){if(I.object(b)){if(v.options.drop.enabled=b.enabled!==!1,b.listeners){var w=Tr(b.listeners),C=Object.keys(w).reduce(function(E,M){return E[/^(enter|leave)/.test(M)?"drag".concat(M):/^(activate|deactivate|move)/.test(M)?"drop".concat(M):M]=w[M],E},{}),x=v.options.drop.listeners;x&&v.off(x),v.on(C),v.options.drop.listeners=C}return I.func(b.ondrop)&&v.on("drop",b.ondrop),I.func(b.ondropactivate)&&v.on("dropactivate",b.ondropactivate),I.func(b.ondropdeactivate)&&v.on("dropdeactivate",b.ondropdeactivate),I.func(b.ondragenter)&&v.on("dragenter",b.ondragenter),I.func(b.ondragleave)&&v.on("dragleave",b.ondragleave),I.func(b.ondropmove)&&v.on("dropmove",b.ondropmove),/^(pointer|center)$/.test(b.overlap)?v.options.drop.overlap=b.overlap:I.number(b.overlap)&&(v.options.drop.overlap=Math.max(Math.min(1,b.overlap),0)),"accept"in b&&(v.options.drop.accept=b.accept),"checker"in b&&(v.options.drop.checker=b.checker),v}return I.bool(b)?(v.options.drop.enabled=b,v):v.options.drop}(this,g)},f.prototype.dropCheck=function(g,v,b,w,C,x){return function(E,M,N,A,O,$,j){var U=!1;if(!(j=j||E.getRect($)))return!!E.options.drop.checker&&E.options.drop.checker(M,N,U,E,$,A,O);var ce=E.options.drop.overlap;if(ce==="pointer"){var ve=_o(A,O,"drag"),te=lp(M);te.x+=ve.x,te.y+=ve.y;var ue=te.x>j.left&&te.x<j.right,mt=te.y>j.top&&te.y<j.bottom;U=ue&&mt}var je=A.getRect(O);if(je&&ce==="center"){var Et=je.left+je.width/2,tn=je.top+je.height/2;U=Et>=j.left&&Et<=j.right&&tn>=j.top&&tn<=j.bottom}return je&&I.number(ce)&&(U=Math.max(0,Math.min(j.right,je.right)-Math.max(j.left,je.left))*Math.max(0,Math.min(j.bottom,je.bottom)-Math.max(j.top,je.top))/(je.width*je.height)>=ce),E.options.drop.checker&&(U=E.options.drop.checker(M,N,U,E,$,A,O)),U}(this,g,v,b,w,C,x)},u.dynamicDrop=function(g){return I.bool(g)?(c.dynamicDrop=g,u):c.dynamicDrop},z(a.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),a.methodDict.drop="dropzone",c.dynamicDrop=!1,p.actions.drop=yp.defaults},listeners:{"interactions:before-action-start":function(c){var a=c.interaction;a.prepared.name==="drag"&&(a.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(c,a){var u=c.interaction,f=(c.event,c.iEvent);if(u.prepared.name==="drag"){var p=u.dropState;p.activeDrops=[],p.events={},p.activeDrops=Dl(a,u.element),p.events=Cl(u,0,f),p.events.activate&&(mp(p.activeDrops,p.events.activate),a.fire("actions/drop:start",{interaction:u,dragEvent:f}))}},"interactions:action-move":vp,"interactions:after-action-move":function(c,a){var u=c.interaction,f=c.iEvent;if(u.prepared.name==="drag"){var p=u.dropState;_l(u,p.events),a.fire("actions/drop:move",{interaction:u,dragEvent:f}),p.events={}}},"interactions:action-end":function(c,a){if(c.interaction.prepared.name==="drag"){var u=c.interaction,f=c.iEvent;vp(c,a),_l(u,u.dropState.events),a.fire("actions/drop:end",{interaction:u,dragEvent:f})}},"interactions:stop":function(c){var a=c.interaction;if(a.prepared.name==="drag"){var u=a.dropState;u&&(u.activeDrops=null,u.events=null,u.cur.dropzone=null,u.cur.element=null,u.prev.dropzone=null,u.prev.element=null,u.rejected=!1)}}},getActiveDrops:Dl,getDrop:gp,getDropEvents:Cl,fireDropEvents:_l,filterEventType:function(c){return c.search("drag")===0||c.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Zb=yp;function El(c){var a=c.interaction,u=c.iEvent,f=c.phase;if(a.prepared.name==="gesture"){var p=a.pointers.map(function(C){return C.pointer}),g=f==="start",v=f==="end",b=a.interactable.options.deltaSource;if(u.touches=[p[0],p[1]],g)u.distance=wl(p,b),u.box=bl(p),u.scale=1,u.ds=0,u.angle=xl(p,b),u.da=0,a.gesture.startDistance=u.distance,a.gesture.startAngle=u.angle;else if(v||a.pointers.length<2){var w=a.prevEvent;u.distance=w.distance,u.box=w.box,u.scale=w.scale,u.ds=0,u.angle=w.angle,u.da=0}else u.distance=wl(p,b),u.box=bl(p),u.scale=u.distance/a.gesture.startDistance,u.angle=xl(p,b),u.ds=u.scale-a.gesture.scale,u.da=u.angle-a.gesture.angle;a.gesture.distance=u.distance,a.gesture.angle=u.angle,I.number(u.scale)&&u.scale!==1/0&&!isNaN(u.scale)&&(a.gesture.scale=u.scale)}}var Sl={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(c){var a=c.actions,u=c.Interactable,f=c.defaults;u.prototype.gesturable=function(p){return I.object(p)?(this.options.gesture.enabled=p.enabled!==!1,this.setPerAction("gesture",p),this.setOnEvents("gesture",p),this):I.bool(p)?(this.options.gesture.enabled=p,this):this.options.gesture},a.map.gesture=Sl,a.methodDict.gesture="gesturable",f.actions.gesture=Sl.defaults},listeners:{"interactions:action-start":El,"interactions:action-move":El,"interactions:action-end":El,"interactions:new":function(c){c.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(c){if(!(c.interaction.pointers.length<2)){var a=c.interactable.options.gesture;if(a&&a.enabled)return c.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(c){return c.search("gesture")===0}},Jb=Sl;function ew(c,a,u,f,p,g,v){if(!a)return!1;if(a===!0){var b=I.number(g.width)?g.width:g.right-g.left,w=I.number(g.height)?g.height:g.bottom-g.top;if(v=Math.min(v,Math.abs((c==="left"||c==="right"?b:w)/2)),b<0&&(c==="left"?c="right":c==="right"&&(c="left")),w<0&&(c==="top"?c="bottom":c==="bottom"&&(c="top")),c==="left"){var C=b>=0?g.left:g.right;return u.x<C+v}if(c==="top"){var x=w>=0?g.top:g.bottom;return u.y<x+v}if(c==="right")return u.x>(b>=0?g.right:g.left)-v;if(c==="bottom")return u.y>(w>=0?g.bottom:g.top)-v}return!!I.element(f)&&(I.element(a)?a===f:pl(f,a,p))}function bp(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="resize"&&u.resizeAxes){var f=a;u.interactable.options.resize.square?(u.resizeAxes==="y"?f.delta.x=f.delta.y:f.delta.y=f.delta.x,f.axes="xy"):(f.axes=u.resizeAxes,u.resizeAxes==="x"?f.delta.y=0:u.resizeAxes==="y"&&(f.delta.x=0))}}var Mn,Ar,Tn={id:"actions/resize",before:["actions/drag"],install:function(c){var a=c.actions,u=c.browser,f=c.Interactable,p=c.defaults;Tn.cursors=function(g){return g.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(u),Tn.defaultMargin=u.supportsTouch||u.supportsPointerEvent?20:10,f.prototype.resizable=function(g){return function(v,b,w){return I.object(b)?(v.options.resize.enabled=b.enabled!==!1,v.setPerAction("resize",b),v.setOnEvents("resize",b),I.string(b.axis)&&/^x$|^y$|^xy$/.test(b.axis)?v.options.resize.axis=b.axis:b.axis===null&&(v.options.resize.axis=w.defaults.actions.resize.axis),I.bool(b.preserveAspectRatio)?v.options.resize.preserveAspectRatio=b.preserveAspectRatio:I.bool(b.square)&&(v.options.resize.square=b.square),v):I.bool(b)?(v.options.resize.enabled=b,v):v.options.resize}(this,g,c)},a.map.resize=Tn,a.methodDict.resize="resizable",p.actions.resize=Tn.defaults},listeners:{"interactions:new":function(c){c.interaction.resizeAxes="xy"},"interactions:action-start":function(c){(function(a){var u=a.iEvent,f=a.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=u,g=f.rect;f._rects={start:z({},g),corrected:z({},g),previous:z({},g),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},p.edges=f.prepared.edges,p.rect=f._rects.corrected,p.deltaRect=f._rects.delta}})(c),bp(c)},"interactions:action-move":function(c){(function(a){var u=a.iEvent,f=a.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=u,g=f.interactable.options.resize.invert,v=g==="reposition"||g==="negate",b=f.rect,w=f._rects,C=w.start,x=w.corrected,E=w.delta,M=w.previous;if(z(M,x),v){if(z(x,b),g==="reposition"){if(x.top>x.bottom){var N=x.top;x.top=x.bottom,x.bottom=N}if(x.left>x.right){var A=x.left;x.left=x.right,x.right=A}}}else x.top=Math.min(b.top,C.bottom),x.bottom=Math.max(b.bottom,C.top),x.left=Math.min(b.left,C.right),x.right=Math.max(b.right,C.left);for(var O in x.width=x.right-x.left,x.height=x.bottom-x.top,x)E[O]=x[O]-M[O];p.edges=f.prepared.edges,p.rect=x,p.deltaRect=E}})(c),bp(c)},"interactions:action-end":function(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="resize"&&u.prepared.edges){var f=a;f.edges=u.prepared.edges,f.rect=u._rects.corrected,f.deltaRect=u._rects.delta}},"auto-start:check":function(c){var a=c.interaction,u=c.interactable,f=c.element,p=c.rect,g=c.buttons;if(p){var v=z({},a.coords.cur.page),b=u.options.resize;if(b&&b.enabled&&(!a.pointerIsDown||!/mouse|pointer/.test(a.pointerType)||g&b.mouseButtons)){if(I.object(b.edges)){var w={left:!1,right:!1,top:!1,bottom:!1};for(var C in w)w[C]=ew(C,b.edges[C],v,a._latestPointer.eventTarget,f,p,b.margin||Tn.defaultMargin);w.left=w.left&&!w.right,w.top=w.top&&!w.bottom,(w.left||w.right||w.top||w.bottom)&&(c.action={name:"resize",edges:w})}else{var x=b.axis!=="y"&&v.x>p.right-Tn.defaultMargin,E=b.axis!=="x"&&v.y>p.bottom-Tn.defaultMargin;(x||E)&&(c.action={name:"resize",axes:(x?"x":"")+(E?"y":"")})}return!c.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(c){var a=c.edges,u=c.axis,f=c.name,p=Tn.cursors,g=null;if(u)g=p[f+u];else if(a){for(var v="",b=0,w=["top","bottom","left","right"];b<w.length;b++){var C=w[b];a[C]&&(v+=C)}g=p[v]}return g},filterEventType:function(c){return c.search("resize")===0},defaultMargin:null},tw=Tn,nw={id:"actions",install:function(c){c.usePlugin(Jb),c.usePlugin(tw),c.usePlugin(Sn),c.usePlugin(Zb)}},wp=0,Kn={request:function(c){return Mn(c)},cancel:function(c){return Ar(c)},init:function(c){if(Mn=c.requestAnimationFrame,Ar=c.cancelAnimationFrame,!Mn)for(var a=["ms","moz","webkit","o"],u=0;u<a.length;u++){var f=a[u];Mn=c["".concat(f,"RequestAnimationFrame")],Ar=c["".concat(f,"CancelAnimationFrame")]||c["".concat(f,"CancelRequestAnimationFrame")]}Mn=Mn&&Mn.bind(c),Ar=Ar&&Ar.bind(c),Mn||(Mn=function(p){var g=Date.now(),v=Math.max(0,16-(g-wp)),b=c.setTimeout(function(){p(g+v)},v);return wp=g+v,b},Ar=function(p){return clearTimeout(p)})}},ne={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(c){ne.isScrolling=!0,Kn.cancel(ne.i),c.autoScroll=ne,ne.interaction=c,ne.prevTime=ne.now(),ne.i=Kn.request(ne.scroll)},stop:function(){ne.isScrolling=!1,ne.interaction&&(ne.interaction.autoScroll=null),Kn.cancel(ne.i)},scroll:function(){var c=ne.interaction,a=c.interactable,u=c.element,f=c.prepared.name,p=a.options[f].autoScroll,g=xp(p.container,a,u),v=ne.now(),b=(v-ne.prevTime)/1e3,w=p.speed*b;if(w>=1){var C={x:ne.x*w,y:ne.y*w};if(C.x||C.y){var x=Dp(g);I.window(g)?g.scrollBy(C.x,C.y):g&&(g.scrollLeft+=C.x,g.scrollTop+=C.y);var E=Dp(g),M={x:E.x-x.x,y:E.y-x.y};(M.x||M.y)&&a.fire({type:"autoscroll",target:u,interactable:a,delta:M,interaction:c,container:g})}ne.prevTime=v}ne.isScrolling&&(Kn.cancel(ne.i),ne.i=Kn.request(ne.scroll))},check:function(c,a){var u;return(u=c.options[a].autoScroll)==null?void 0:u.enabled},onInteractionMove:function(c){var a=c.interaction,u=c.pointer;if(a.interacting()&&ne.check(a.interactable,a.prepared.name))if(a.simulation)ne.x=ne.y=0;else{var f,p,g,v,b=a.interactable,w=a.element,C=a.prepared.name,x=b.options[C].autoScroll,E=xp(x.container,b,w);if(I.window(E))v=u.clientX<ne.margin,f=u.clientY<ne.margin,p=u.clientX>E.innerWidth-ne.margin,g=u.clientY>E.innerHeight-ne.margin;else{var M=ml(E);v=u.clientX<M.left+ne.margin,f=u.clientY<M.top+ne.margin,p=u.clientX>M.right-ne.margin,g=u.clientY>M.bottom-ne.margin}ne.x=p?1:v?-1:0,ne.y=g?1:f?-1:0,ne.isScrolling||(ne.margin=x.margin,ne.speed=x.speed,ne.start(a))}}};function xp(c,a,u){return(I.string(c)?op(c,a,u):c)||fe(u)}function Dp(c){return I.window(c)&&(c=window.document.body),{x:c.scrollLeft,y:c.scrollTop}}var rw={id:"auto-scroll",install:function(c){var a=c.defaults,u=c.actions;c.autoScroll=ne,ne.now=function(){return c.now()},u.phaselessTypes.autoscroll=!0,a.perAction.autoScroll=ne.defaults},listeners:{"interactions:new":function(c){c.interaction.autoScroll=null},"interactions:destroy":function(c){c.interaction.autoScroll=null,ne.stop(),ne.interaction&&(ne.interaction=null)},"interactions:stop":ne.stop,"interactions:action-move":function(c){return ne.onInteractionMove(c)}}},iw=rw;function To(c,a){var u=!1;return function(){return u||(R.console.warn(a),u=!0),c.apply(this,arguments)}}function Il(c,a){return c.name=a.name,c.axis=a.axis,c.edges=a.edges,c}function ow(c){return I.bool(c)?(this.options.styleCursor=c,this):c===null?(delete this.options.styleCursor,this):this.options.styleCursor}function sw(c){return I.func(c)?(this.options.actionChecker=c,this):c===null?(delete this.options.actionChecker,this):this.options.actionChecker}var aw={id:"auto-start/interactableMethods",install:function(c){var a=c.Interactable;a.prototype.getAction=function(u,f,p,g){var v=function(b,w,C,x,E){var M=b.getRect(x),N=w.buttons||{0:1,1:4,3:8,4:16}[w.button],A={action:null,interactable:b,interaction:C,element:x,rect:M,buttons:N};return E.fire("auto-start:check",A),A.action}(this,f,p,g,c);return this.options.actionChecker?this.options.actionChecker(u,f,v,this,g,p):v},a.prototype.ignoreFrom=To(function(u){return this._backCompatOption("ignoreFrom",u)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),a.prototype.allowFrom=To(function(u){return this._backCompatOption("allowFrom",u)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),a.prototype.actionChecker=sw,a.prototype.styleCursor=ow}};function Cp(c,a,u,f,p){return a.testIgnoreAllow(a.options[c.name],u,f)&&a.options[c.name].enabled&&Xs(a,u,c,p)?c:null}function cw(c,a,u,f,p,g,v){for(var b=0,w=f.length;b<w;b++){var C=f[b],x=p[b],E=C.getAction(a,u,c,x);if(E){var M=Cp(E,C,x,g,v);if(M)return{action:M,interactable:C,element:x}}}return{action:null,interactable:null,element:null}}function _p(c,a,u,f,p){var g=[],v=[],b=f;function w(x){g.push(x),v.push(b)}for(;I.element(b);){g=[],v=[],p.interactables.forEachMatch(b,w);var C=cw(c,a,u,g,v,f,p);if(C.action&&!C.interactable.options[C.action.name].manualStart)return C;b=In(b)}return{action:null,interactable:null,element:null}}function Ep(c,a,u){var f=a.action,p=a.interactable,g=a.element;f=f||{name:null},c.interactable=p,c.element=g,Il(c.prepared,f),c.rect=p&&f.name?p.getRect(g):null,Ip(c,u),u.fire("autoStart:prepared",{interaction:c})}function Xs(c,a,u,f){var p=c.options,g=p[u.name].max,v=p[u.name].maxPerElement,b=f.autoStart.maxInteractions,w=0,C=0,x=0;if(!(g&&v&&b))return!1;for(var E=0,M=f.interactions.list;E<M.length;E++){var N=M[E],A=N.prepared.name;if(N.interacting()&&(++w>=b||N.interactable===c&&((C+=A===u.name?1:0)>=g||N.element===a&&(x++,A===u.name&&x>=v))))return!1}return b>0}function Sp(c,a){return I.number(c)?(a.autoStart.maxInteractions=c,this):a.autoStart.maxInteractions}function Ml(c,a,u){var f=u.autoStart.cursorElement;f&&f!==c&&(f.style.cursor=""),c.ownerDocument.documentElement.style.cursor=a,c.style.cursor=a,u.autoStart.cursorElement=a?c:null}function Ip(c,a){var u=c.interactable,f=c.element,p=c.prepared;if(c.pointerType==="mouse"&&u&&u.options.styleCursor){var g="";if(p.name){var v=u.options[p.name].cursorChecker;g=I.func(v)?v(p,u,f,c._interacting):a.actions.map[p.name].getCursor(p)}Ml(c.element,g||"",a)}else a.autoStart.cursorElement&&Ml(a.autoStart.cursorElement,"",a)}var lw={id:"auto-start/base",before:["actions"],install:function(c){var a=c.interactStatic,u=c.defaults;c.usePlugin(aw),u.base.actionChecker=null,u.base.styleCursor=!0,z(u.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),a.maxInteractions=function(f){return Sp(f,c)},c.autoStart={maxInteractions:1/0,withinInteractionLimit:Xs,cursorElement:null}},listeners:{"interactions:down":function(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget;u.interacting()||Ep(u,_p(u,f,p,g,a),a)},"interactions:move":function(c,a){(function(u,f){var p=u.interaction,g=u.pointer,v=u.event,b=u.eventTarget;p.pointerType!=="mouse"||p.pointerIsDown||p.interacting()||Ep(p,_p(p,g,v,b,f),f)})(c,a),function(u,f){var p=u.interaction;if(p.pointerIsDown&&!p.interacting()&&p.pointerWasMoved&&p.prepared.name){f.fire("autoStart:before-start",u);var g=p.interactable,v=p.prepared.name;v&&g&&(g.options[v].manualStart||!Xs(g,p.element,p.prepared,f)?p.stop():(p.start(p.prepared,g,p.element),Ip(p,f)))}}(c,a)},"interactions:stop":function(c,a){var u=c.interaction,f=u.interactable;f&&f.options.styleCursor&&Ml(u.element,"",a)}},maxInteractions:Sp,withinInteractionLimit:Xs,validateAction:Cp},Tl=lw,uw={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(c,a){var u=c.interaction,f=c.eventTarget,p=c.dx,g=c.dy;if(u.prepared.name==="drag"){var v=Math.abs(p),b=Math.abs(g),w=u.interactable.options.drag,C=w.startAxis,x=v>b?"x":v<b?"y":"xy";if(u.prepared.axis=w.lockAxis==="start"?x[0]:w.lockAxis,x!=="xy"&&C!=="xy"&&C!==x){u.prepared.name=null;for(var E=f,M=function(A){if(A!==u.interactable){var O=u.interactable.options.drag;if(!O.manualStart&&A.testIgnoreAllow(O,E,f)){var $=A.getAction(u.downPointer,u.downEvent,u,E);if($&&$.name==="drag"&&function(j,U){if(!U)return!1;var ce=U.options.drag.startAxis;return j==="xy"||ce==="xy"||ce===j}(x,A)&&Tl.validateAction($,A,E,f,a))return A}}};I.element(E);){var N=a.interactables.forEachMatch(E,M);if(N){u.prepared.name="drag",u.interactable=N,u.element=E;break}E=In(E)}}}}}};function Al(c){var a=c.prepared&&c.prepared.name;if(!a)return null;var u=c.interactable.options;return u[a].hold||u[a].delay}var dw={id:"auto-start/hold",install:function(c){var a=c.defaults;c.usePlugin(Tl),a.perAction.hold=0,a.perAction.delay=0},listeners:{"interactions:new":function(c){c.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(c){var a=c.interaction,u=Al(a);u>0&&(a.autoStartHoldTimer=setTimeout(function(){a.start(a.prepared,a.interactable,a.element)},u))},"interactions:move":function(c){var a=c.interaction,u=c.duplicate;a.autoStartHoldTimer&&a.pointerWasMoved&&!u&&(clearTimeout(a.autoStartHoldTimer),a.autoStartHoldTimer=null)},"autoStart:before-start":function(c){var a=c.interaction;Al(a)>0&&(a.prepared.name=null)}},getHoldDuration:Al},fw=dw,hw={id:"auto-start",install:function(c){c.usePlugin(Tl),c.usePlugin(fw),c.usePlugin(uw)}},pw=function(c){return/^(always|never|auto)$/.test(c)?(this.options.preventDefault=c,this):I.bool(c)?(this.options.preventDefault=c?"always":"never",this):this.options.preventDefault};function mw(c){var a=c.interaction,u=c.event;a.interactable&&a.interactable.checkAndPreventDefault(u)}var Mp={id:"core/interactablePreventDefault",install:function(c){var a=c.Interactable;a.prototype.preventDefault=pw,a.prototype.checkAndPreventDefault=function(u){return function(f,p,g){var v=f.options.preventDefault;if(v!=="never")if(v!=="always"){if(p.events.supportsPassive&&/^touch(start|move)$/.test(g.type)){var b=fe(g.target).document,w=p.getDocOptions(b);if(!w||!w.events||w.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(g.type)||I.element(g.target)&&Xn(g.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||g.preventDefault()}else g.preventDefault()}(this,c,u)},c.interactions.docEvents.push({type:"dragstart",listener:function(u){for(var f=0,p=c.interactions.list;f<p.length;f++){var g=p[f];if(g.element&&(g.element===u.target||Mr(g.element,u.target)))return void g.interactable.checkAndPreventDefault(u)}}})},listeners:["down","move","up","cancel"].reduce(function(c,a){return c["interactions:".concat(a)]=mw,c},{})};function Ks(c,a){if(a.phaselessTypes[c])return!0;for(var u in a.map)if(c.indexOf(u)===0&&c.substr(u.length)in a.phases)return!0;return!1}function mi(c){var a={};for(var u in c){var f=c[u];I.plainObject(f)?a[u]=mi(f):I.array(f)?a[u]=pp(f):a[u]=f}return a}var Nl=function(){function c(a){r(this,c),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=a,this.result=Qs(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return o(c,[{key:"start",value:function(a,u){var f,p,g=a.phase,v=this.interaction,b=function(C){var x=C.interactable.options[C.prepared.name],E=x.modifiers;return E&&E.length?E:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(M){var N=x[M];return N&&N.enabled&&{options:N,methods:N._methods}}).filter(function(M){return!!M})}(v);this.prepareStates(b),this.startEdges=z({},v.edges),this.edges=z({},this.startEdges),this.startOffset=(f=v.rect,p=u,f?{left:p.x-f.left,top:p.y-f.top,right:f.right-p.x,bottom:f.bottom-p.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var w=this.fillArg({phase:g,pageCoords:u,preEnd:!1});return this.result=Qs(),this.startAll(w),this.result=this.setAll(w)}},{key:"fillArg",value:function(a){var u=this.interaction;return a.interaction=u,a.interactable=u.interactable,a.element=u.element,a.rect||(a.rect=u.rect),a.edges||(a.edges=this.startEdges),a.startOffset=this.startOffset,a}},{key:"startAll",value:function(a){for(var u=0,f=this.states;u<f.length;u++){var p=f[u];p.methods.start&&(a.state=p,p.methods.start(a))}}},{key:"setAll",value:function(a){var u=a.phase,f=a.preEnd,p=a.skipModifiers,g=a.rect,v=a.edges;a.coords=z({},a.pageCoords),a.rect=z({},g),a.edges=z({},v);for(var b=p?this.states.slice(p):this.states,w=Qs(a.coords,a.rect),C=0;C<b.length;C++){var x,E=b[C],M=E.options,N=z({},a.coords),A=null;(x=E.methods)!=null&&x.set&&this.shouldDo(M,f,u)&&(a.state=E,A=E.methods.set(a),zs(a.edges,a.rect,{x:a.coords.x-N.x,y:a.coords.y-N.y})),w.eventProps.push(A)}z(this.edges,a.edges),w.delta.x=a.coords.x-a.pageCoords.x,w.delta.y=a.coords.y-a.pageCoords.y,w.rectDelta.left=a.rect.left-g.left,w.rectDelta.right=a.rect.right-g.right,w.rectDelta.top=a.rect.top-g.top,w.rectDelta.bottom=a.rect.bottom-g.bottom;var O=this.result.coords,$=this.result.rect;if(O&&$){var j=w.rect.left!==$.left||w.rect.right!==$.right||w.rect.top!==$.top||w.rect.bottom!==$.bottom;w.changed=j||O.x!==w.coords.x||O.y!==w.coords.y}return w}},{key:"applyToInteraction",value:function(a){var u=this.interaction,f=a.phase,p=u.coords.cur,g=u.coords.start,v=this.result,b=this.startDelta,w=v.delta;f==="start"&&z(this.startDelta,v.delta);for(var C=0,x=[[g,b],[p,w]];C<x.length;C++){var E=x[C],M=E[0],N=E[1];M.page.x+=N.x,M.page.y+=N.y,M.client.x+=N.x,M.client.y+=N.y}var A=this.result.rectDelta,O=a.rect||u.rect;O.left+=A.left,O.right+=A.right,O.top+=A.top,O.bottom+=A.bottom,O.width=O.right-O.left,O.height=O.bottom-O.top}},{key:"setAndApply",value:function(a){var u=this.interaction,f=a.phase,p=a.preEnd,g=a.skipModifiers,v=this.setAll(this.fillArg({preEnd:p,phase:f,pageCoords:a.modifiedCoords||u.coords.cur.page}));if(this.result=v,!v.changed&&(!g||g<this.states.length)&&u.interacting())return!1;if(a.modifiedCoords){var b=u.coords.cur.page,w={x:a.modifiedCoords.x-b.x,y:a.modifiedCoords.y-b.y};v.coords.x+=w.x,v.coords.y+=w.y,v.delta.x+=w.x,v.delta.y+=w.y}this.applyToInteraction(a)}},{key:"beforeEnd",value:function(a){var u=a.interaction,f=a.event,p=this.states;if(p&&p.length){for(var g=!1,v=0;v<p.length;v++){var b=p[v];a.state=b;var w=b.options,C=b.methods,x=C.beforeEnd&&C.beforeEnd(a);if(x)return this.endResult=x,!1;g=g||!g&&this.shouldDo(w,!0,a.phase,!0)}g&&u.move({event:f,preEnd:!0})}}},{key:"stop",value:function(a){var u=a.interaction;if(this.states&&this.states.length){var f=z({states:this.states,interactable:u.interactable,element:u.element,rect:null},a);this.fillArg(f);for(var p=0,g=this.states;p<g.length;p++){var v=g[p];f.state=v,v.methods.stop&&v.methods.stop(f)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(a){this.states=[];for(var u=0;u<a.length;u++){var f=a[u],p=f.options,g=f.methods,v=f.name;this.states.push({options:p,methods:g,index:u,name:v})}return this.states}},{key:"restoreInteractionCoords",value:function(a){var u=a.interaction,f=u.coords,p=u.rect,g=u.modification;if(g.result){for(var v=g.startDelta,b=g.result,w=b.delta,C=b.rectDelta,x=0,E=[[f.start,v],[f.cur,w]];x<E.length;x++){var M=E[x],N=M[0],A=M[1];N.page.x-=A.x,N.page.y-=A.y,N.client.x-=A.x,N.client.y-=A.y}p.left-=C.left,p.right-=C.right,p.top-=C.top,p.bottom-=C.bottom}}},{key:"shouldDo",value:function(a,u,f,p){return!(!a||a.enabled===!1||p&&!a.endOnly||a.endOnly&&!u||f==="start"&&!a.setStart)}},{key:"copyFrom",value:function(a){this.startOffset=a.startOffset,this.startDelta=a.startDelta,this.startEdges=a.startEdges,this.edges=a.edges,this.states=a.states.map(function(u){return mi(u)}),this.result=Qs(z({},a.result.coords),z({},a.result.rect))}},{key:"destroy",value:function(){for(var a in this)this[a]=null}}]),c}();function Qs(c,a){return{rect:a,coords:c,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Qn(c,a){var u=c.defaults,f={start:c.start,set:c.set,beforeEnd:c.beforeEnd,stop:c.stop},p=function(g){var v=g||{};for(var b in v.enabled=v.enabled!==!1,u)b in v||(v[b]=u[b]);var w={options:v,methods:f,name:a,enable:function(){return v.enabled=!0,w},disable:function(){return v.enabled=!1,w}};return w};return a&&typeof a=="string"&&(p._defaults=u,p._methods=f),p}function Ao(c){var a=c.iEvent,u=c.interaction.modification.result;u&&(a.modifiers=u.eventProps)}var gw={id:"modifiers/base",before:["actions"],install:function(c){c.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(c){var a=c.interaction;a.modification=new Nl(a)},"interactions:before-action-start":function(c){var a=c.interaction,u=c.interaction.modification;u.start(c,a.coords.start.page),a.edges=u.edges,u.applyToInteraction(c)},"interactions:before-action-move":function(c){var a=c.interaction,u=a.modification,f=u.setAndApply(c);return a.edges=u.edges,f},"interactions:before-action-end":function(c){var a=c.interaction,u=a.modification,f=u.beforeEnd(c);return a.edges=u.startEdges,f},"interactions:action-start":Ao,"interactions:action-move":Ao,"interactions:action-end":Ao,"interactions:after-action-start":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:after-action-move":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:stop":function(c){return c.interaction.modification.stop(c)}}},Tp=gw,Ap={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Ol=function(c){l(u,c);var a=m(u);function u(f,p,g,v,b,w,C){var x;r(this,u),(x=a.call(this,f)).relatedTarget=null,x.screenX=void 0,x.screenY=void 0,x.button=void 0,x.buttons=void 0,x.ctrlKey=void 0,x.shiftKey=void 0,x.altKey=void 0,x.metaKey=void 0,x.page=void 0,x.client=void 0,x.delta=void 0,x.rect=void 0,x.x0=void 0,x.y0=void 0,x.t0=void 0,x.dt=void 0,x.duration=void 0,x.clientX0=void 0,x.clientY0=void 0,x.velocity=void 0,x.speed=void 0,x.swipe=void 0,x.axes=void 0,x.preEnd=void 0,b=b||f.element;var E=f.interactable,M=(E&&E.options||Ap).deltaSource,N=_o(E,b,g),A=v==="start",O=v==="end",$=A?y(x):f.prevEvent,j=A?f.coords.start:O?{page:$.page,client:$.client,timeStamp:f.coords.cur.timeStamp}:f.coords.cur;return x.page=z({},j.page),x.client=z({},j.client),x.rect=z({},f.rect),x.timeStamp=j.timeStamp,O||(x.page.x-=N.x,x.page.y-=N.y,x.client.x-=N.x,x.client.y-=N.y),x.ctrlKey=p.ctrlKey,x.altKey=p.altKey,x.shiftKey=p.shiftKey,x.metaKey=p.metaKey,x.button=p.button,x.buttons=p.buttons,x.target=b,x.currentTarget=b,x.preEnd=w,x.type=C||g+(v||""),x.interactable=E,x.t0=A?f.pointers[f.pointers.length-1].downTime:$.t0,x.x0=f.coords.start.page.x-N.x,x.y0=f.coords.start.page.y-N.y,x.clientX0=f.coords.start.client.x-N.x,x.clientY0=f.coords.start.client.y-N.y,x.delta=A||O?{x:0,y:0}:{x:x[M].x-$[M].x,y:x[M].y-$[M].y},x.dt=f.coords.delta.timeStamp,x.duration=x.timeStamp-x.t0,x.velocity=z({},f.coords.velocity[M]),x.speed=Eo(x.velocity.x,x.velocity.y),x.swipe=O||v==="inertiastart"?x.getSwipe():null,x}return o(u,[{key:"getSwipe",value:function(){var f=this._interaction;if(f.prevEvent.speed<600||this.timeStamp-f.prevEvent.timeStamp>150)return null;var p=180*Math.atan2(f.prevEvent.velocityY,f.prevEvent.velocityX)/Math.PI;p<0&&(p+=360);var g=112.5<=p&&p<247.5,v=202.5<=p&&p<337.5;return{up:v,down:!v&&22.5<=p&&p<157.5,left:g,right:!g&&(292.5<=p||p<67.5),angle:p,speed:f.prevEvent.speed,velocity:{x:f.prevEvent.velocityX,y:f.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),u}(Ys);Object.defineProperties(Ol.prototype,{pageX:{get:function(){return this.page.x},set:function(c){this.page.x=c}},pageY:{get:function(){return this.page.y},set:function(c){this.page.y=c}},clientX:{get:function(){return this.client.x},set:function(c){this.client.x=c}},clientY:{get:function(){return this.client.y},set:function(c){this.client.y=c}},dx:{get:function(){return this.delta.x},set:function(c){this.delta.x=c}},dy:{get:function(){return this.delta.y},set:function(c){this.delta.y=c}},velocityX:{get:function(){return this.velocity.x},set:function(c){this.velocity.x=c}},velocityY:{get:function(){return this.velocity.y},set:function(c){this.velocity.y=c}}});var vw=o(function c(a,u,f,p,g){r(this,c),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=a,this.pointer=u,this.event=f,this.downTime=p,this.downTarget=g}),yw=function(c){return c.interactable="",c.element="",c.prepared="",c.pointerIsDown="",c.pointerWasMoved="",c._proxy="",c}({}),Np=function(c){return c.start="",c.move="",c.end="",c.stop="",c.interacting="",c}({}),bw=0,ww=function(){function c(a){var u=this,f=a.pointerType,p=a.scopeFire;r(this,c),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=To(function(x){this.move(x)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=bw++,this._scopeFire=p,this.pointerType=f;var g=this;this._proxy={};var v=function(x){Object.defineProperty(u._proxy,x,{get:function(){return g[x]}})};for(var b in yw)v(b);var w=function(x){Object.defineProperty(u._proxy,x,{value:function(){return g[x].apply(g,arguments)}})};for(var C in Np)w(C);this._scopeFire("interactions:new",{interaction:this})}return o(c,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(a,u,f){var p=this.updatePointer(a,u,f,!0),g=this.pointers[p];this._scopeFire("interactions:down",{pointer:a,event:u,eventTarget:f,pointerIndex:p,pointerInfo:g,type:"down",interaction:this})}},{key:"start",value:function(a,u,f){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(a.name==="gesture"?2:1)||!u.options[a.name].enabled)&&(Il(this.prepared,a),this.interactable=u,this.element=f,this.rect=u.getRect(f),this.edges=this.prepared.edges?z({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(a,u,f){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(a,u,f,!1);var p,g,v=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(p=this.coords.cur.client.x-this.coords.start.client.x,g=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Eo(p,g)>this.pointerMoveTolerance);var b,w,C,x=this.getPointerIndex(a),E={pointer:a,pointerIndex:x,pointerInfo:this.pointers[x],event:u,type:"move",eventTarget:f,dx:p,dy:g,duplicate:v,interaction:this};v||(b=this.coords.velocity,w=this.coords.delta,C=Math.max(w.timeStamp/1e3,.001),b.page.x=w.page.x/C,b.page.y=w.page.y/C,b.client.x=w.client.x/C,b.client.y=w.client.y/C,b.timeStamp=C),this._scopeFire("interactions:move",E),v||this.simulation||(this.interacting()&&(E.type=null,this.move(E)),this.pointerWasMoved&&Ws(this.coords.prev,this.coords.cur))}},{key:"move",value:function(a){a&&a.event||ap(this.coords.delta),(a=z({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},a||{})).phase="move",this._doPhase(a)}},{key:"pointerUp",value:function(a,u,f,p){var g=this.getPointerIndex(a);g===-1&&(g=this.updatePointer(a,u,f,!1));var v=/cancel$/i.test(u.type)?"cancel":"up";this._scopeFire("interactions:".concat(v),{pointer:a,pointerIndex:g,pointerInfo:this.pointers[g],event:u,eventTarget:f,type:v,curEventTarget:p,interaction:this}),this.simulation||this.end(u),this.removePointer(a,u)}},{key:"documentBlur",value:function(a){this.end(a),this._scopeFire("interactions:blur",{event:a,type:"blur",interaction:this})}},{key:"end",value:function(a){var u;this._ending=!0,a=a||this._latestPointer.event,this.interacting()&&(u=this._doPhase({event:a,interaction:this,phase:"end"})),this._ending=!1,u===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(a){var u=So(a);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Io(this.pointers,function(f){return f.id===u})}},{key:"getPointerInfo",value:function(a){return this.pointers[this.getPointerIndex(a)]}},{key:"updatePointer",value:function(a,u,f,p){var g,v,b,w=So(a),C=this.getPointerIndex(a),x=this.pointers[C];return p=p!==!1&&(p||/(down|start)$/i.test(u.type)),x?x.pointer=a:(x=new vw(w,a,u,null,null),C=this.pointers.length,this.pointers.push(x)),Qb(this.coords.cur,this.pointers.map(function(E){return E.pointer}),this._now()),g=this.coords.delta,v=this.coords.prev,b=this.coords.cur,g.page.x=b.page.x-v.page.x,g.page.y=b.page.y-v.page.y,g.client.x=b.client.x-v.client.x,g.client.y=b.client.y-v.client.y,g.timeStamp=b.timeStamp-v.timeStamp,p&&(this.pointerIsDown=!0,x.downTime=this.coords.cur.timeStamp,x.downTarget=f,Gs(this.downPointer,a),this.interacting()||(Ws(this.coords.start,this.coords.cur),Ws(this.coords.prev,this.coords.cur),this.downEvent=u,this.pointerWasMoved=!1)),this._updateLatestPointer(a,u,f),this._scopeFire("interactions:update-pointer",{pointer:a,event:u,eventTarget:f,down:p,pointerInfo:x,pointerIndex:C,interaction:this}),C}},{key:"removePointer",value:function(a,u){var f=this.getPointerIndex(a);if(f!==-1){var p=this.pointers[f];this._scopeFire("interactions:remove-pointer",{pointer:a,event:u,eventTarget:null,pointerIndex:f,pointerInfo:p,interaction:this}),this.pointers.splice(f,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(a,u,f){this._latestPointer.pointer=a,this._latestPointer.event=u,this._latestPointer.eventTarget=f}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(a,u,f,p){return new Ol(this,a,this.prepared.name,u,this.element,f,p)}},{key:"_fireEvent",value:function(a){var u;(u=this.interactable)==null||u.fire(a),(!this.prevEvent||a.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=a)}},{key:"_doPhase",value:function(a){var u=a.event,f=a.phase,p=a.preEnd,g=a.type,v=this.rect;if(v&&f==="move"&&(zs(this.edges,v,this.coords.delta[this.interactable.options.deltaSource]),v.width=v.right-v.left,v.height=v.bottom-v.top),this._scopeFire("interactions:before-action-".concat(f),a)===!1)return!1;var b=a.iEvent=this._createPreparedEvent(u,f,p,g);return this._scopeFire("interactions:action-".concat(f),a),f==="start"&&(this.prevEvent=b),this._fireEvent(b),this._scopeFire("interactions:after-action-".concat(f),a),!0}},{key:"_now",value:function(){return Date.now()}}]),c}();function Op(c){Rp(c.interaction)}function Rp(c){if(!function(u){return!(!u.offset.pending.x&&!u.offset.pending.y)}(c))return!1;var a=c.offset.pending;return Rl(c.coords.cur,a),Rl(c.coords.delta,a),zs(c.edges,c.rect,a),a.x=0,a.y=0,!0}function xw(c){var a=c.x,u=c.y;this.offset.pending.x+=a,this.offset.pending.y+=u,this.offset.total.x+=a,this.offset.total.y+=u}function Rl(c,a){var u=c.page,f=c.client,p=a.x,g=a.y;u.x+=p,u.y+=g,f.x+=p,f.y+=g}Np.offsetBy="";var Dw={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(c){c.Interaction.prototype.offsetBy=xw},listeners:{"interactions:new":function(c){c.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(c){return function(a){a.pointerIsDown&&(Rl(a.coords.cur,a.offset.total),a.offset.pending.x=0,a.offset.pending.y=0)}(c.interaction)},"interactions:before-action-start":Op,"interactions:before-action-move":Op,"interactions:before-action-end":function(c){var a=c.interaction;if(Rp(a))return a.move({offset:!0}),a.end(),!1},"interactions:stop":function(c){var a=c.interaction;a.offset.total.x=0,a.offset.total.y=0,a.offset.pending.x=0,a.offset.pending.y=0}}},Pp=Dw,Cw=function(){function c(a){r(this,c),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=a}return o(c,[{key:"start",value:function(a){var u=this.interaction,f=Zs(u);if(!f||!f.enabled)return!1;var p=u.coords.velocity.client,g=Eo(p.x,p.y),v=this.modification||(this.modification=new Nl(u));if(v.copyFrom(u.modification),this.t0=u._now(),this.allowResume=f.allowResume,this.v0=g,this.currentOffset={x:0,y:0},this.startCoords=u.coords.cur.page,this.modifierArg=v.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-u.coords.cur.timeStamp<50&&g>f.minSpeed&&g>f.endSpeed)this.startInertia();else{if(v.result=v.setAll(this.modifierArg),!v.result.changed)return!1;this.startSmoothEnd()}return u.modification.result.rect=null,u.offsetBy(this.targetOffset),u._doPhase({interaction:u,event:a,phase:"inertiastart"}),u.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),u.modification.result.rect=null,this.active=!0,u.simulation=this,!0}},{key:"startInertia",value:function(){var a=this,u=this.interaction.coords.velocity.client,f=Zs(this.interaction),p=f.resistance,g=-Math.log(f.endSpeed/this.v0)/p;this.targetOffset={x:(u.x-g)/p,y:(u.y-g)/p},this.te=g,this.lambda_v0=p/this.v0,this.one_ve_v0=1-f.endSpeed/this.v0;var v=this.modification,b=this.modifierArg;b.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},v.result=v.setAll(b),v.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+v.result.delta.x,y:this.targetOffset.y+v.result.delta.y}),this.onNextFrame(function(){return a.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var a=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return a.smoothEndTick()})}},{key:"onNextFrame",value:function(a){var u=this;this.timeout=Kn.request(function(){u.active&&a()})}},{key:"inertiaTick",value:function(){var a,u,f,p,g,v,b,w=this,C=this.interaction,x=Zs(C).resistance,E=(C._now()-this.t0)/1e3;if(E<this.te){var M,N=1-(Math.exp(-x*E)-this.lambda_v0)/this.one_ve_v0;this.isModified?(a=0,u=0,f=this.targetOffset.x,p=this.targetOffset.y,g=this.modifiedOffset.x,v=this.modifiedOffset.y,M={x:kp(b=N,a,f,g),y:kp(b,u,p,v)}):M={x:this.targetOffset.x*N,y:this.targetOffset.y*N};var A={x:M.x-this.currentOffset.x,y:M.y-this.currentOffset.y};this.currentOffset.x+=A.x,this.currentOffset.y+=A.y,C.offsetBy(A),C.move(),this.onNextFrame(function(){return w.inertiaTick()})}else C.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var a=this,u=this.interaction,f=u._now()-this.t0,p=Zs(u).smoothEndDuration;if(f<p){var g={x:Fp(f,0,this.targetOffset.x,p),y:Fp(f,0,this.targetOffset.y,p)},v={x:g.x-this.currentOffset.x,y:g.y-this.currentOffset.y};this.currentOffset.x+=v.x,this.currentOffset.y+=v.y,u.offsetBy(v),u.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return a.smoothEndTick()})}else u.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(a){var u=a.pointer,f=a.event,p=a.eventTarget,g=this.interaction;g.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),g.updatePointer(u,f,p,!0),g._doPhase({interaction:g,event:f,phase:"resume"}),Ws(g.coords.prev,g.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Kn.cancel(this.timeout)}}]),c}();function Zs(c){var a=c.interactable,u=c.prepared;return a&&a.options&&u.name&&a.options[u.name].inertia}var _w={id:"inertia",before:["modifiers","actions"],install:function(c){var a=c.defaults;c.usePlugin(Pp),c.usePlugin(Tp),c.actions.phases.inertiastart=!0,c.actions.phases.resume=!0,a.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(c){var a=c.interaction;a.inertia=new Cw(a)},"interactions:before-action-end":function(c){var a=c.interaction,u=c.event;return(!a._interacting||a.simulation||!a.inertia.start(u))&&null},"interactions:down":function(c){var a=c.interaction,u=c.eventTarget,f=a.inertia;if(f.active)for(var p=u;I.element(p);){if(p===a.element){f.resume(c);break}p=In(p)}},"interactions:stop":function(c){var a=c.interaction.inertia;a.active&&a.stop()},"interactions:before-action-resume":function(c){var a=c.interaction.modification;a.stop(c),a.start(c,c.interaction.coords.cur.page),a.applyToInteraction(c)},"interactions:before-action-inertiastart":function(c){return c.interaction.modification.setAndApply(c)},"interactions:action-resume":Ao,"interactions:action-inertiastart":Ao,"interactions:after-action-inertiastart":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:after-action-resume":function(c){return c.interaction.modification.restoreInteractionCoords(c)}}};function kp(c,a,u,f){var p=1-c;return p*p*a+2*p*c*u+c*c*f}function Fp(c,a,u,f){return-u*(c/=f)*(c-2)+a}var Ew=_w;function Lp(c,a){for(var u=0;u<a.length;u++){var f=a[u];if(c.immediatePropagationStopped)break;f(c)}}var jp=function(){function c(a){r(this,c),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=z({},a||{})}return o(c,[{key:"fire",value:function(a){var u,f=this.global;(u=this.types[a.type])&&Lp(a,u),!a.propagationStopped&&f&&(u=f[a.type])&&Lp(a,u)}},{key:"on",value:function(a,u){var f=Tr(a,u);for(a in f)this.types[a]=hp(this.types[a]||[],f[a])}},{key:"off",value:function(a,u){var f=Tr(a,u);for(a in f){var p=this.types[a];if(p&&p.length)for(var g=0,v=f[a];g<v.length;g++){var b=v[g],w=p.indexOf(b);w!==-1&&p.splice(w,1)}}}},{key:"getRect",value:function(a){return null}}]),c}(),Sw=function(){function c(a){r(this,c),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=a,Gs(this,a)}return o(c,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),c}();function No(c){return I.object(c)?{capture:!!c.capture,passive:!!c.passive}:{capture:!!c,passive:!1}}function Js(c,a){return c===a||(typeof c=="boolean"?!!a.capture===c&&!a.passive:!!c.capture==!!a.capture&&!!c.passive==!!a.passive)}var Iw={id:"events",install:function(c){var a,u=[],f={},p=[],g={add:v,remove:b,addDelegate:function(x,E,M,N,A){var O=No(A);if(!f[M]){f[M]=[];for(var $=0;$<p.length;$++){var j=p[$];v(j,M,w),v(j,M,C,!0)}}var U=f[M],ce=Mo(U,function(ve){return ve.selector===x&&ve.context===E});ce||(ce={selector:x,context:E,listeners:[]},U.push(ce)),ce.listeners.push({func:N,options:O})},removeDelegate:function(x,E,M,N,A){var O,$=No(A),j=f[M],U=!1;if(j)for(O=j.length-1;O>=0;O--){var ce=j[O];if(ce.selector===x&&ce.context===E){for(var ve=ce.listeners,te=ve.length-1;te>=0;te--){var ue=ve[te];if(ue.func===N&&Js(ue.options,$)){ve.splice(te,1),ve.length||(j.splice(O,1),b(E,M,w),b(E,M,C,!0)),U=!0;break}}if(U)break}}},delegateListener:w,delegateUseCapture:C,delegatedEvents:f,documents:p,targets:u,supportsOptions:!1,supportsPassive:!1};function v(x,E,M,N){if(x.addEventListener){var A=No(N),O=Mo(u,function($){return $.eventTarget===x});O||(O={eventTarget:x,events:{}},u.push(O)),O.events[E]||(O.events[E]=[]),Mo(O.events[E],function($){return $.func===M&&Js($.options,A)})||(x.addEventListener(E,M,g.supportsOptions?A:A.capture),O.events[E].push({func:M,options:A}))}}function b(x,E,M,N){if(x.addEventListener&&x.removeEventListener){var A=Io(u,function(mt){return mt.eventTarget===x}),O=u[A];if(O&&O.events)if(E!=="all"){var $=!1,j=O.events[E];if(j){if(M==="all"){for(var U=j.length-1;U>=0;U--){var ce=j[U];b(x,E,ce.func,ce.options)}return}for(var ve=No(N),te=0;te<j.length;te++){var ue=j[te];if(ue.func===M&&Js(ue.options,ve)){x.removeEventListener(E,M,g.supportsOptions?ve:ve.capture),j.splice(te,1),j.length===0&&(delete O.events[E],$=!0);break}}}$&&!Object.keys(O.events).length&&u.splice(A,1)}else for(E in O.events)O.events.hasOwnProperty(E)&&b(x,E,"all")}}function w(x,E){for(var M=No(E),N=new Sw(x),A=f[x.type],O=fp(x)[0],$=O;I.element($);){for(var j=0;j<A.length;j++){var U=A[j],ce=U.selector,ve=U.context;if(Xn($,ce)&&Mr(ve,O)&&Mr(ve,$)){var te=U.listeners;N.currentTarget=$;for(var ue=0;ue<te.length;ue++){var mt=te[ue];Js(mt.options,M)&&mt.func(N)}}}$=In($)}}function C(x){return w(x,!0)}return(a=c.document)==null||a.createElement("div").addEventListener("test",null,{get capture(){return g.supportsOptions=!0},get passive(){return g.supportsPassive=!0}}),c.events=g,g}},Pl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(c){for(var a=0,u=Pl.methodOrder;a<u.length;a++){var f=u[a],p=Pl[f](c);if(p)return p}return null},simulationResume:function(c){var a=c.pointerType,u=c.eventType,f=c.eventTarget,p=c.scope;if(!/down|start/i.test(u))return null;for(var g=0,v=p.interactions.list;g<v.length;g++){var b=v[g],w=f;if(b.simulation&&b.simulation.allowResume&&b.pointerType===a)for(;w;){if(w===b.element)return b;w=In(w)}}return null},mouseOrPen:function(c){var a,u=c.pointerId,f=c.pointerType,p=c.eventType,g=c.scope;if(f!=="mouse"&&f!=="pen")return null;for(var v=0,b=g.interactions.list;v<b.length;v++){var w=b[v];if(w.pointerType===f){if(w.simulation&&!Vp(w,u))continue;if(w.interacting())return w;a||(a=w)}}if(a)return a;for(var C=0,x=g.interactions.list;C<x.length;C++){var E=x[C];if(!(E.pointerType!==f||/down/i.test(p)&&E.simulation))return E}return null},hasPointer:function(c){for(var a=c.pointerId,u=0,f=c.scope.interactions.list;u<f.length;u++){var p=f[u];if(Vp(p,a))return p}return null},idle:function(c){for(var a=c.pointerType,u=0,f=c.scope.interactions.list;u<f.length;u++){var p=f[u];if(p.pointers.length===1){var g=p.interactable;if(g&&(!g.options.gesture||!g.options.gesture.enabled))continue}else if(p.pointers.length>=2)continue;if(!p.interacting()&&a===p.pointerType)return p}return null}};function Vp(c,a){return c.pointers.some(function(u){return u.id===a})}var Mw=Pl,kl=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Bp(c,a){return function(u){var f=a.interactions.list,p=dp(u),g=fp(u),v=g[0],b=g[1],w=[];if(/^touch/.test(u.type)){a.prevTouchTime=a.now();for(var C=0,x=u.changedTouches;C<x.length;C++){var E=x[C],M={pointer:E,pointerId:So(E),pointerType:p,eventType:u.type,eventTarget:v,curEventTarget:b,scope:a},N=$p(M);w.push([M.pointer,M.eventTarget,M.curEventTarget,N])}}else{var A=!1;if(!en.supportsPointerEvent&&/mouse/.test(u.type)){for(var O=0;O<f.length&&!A;O++)A=f[O].pointerType!=="mouse"&&f[O].pointerIsDown;A=A||a.now()-a.prevTouchTime<500||u.timeStamp===0}if(!A){var $={pointer:u,pointerId:So(u),pointerType:p,eventType:u.type,curEventTarget:b,eventTarget:v,scope:a},j=$p($);w.push([$.pointer,$.eventTarget,$.curEventTarget,j])}}for(var U=0;U<w.length;U++){var ce=w[U],ve=ce[0],te=ce[1],ue=ce[2];ce[3][c](ve,u,te,ue)}}}function $p(c){var a=c.pointerType,u=c.scope,f={interaction:Mw.search(c),searchDetails:c};return u.fire("interactions:find",f),f.interaction||u.interactions.new({pointerType:a})}function Fl(c,a){var u=c.doc,f=c.scope,p=c.options,g=f.interactions.docEvents,v=f.events,b=v[a];for(var w in f.browser.isIOS&&!p.events&&(p.events={passive:!1}),v.delegatedEvents)b(u,w,v.delegateListener),b(u,w,v.delegateUseCapture,!0);for(var C=p&&p.events,x=0;x<g.length;x++){var E=g[x];b(u,E.type,E.listener,C)}}var Tw={id:"core/interactions",install:function(c){for(var a={},u=0;u<kl.length;u++){var f=kl[u];a[f]=Bp(f,c)}var p,g=en.pEventTypes;function v(){for(var b=0,w=c.interactions.list;b<w.length;b++){var C=w[b];if(C.pointerIsDown&&C.pointerType==="touch"&&!C._interacting)for(var x=function(){var N=M[E];c.documents.some(function(A){return Mr(A.doc,N.downTarget)})||C.removePointer(N.pointer,N.event)},E=0,M=C.pointers;E<M.length;E++)x()}}(p=dt.PointerEvent?[{type:g.down,listener:v},{type:g.down,listener:a.pointerDown},{type:g.move,listener:a.pointerMove},{type:g.up,listener:a.pointerUp},{type:g.cancel,listener:a.pointerUp}]:[{type:"mousedown",listener:a.pointerDown},{type:"mousemove",listener:a.pointerMove},{type:"mouseup",listener:a.pointerUp},{type:"touchstart",listener:v},{type:"touchstart",listener:a.pointerDown},{type:"touchmove",listener:a.pointerMove},{type:"touchend",listener:a.pointerUp},{type:"touchcancel",listener:a.pointerUp}]).push({type:"blur",listener:function(b){for(var w=0,C=c.interactions.list;w<C.length;w++)C[w].documentBlur(b)}}),c.prevTouchTime=0,c.Interaction=function(b){l(C,b);var w=m(C);function C(){return r(this,C),w.apply(this,arguments)}return o(C,[{key:"pointerMoveTolerance",get:function(){return c.interactions.pointerMoveTolerance},set:function(x){c.interactions.pointerMoveTolerance=x}},{key:"_now",value:function(){return c.now()}}]),C}(ww),c.interactions={list:[],new:function(b){b.scopeFire=function(C,x){return c.fire(C,x)};var w=new c.Interaction(b);return c.interactions.list.push(w),w},listeners:a,docEvents:p,pointerMoveTolerance:1},c.usePlugin(Mp)},listeners:{"scope:add-document":function(c){return Fl(c,"add")},"scope:remove-document":function(c){return Fl(c,"remove")},"interactable:unset":function(c,a){for(var u=c.interactable,f=a.interactions.list.length-1;f>=0;f--){var p=a.interactions.list[f];p.interactable===u&&(p.stop(),a.fire("interactions:destroy",{interaction:p}),p.destroy(),a.interactions.list.length>2&&a.interactions.list.splice(f,1))}}},onDocSignal:Fl,doOnInteractions:Bp,methodNames:kl},Aw=Tw,Zn=function(c){return c[c.On=0]="On",c[c.Off=1]="Off",c}(Zn||{}),Nw=function(){function c(a,u,f,p){r(this,c),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new jp,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=u.actions,this.target=a,this._context=u.context||f,this._win=fe(ip(a)?this._context:a),this._doc=this._win.document,this._scopeEvents=p,this.set(u)}return o(c,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(a,u){return I.func(u.onstart)&&this.on("".concat(a,"start"),u.onstart),I.func(u.onmove)&&this.on("".concat(a,"move"),u.onmove),I.func(u.onend)&&this.on("".concat(a,"end"),u.onend),I.func(u.oninertiastart)&&this.on("".concat(a,"inertiastart"),u.oninertiastart),this}},{key:"updatePerActionListeners",value:function(a,u,f){var p,g=this,v=(p=this._actions.map[a])==null?void 0:p.filterEventType,b=function(w){return(v==null||v(w))&&Ks(w,g._actions)};(I.array(u)||I.object(u))&&this._onOff(Zn.Off,a,u,void 0,b),(I.array(f)||I.object(f))&&this._onOff(Zn.On,a,f,void 0,b)}},{key:"setPerAction",value:function(a,u){var f=this._defaults;for(var p in u){var g=p,v=this.options[a],b=u[g];g==="listeners"&&this.updatePerActionListeners(a,v.listeners,b),I.array(b)?v[g]=pp(b):I.plainObject(b)?(v[g]=z(v[g]||{},mi(b)),I.object(f.perAction[g])&&"enabled"in f.perAction[g]&&(v[g].enabled=b.enabled!==!1)):I.bool(b)&&I.object(f.perAction[g])?v[g].enabled=b:v[g]=b}}},{key:"getRect",value:function(a){return a=a||(I.element(this.target)?this.target:null),I.string(this.target)&&(a=a||this._context.querySelector(this.target)),gl(a)}},{key:"rectChecker",value:function(a){var u=this;return I.func(a)?(this.getRect=function(f){var p=z({},a.apply(u,f));return"width"in p||(p.width=p.right-p.left,p.height=p.bottom-p.top),p},this):a===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(a,u){if(ip(u)||I.object(u)){for(var f in this.options[a]=u,this._actions.map)this.options[f][a]=u;return this}return this.options[a]}},{key:"origin",value:function(a){return this._backCompatOption("origin",a)}},{key:"deltaSource",value:function(a){return a==="page"||a==="client"?(this.options.deltaSource=a,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var a=this.target;return I.string(a)?Array.from(this._context.querySelectorAll(a)):I.func(a)&&a.getAllElements?a.getAllElements():I.element(a)?[a]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(a){return this._context===a.ownerDocument||Mr(this._context,a)}},{key:"testIgnoreAllow",value:function(a,u,f){return!this.testIgnore(a.ignoreFrom,u,f)&&this.testAllow(a.allowFrom,u,f)}},{key:"testAllow",value:function(a,u,f){return!a||!!I.element(f)&&(I.string(a)?pl(f,a,u):!!I.element(a)&&Mr(a,f))}},{key:"testIgnore",value:function(a,u,f){return!(!a||!I.element(f))&&(I.string(a)?pl(f,a,u):!!I.element(a)&&Mr(a,f))}},{key:"fire",value:function(a){return this.events.fire(a),this}},{key:"_onOff",value:function(a,u,f,p,g){I.object(u)&&!I.array(u)&&(p=f,f=null);var v=Tr(u,f,g);for(var b in v){b==="wheel"&&(b=en.wheelEvent);for(var w=0,C=v[b];w<C.length;w++){var x=C[w];Ks(b,this._actions)?this.events[a===Zn.On?"on":"off"](b,x):I.string(this.target)?this._scopeEvents[a===Zn.On?"addDelegate":"removeDelegate"](this.target,this._context,b,x,p):this._scopeEvents[a===Zn.On?"add":"remove"](this.target,b,x,p)}}return this}},{key:"on",value:function(a,u,f){return this._onOff(Zn.On,a,u,f)}},{key:"off",value:function(a,u,f){return this._onOff(Zn.Off,a,u,f)}},{key:"set",value:function(a){var u=this._defaults;for(var f in I.object(a)||(a={}),this.options=mi(u.base),this._actions.methodDict){var p=f,g=this._actions.methodDict[p];this.options[p]={},this.setPerAction(p,z(z({},u.perAction),u.actions[p])),this[g](a[p])}for(var v in a)v!=="getRect"?I.func(this[v])&&this[v](a[v]):this.rectChecker(a.getRect);return this}},{key:"unset",value:function(){if(I.string(this.target))for(var a in this._scopeEvents.delegatedEvents)for(var u=this._scopeEvents.delegatedEvents[a],f=u.length-1;f>=0;f--){var p=u[f],g=p.selector,v=p.context,b=p.listeners;g===this.target&&v===this._context&&u.splice(f,1);for(var w=b.length-1;w>=0;w--)this._scopeEvents.removeDelegate(this.target,this._context,a,b[w][0],b[w][1])}else this._scopeEvents.remove(this.target,"all")}}]),c}(),Ow=function(){function c(a){var u=this;r(this,c),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=a,a.addListeners({"interactable:unset":function(f){var p=f.interactable,g=p.target,v=I.string(g)?u.selectorMap[g]:g[u.scope.id],b=Io(v,function(w){return w===p});v.splice(b,1)}})}return o(c,[{key:"new",value:function(a,u){u=z(u||{},{actions:this.scope.actions});var f=new this.scope.Interactable(a,u,this.scope.document,this.scope.events);return this.scope.addDocument(f._doc),this.list.push(f),I.string(a)?(this.selectorMap[a]||(this.selectorMap[a]=[]),this.selectorMap[a].push(f)):(f.target[this.scope.id]||Object.defineProperty(a,this.scope.id,{value:[],configurable:!0}),a[this.scope.id].push(f)),this.scope.fire("interactable:new",{target:a,options:u,interactable:f,win:this.scope._win}),f}},{key:"getExisting",value:function(a,u){var f=u&&u.context||this.scope.document,p=I.string(a),g=p?this.selectorMap[a]:a[this.scope.id];if(g)return Mo(g,function(v){return v._context===f&&(p||v.inContext(a))})}},{key:"forEachMatch",value:function(a,u){for(var f=0,p=this.list;f<p.length;f++){var g=p[f],v=void 0;if((I.string(g.target)?I.element(a)&&Xn(a,g.target):a===g.target)&&g.inContext(a)&&(v=u(g)),v!==void 0)return v}}}]),c}(),Rw=function(){function c(){var a=this;r(this,c),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=en,this.defaults=mi(Ap),this.Eventable=jp,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(f){var p=function g(v,b){var w=f.interactables.getExisting(v,b);return w||((w=f.interactables.new(v,b)).events.global=g.globalEvents),w};return p.getPointerAverage=up,p.getTouchBBox=bl,p.getTouchDistance=wl,p.getTouchAngle=xl,p.getElementRect=gl,p.getElementClientRect=ml,p.matchesSelector=Xn,p.closest=ep,p.globalEvents={},p.version="1.10.27",p.scope=f,p.use=function(g,v){return this.scope.usePlugin(g,v),this},p.isSet=function(g,v){return!!this.scope.interactables.get(g,v&&v.context)},p.on=To(function(g,v,b){if(I.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),I.array(g)){for(var w=0,C=g;w<C.length;w++){var x=C[w];this.on(x,v,b)}return this}if(I.object(g)){for(var E in g)this.on(E,g[E],v);return this}return Ks(g,this.scope.actions)?this.globalEvents[g]?this.globalEvents[g].push(v):this.globalEvents[g]=[v]:this.scope.events.add(this.scope.document,g,v,{options:b}),this},"The interact.on() method is being deprecated"),p.off=To(function(g,v,b){if(I.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),I.array(g)){for(var w=0,C=g;w<C.length;w++){var x=C[w];this.off(x,v,b)}return this}if(I.object(g)){for(var E in g)this.off(E,g[E],v);return this}var M;return Ks(g,this.scope.actions)?g in this.globalEvents&&(M=this.globalEvents[g].indexOf(v))!==-1&&this.globalEvents[g].splice(M,1):this.scope.events.remove(this.scope.document,g,v,b),this},"The interact.off() method is being deprecated"),p.debug=function(){return this.scope},p.supportsTouch=function(){return en.supportsTouch},p.supportsPointerEvent=function(){return en.supportsPointerEvent},p.stop=function(){for(var g=0,v=this.scope.interactions.list;g<v.length;g++)v[g].stop();return this},p.pointerMoveTolerance=function(g){return I.number(g)?(this.scope.interactions.pointerMoveTolerance=g,this):this.scope.interactions.pointerMoveTolerance},p.addDocument=function(g,v){this.scope.addDocument(g,v)},p.removeDocument=function(g){this.scope.removeDocument(g)},p}(this),this.InteractEvent=Ol,this.Interactable=void 0,this.interactables=new Ow(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(f){return a.removeDocument(f.target)};var u=this;this.Interactable=function(f){l(g,f);var p=m(g);function g(){return r(this,g),p.apply(this,arguments)}return o(g,[{key:"_defaults",get:function(){return u.defaults}},{key:"set",value:function(v){return D(d(g.prototype),"set",this).call(this,v),u.fire("interactable:set",{options:v,interactable:this}),this}},{key:"unset",value:function(){D(d(g.prototype),"unset",this).call(this);var v=u.interactables.list.indexOf(this);v<0||(u.interactables.list.splice(v,1),u.fire("interactable:unset",{interactable:this}))}}]),g}(Nw)}return o(c,[{key:"addListeners",value:function(a,u){this.listenerMaps.push({id:u,map:a})}},{key:"fire",value:function(a,u){for(var f=0,p=this.listenerMaps;f<p.length;f++){var g=p[f].map[a];if(g&&g(u,this,a)===!1)return!1}}},{key:"init",value:function(a){return this.isInitialized?this:function(u,f){return u.isInitialized=!0,I.window(f)&&P(f),dt.init(f),en.init(f),Kn.init(f),u.window=f,u.document=f.document,u.usePlugin(Aw),u.usePlugin(Iw),u}(this,a)}},{key:"pluginIsInstalled",value:function(a){var u=a.id;return u?!!this._plugins.map[u]:this._plugins.list.indexOf(a)!==-1}},{key:"usePlugin",value:function(a,u){if(!this.isInitialized)return this;if(this.pluginIsInstalled(a))return this;if(a.id&&(this._plugins.map[a.id]=a),this._plugins.list.push(a),a.install&&a.install(this,u),a.listeners&&a.before){for(var f=0,p=this.listenerMaps.length,g=a.before.reduce(function(b,w){return b[w]=!0,b[Up(w)]=!0,b},{});f<p;f++){var v=this.listenerMaps[f].id;if(v&&(g[v]||g[Up(v)]))break}this.listenerMaps.splice(f,0,{id:a.id,map:a.listeners})}else a.listeners&&this.listenerMaps.push({id:a.id,map:a.listeners});return this}},{key:"addDocument",value:function(a,u){if(this.getDocIndex(a)!==-1)return!1;var f=fe(a);u=u?z({},u):{},this.documents.push({doc:a,options:u}),this.events.documents.push(a),a!==this.document&&this.events.add(f,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:a,window:f,scope:this,options:u})}},{key:"removeDocument",value:function(a){var u=this.getDocIndex(a),f=fe(a),p=this.documents[u].options;this.events.remove(f,"unload",this.onWindowUnload),this.documents.splice(u,1),this.events.documents.splice(u,1),this.fire("scope:remove-document",{doc:a,window:f,scope:this,options:p})}},{key:"getDocIndex",value:function(a){for(var u=0;u<this.documents.length;u++)if(this.documents[u].doc===a)return u;return-1}},{key:"getDocOptions",value:function(a){var u=this.getDocIndex(a);return u===-1?null:this.documents[u].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),c}();function Up(c){return c&&c.replace(/\/.*$/,"")}var Hp=new Rw,pt=Hp.interactStatic,Pw=typeof globalThis<"u"?globalThis:window;Hp.init(Pw);var kw=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(c){var a=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(f){var p=f[0],g=f[1];return p in c||g in c}),u=function(f,p){for(var g=c.range,v=c.limits,b=v===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:v,w=c.offset,C=w===void 0?{x:0,y:0}:w,x={range:g,grid:c,x:null,y:null},E=0;E<a.length;E++){var M=a[E],N=M[0],A=M[1],O=Math.round((f-C.x)/c[N]),$=Math.round((p-C.y)/c[A]);x[N]=Math.max(b.left,Math.min(b.right,O*c[N]+C.x)),x[A]=Math.max(b.top,Math.min(b.bottom,$*c[A]+C.y))}return x};return u.grid=c,u.coordFields=a,u}}),Fw={id:"snappers",install:function(c){var a=c.interactStatic;a.snappers=z(a.snappers||{},kw),a.createSnapGrid=a.snappers.grid}},Lw=Fw,jw={start:function(c){var a=c.state,u=c.rect,f=c.edges,p=c.pageCoords,g=a.options,v=g.ratio,b=g.enabled,w=a.options,C=w.equalDelta,x=w.modifiers;v==="preserve"&&(v=u.width/u.height),a.startCoords=z({},p),a.startRect=z({},u),a.ratio=v,a.equalDelta=C;var E=a.linkedEdges={top:f.top||f.left&&!f.bottom,left:f.left||f.top&&!f.right,bottom:f.bottom||f.right&&!f.top,right:f.right||f.bottom&&!f.left};if(a.xIsPrimaryAxis=!(!f.left&&!f.right),a.equalDelta){var M=(E.left?1:-1)*(E.top?1:-1);a.edgeSign={x:M,y:M}}else a.edgeSign={x:E.left?-1:1,y:E.top?-1:1};if(b!==!1&&z(f,E),x!=null&&x.length){var N=new Nl(c.interaction);N.copyFrom(c.interaction.modification),N.prepareStates(x),a.subModification=N,N.startAll(t({},c))}},set:function(c){var a=c.state,u=c.rect,f=c.coords,p=a.linkedEdges,g=z({},f),v=a.equalDelta?Vw:Bw;if(z(c.edges,p),v(a,a.xIsPrimaryAxis,f,u),!a.subModification)return null;var b=z({},u);zs(p,b,{x:f.x-g.x,y:f.y-g.y});var w=a.subModification.setAll(t(t({},c),{},{rect:b,edges:p,pageCoords:f,prevCoords:f,prevRect:b})),C=w.delta;return w.changed&&(v(a,Math.abs(C.x)>Math.abs(C.y),w.coords,w.rect),z(f,w.coords)),w.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Vw(c,a,u){var f=c.startCoords,p=c.edgeSign;a?u.y=f.y+(u.x-f.x)*p.y:u.x=f.x+(u.y-f.y)*p.x}function Bw(c,a,u,f){var p=c.startRect,g=c.startCoords,v=c.ratio,b=c.edgeSign;if(a){var w=f.width/v;u.y=g.y+(w-p.height)*b.y}else{var C=f.height*v;u.x=g.x+(C-p.width)*b.x}}var $w=Qn(jw,"aspectRatio"),zp=function(){};zp._defaults={};var ea=zp;function Nr(c,a,u){return I.func(c)?Co(c,a.interactable,a.element,[u.x,u.y,a]):Co(c,a.interactable,a.element)}var ta={start:function(c){var a=c.rect,u=c.startOffset,f=c.state,p=c.interaction,g=c.pageCoords,v=f.options,b=v.elementRect,w=z({left:0,top:0,right:0,bottom:0},v.offset||{});if(a&&b){var C=Nr(v.restriction,p,g);if(C){var x=C.right-C.left-a.width,E=C.bottom-C.top-a.height;x<0&&(w.left+=x,w.right+=x),E<0&&(w.top+=E,w.bottom+=E)}w.left+=u.left-a.width*b.left,w.top+=u.top-a.height*b.top,w.right+=u.right-a.width*(1-b.right),w.bottom+=u.bottom-a.height*(1-b.bottom)}f.offset=w},set:function(c){var a=c.coords,u=c.interaction,f=c.state,p=f.options,g=f.offset,v=Nr(p.restriction,u,a);if(v){var b=function(w){return!w||"left"in w&&"top"in w||((w=z({},w)).left=w.x||0,w.top=w.y||0,w.right=w.right||w.left+w.width,w.bottom=w.bottom||w.top+w.height),w}(v);a.x=Math.max(Math.min(b.right-g.right,a.x),b.left+g.left),a.y=Math.max(Math.min(b.bottom-g.bottom,a.y),b.top+g.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Uw=Qn(ta,"restrict"),Gp={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Wp={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function qp(c,a){for(var u=0,f=["top","left","bottom","right"];u<f.length;u++){var p=f[u];p in c||(c[p]=a[p])}return c}var Oo={noInner:Gp,noOuter:Wp,start:function(c){var a,u=c.interaction,f=c.startOffset,p=c.state,g=p.options;g&&(a=Hs(Nr(g.offset,u,u.coords.start.page))),a=a||{x:0,y:0},p.offset={top:a.y+f.top,left:a.x+f.left,bottom:a.y-f.bottom,right:a.x-f.right}},set:function(c){var a=c.coords,u=c.edges,f=c.interaction,p=c.state,g=p.offset,v=p.options;if(u){var b=z({},a),w=Nr(v.inner,f,b)||{},C=Nr(v.outer,f,b)||{};qp(w,Gp),qp(C,Wp),u.top?a.y=Math.min(Math.max(C.top+g.top,b.y),w.top+g.top):u.bottom&&(a.y=Math.max(Math.min(C.bottom+g.bottom,b.y),w.bottom+g.bottom)),u.left?a.x=Math.min(Math.max(C.left+g.left,b.x),w.left+g.left):u.right&&(a.x=Math.max(Math.min(C.right+g.right,b.x),w.right+g.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Hw=Qn(Oo,"restrictEdges"),zw=z({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(c){}},ta.defaults),Gw=Qn({start:ta.start,set:ta.set,defaults:zw},"restrictRect"),Ww={width:-1/0,height:-1/0},qw={width:1/0,height:1/0},Yw=Qn({start:function(c){return Oo.start(c)},set:function(c){var a=c.interaction,u=c.state,f=c.rect,p=c.edges,g=u.options;if(p){var v=vl(Nr(g.min,a,c.coords))||Ww,b=vl(Nr(g.max,a,c.coords))||qw;u.options={endOnly:g.endOnly,inner:z({},Oo.noInner),outer:z({},Oo.noOuter)},p.top?(u.options.inner.top=f.bottom-v.height,u.options.outer.top=f.bottom-b.height):p.bottom&&(u.options.inner.bottom=f.top+v.height,u.options.outer.bottom=f.top+b.height),p.left?(u.options.inner.left=f.right-v.width,u.options.outer.left=f.right-b.width):p.right&&(u.options.inner.right=f.left+v.width,u.options.outer.right=f.left+b.width),Oo.set(c),u.options=g}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Ll={start:function(c){var a,u=c.interaction,f=c.interactable,p=c.element,g=c.rect,v=c.state,b=c.startOffset,w=v.options,C=w.offsetWithOrigin?function(M){var N=M.interaction.element,A=Hs(Co(M.state.options.origin,null,null,[N])),O=A||_o(M.interactable,N,M.interaction.prepared.name);return O}(c):{x:0,y:0};if(w.offset==="startCoords")a={x:u.coords.start.page.x,y:u.coords.start.page.y};else{var x=Co(w.offset,f,p,[u]);(a=Hs(x)||{x:0,y:0}).x+=C.x,a.y+=C.y}var E=w.relativePoints;v.offsets=g&&E&&E.length?E.map(function(M,N){return{index:N,relativePoint:M,x:b.left-g.width*M.x+a.x,y:b.top-g.height*M.y+a.y}}):[{index:0,relativePoint:null,x:a.x,y:a.y}]},set:function(c){var a=c.interaction,u=c.coords,f=c.state,p=f.options,g=f.offsets,v=_o(a.interactable,a.element,a.prepared.name),b=z({},u),w=[];p.offsetWithOrigin||(b.x-=v.x,b.y-=v.y);for(var C=0,x=g;C<x.length;C++)for(var E=x[C],M=b.x-E.x,N=b.y-E.y,A=0,O=p.targets.length;A<O;A++){var $=p.targets[A],j=void 0;(j=I.func($)?$(M,N,a._proxy,E,A):$)&&w.push({x:(I.number(j.x)?j.x:M)+E.x,y:(I.number(j.y)?j.y:N)+E.y,range:I.number(j.range)?j.range:p.range,source:$,index:A,offset:E})}for(var U={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ce=0;ce<w.length;ce++){var ve=w[ce],te=ve.range,ue=ve.x-b.x,mt=ve.y-b.y,je=Eo(ue,mt),Et=je<=te;te===1/0&&U.inRange&&U.range!==1/0&&(Et=!1),U.target&&!(Et?U.inRange&&te!==1/0?je/te<U.distance/U.range:te===1/0&&U.range!==1/0||je<U.distance:!U.inRange&&je<U.distance)||(U.target=ve,U.distance=je,U.range=te,U.inRange=Et,U.delta.x=ue,U.delta.y=mt)}return U.inRange&&(u.x=U.target.x,u.y=U.target.y),f.closest=U,U},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Xw=Qn(Ll,"snap"),na={start:function(c){var a=c.state,u=c.edges,f=a.options;if(!u)return null;c.state={options:{targets:null,relativePoints:[{x:u.left?0:1,y:u.top?0:1}],offset:f.offset||"self",origin:{x:0,y:0},range:f.range}},a.targetFields=a.targetFields||[["width","height"],["x","y"]],Ll.start(c),a.offsets=c.state.offsets,c.state=a},set:function(c){var a=c.interaction,u=c.state,f=c.coords,p=u.options,g=u.offsets,v={x:f.x-g[0].x,y:f.y-g[0].y};u.options=z({},p),u.options.targets=[];for(var b=0,w=p.targets||[];b<w.length;b++){var C=w[b],x=void 0;if(x=I.func(C)?C(v.x,v.y,a):C){for(var E=0,M=u.targetFields;E<M.length;E++){var N=M[E],A=N[0],O=N[1];if(A in x||O in x){x.x=x[A],x.y=x[O];break}}u.options.targets.push(x)}}var $=Ll.set(c);return u.options=p,$},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Kw=Qn(na,"snapSize"),jl={aspectRatio:$w,restrictEdges:Hw,restrict:Uw,restrictRect:Gw,restrictSize:Yw,snapEdges:Qn({start:function(c){var a=c.edges;return a?(c.state.targetFields=c.state.targetFields||[[a.left?"left":"right",a.top?"top":"bottom"]],na.start(c)):null},set:na.set,defaults:z(mi(na.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Xw,snapSize:Kw,spring:ea,avoid:ea,transform:ea,rubberband:ea},Qw={id:"modifiers",install:function(c){var a=c.interactStatic;for(var u in c.usePlugin(Tp),c.usePlugin(Lw),a.modifiers=jl,jl){var f=jl[u],p=f._defaults,g=f._methods;p._methods=g,c.defaults.perAction[u]=p}}},Zw=Qw,Yp=function(c){l(u,c);var a=m(u);function u(f,p,g,v,b,w){var C;if(r(this,u),Gs(y(C=a.call(this,b)),g),g!==p&&Gs(y(C),p),C.timeStamp=w,C.originalEvent=g,C.type=f,C.pointerId=So(p),C.pointerType=dp(p),C.target=v,C.currentTarget=null,f==="tap"){var x=b.getPointerIndex(p);C.dt=C.timeStamp-b.pointers[x].downTime;var E=C.timeStamp-b.tapTime;C.double=!!b.prevTap&&b.prevTap.type!=="doubletap"&&b.prevTap.target===C.target&&E<500}else f==="doubletap"&&(C.dt=p.timeStamp-b.tapTime,C.double=!0);return C}return o(u,[{key:"_subtractOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX-=p,this.pageY-=g,this.clientX-=p,this.clientY-=g,this}},{key:"_addOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX+=p,this.pageY+=g,this.clientX+=p,this.clientY+=g,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),u}(Ys),Ro={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(c){c.pointerEvents=Ro,c.defaults.actions.pointerEvents=Ro.defaults,z(c.actions.phaselessTypes,Ro.types)},listeners:{"interactions:new":function(c){var a=c.interaction;a.prevTap=null,a.tapTime=0},"interactions:update-pointer":function(c){var a=c.down,u=c.pointerInfo;!a&&u.hold||(u.hold={duration:1/0,timeout:null})},"interactions:move":function(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget;c.duplicate||u.pointerIsDown&&!u.pointerWasMoved||(u.pointerIsDown&&Vl(c),Jn({interaction:u,pointer:f,event:p,eventTarget:g,type:"move"},a))},"interactions:down":function(c,a){(function(u,f){for(var p=u.interaction,g=u.pointer,v=u.event,b=u.eventTarget,w=u.pointerIndex,C=p.pointers[w].hold,x=rp(b),E={interaction:p,pointer:g,event:v,eventTarget:b,type:"hold",targets:[],path:x,node:null},M=0;M<x.length;M++){var N=x[M];E.node=N,f.fire("pointerEvents:collect-targets",E)}if(E.targets.length){for(var A=1/0,O=0,$=E.targets;O<$.length;O++){var j=$[O].eventable.options.holdDuration;j<A&&(A=j)}C.duration=A,C.timeout=setTimeout(function(){Jn({interaction:p,eventTarget:b,pointer:g,event:v,type:"hold"},f)},A)}})(c,a),Jn(c,a)},"interactions:up":function(c,a){Vl(c),Jn(c,a),function(u,f){var p=u.interaction,g=u.pointer,v=u.event,b=u.eventTarget;p.pointerWasMoved||Jn({interaction:p,eventTarget:b,pointer:g,event:v,type:"tap"},f)}(c,a)},"interactions:cancel":function(c,a){Vl(c),Jn(c,a)}},PointerEvent:Yp,fire:Jn,collectEventTargets:Xp,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Jn(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget,v=c.type,b=c.targets,w=b===void 0?Xp(c,a):b,C=new Yp(v,f,p,g,u,a.now());a.fire("pointerEvents:new",{pointerEvent:C});for(var x={interaction:u,pointer:f,event:p,eventTarget:g,targets:w,type:v,pointerEvent:C},E=0;E<w.length;E++){var M=w[E];for(var N in M.props||{})C[N]=M.props[N];var A=_o(M.eventable,M.node);if(C._subtractOrigin(A),C.eventable=M.eventable,C.currentTarget=M.node,M.eventable.fire(C),C._addOrigin(A),C.immediatePropagationStopped||C.propagationStopped&&E+1<w.length&&w[E+1].node!==C.currentTarget)break}if(a.fire("pointerEvents:fired",x),v==="tap"){var O=C.double?Jn({interaction:u,pointer:f,event:p,eventTarget:g,type:"doubletap"},a):C;u.prevTap=O,u.tapTime=O.timeStamp}return C}function Xp(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget,v=c.type,b=u.getPointerIndex(f),w=u.pointers[b];if(v==="tap"&&(u.pointerWasMoved||!w||w.downTarget!==g))return[];for(var C=rp(g),x={interaction:u,pointer:f,event:p,eventTarget:g,type:v,path:C,targets:[],node:null},E=0;E<C.length;E++){var M=C[E];x.node=M,a.fire("pointerEvents:collect-targets",x)}return v==="hold"&&(x.targets=x.targets.filter(function(N){var A,O;return N.eventable.options.holdDuration===((A=u.pointers[b])==null||(O=A.hold)==null?void 0:O.duration)})),x.targets}function Vl(c){var a=c.interaction,u=c.pointerIndex,f=a.pointers[u].hold;f&&f.timeout&&(clearTimeout(f.timeout),f.timeout=null)}var Jw=Object.freeze({__proto__:null,default:Ro});function ex(c){var a=c.interaction;a.holdIntervalHandle&&(clearInterval(a.holdIntervalHandle),a.holdIntervalHandle=null)}var tx={id:"pointer-events/holdRepeat",install:function(c){c.usePlugin(Ro);var a=c.pointerEvents;a.defaults.holdRepeatInterval=0,a.types.holdrepeat=c.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(c,a){return c["pointerEvents:".concat(a)]=ex,c},{"pointerEvents:new":function(c){var a=c.pointerEvent;a.type==="hold"&&(a.count=(a.count||0)+1)},"pointerEvents:fired":function(c,a){var u=c.interaction,f=c.pointerEvent,p=c.eventTarget,g=c.targets;if(f.type==="hold"&&g.length){var v=g[0].eventable.options.holdRepeatInterval;v<=0||(u.holdIntervalHandle=setTimeout(function(){a.pointerEvents.fire({interaction:u,eventTarget:p,type:"hold",pointer:f,event:f},a)},v))}}})},nx=tx,rx={id:"pointer-events/interactableTargets",install:function(c){var a=c.Interactable;a.prototype.pointerEvents=function(f){return z(this.events.options,f),this};var u=a.prototype._backCompatOption;a.prototype._backCompatOption=function(f,p){var g=u.call(this,f,p);return g===this&&(this.events.options[f]=p),g}},listeners:{"pointerEvents:collect-targets":function(c,a){var u=c.targets,f=c.node,p=c.type,g=c.eventTarget;a.interactables.forEachMatch(f,function(v){var b=v.events,w=b.options;b.types[p]&&b.types[p].length&&v.testIgnoreAllow(w,f,g)&&u.push({node:f,eventable:b,props:{interactable:v}})})},"interactable:new":function(c){var a=c.interactable;a.events.getRect=function(u){return a.getRect(u)}},"interactable:set":function(c,a){var u=c.interactable,f=c.options;z(u.events.options,a.pointerEvents.defaults),z(u.events.options,f.pointerEvents||{})}}},ix=rx,ox={id:"pointer-events",install:function(c){c.usePlugin(Jw),c.usePlugin(nx),c.usePlugin(ix)}},sx=ox,ax={id:"reflow",install:function(c){var a=c.Interactable;c.actions.phases.reflow=!0,a.prototype.reflow=function(u){return function(f,p,g){for(var v=f.getAllElements(),b=g.window.Promise,w=b?[]:null,C=function(){var E=v[x],M=f.getRect(E);if(!M)return 1;var N,A=Mo(g.interactions.list,function(j){return j.interacting()&&j.interactable===f&&j.element===E&&j.prepared.name===p.name});if(A)A.move(),w&&(N=A._reflowPromise||new b(function(j){A._reflowResolve=j}));else{var O=vl(M),$=function(j){return{coords:j,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:O.x,y:O.y},client:{x:O.x,y:O.y},timeStamp:g.now()});N=function(j,U,ce,ve,te){var ue=j.interactions.new({pointerType:"reflow"}),mt={interaction:ue,event:te,pointer:te,eventTarget:ce,phase:"reflow"};ue.interactable=U,ue.element=ce,ue.prevEvent=te,ue.updatePointer(te,te,ce,!0),ap(ue.coords.delta),Il(ue.prepared,ve),ue._doPhase(mt);var je=j.window,Et=je.Promise,tn=Et?new Et(function(An){ue._reflowResolve=An}):void 0;return ue._reflowPromise=tn,ue.start(ve,U,ce),ue._interacting?(ue.move(mt),ue.end(te)):(ue.stop(),ue._reflowResolve()),ue.removePointer(te,te),tn}(g,f,E,p,$)}w&&w.push(N)},x=0;x<v.length&&!C();x++);return w&&b.all(w).then(function(){return f})}(this,u,c)}},listeners:{"interactions:stop":function(c,a){var u=c.interaction;u.pointerType==="reflow"&&(u._reflowResolve&&u._reflowResolve(),function(f,p){f.splice(f.indexOf(p),1)}(a.interactions.list,u))}}},cx=ax;if(pt.use(Mp),pt.use(Pp),pt.use(sx),pt.use(Ew),pt.use(Zw),pt.use(hw),pt.use(nw),pt.use(iw),pt.use(cx),pt.default=pt,(typeof ti>"u"?"undefined":n(ti))==="object"&&ti)try{ti.exports=pt}catch{}return pt.default=pt,pt})});var Jp=null;var $l=1,em=Symbol("SIGNAL");function Ce(e){let t=Jp;return Jp=e,t}var tm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function yx(e){if(!(zl(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===$l)){if(!e.producerMustRecompute(e)&&!Ul(e)){e.dirty=!1,e.lastCleanEpoch=$l;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=$l}}function nm(e){return e&&(e.nextProducerIndex=0),Ce(e)}function rm(e,t){if(Ce(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(zl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Hl(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Ul(e){sa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(yx(n),r!==n.version))return!0}return!1}function im(e){if(sa(e),zl(e))for(let t=0;t<e.producerNode.length;t++)Hl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Hl(e,t){if(bx(e),sa(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)Hl(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];sa(i),i.producerIndexOfThis[r]=t}}function zl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function sa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function bx(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function wx(){throw new Error}var xx=wx;function om(e){xx=e}function ae(e){return typeof e=="function"}function vi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var aa=vi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ko(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ke=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){t=o instanceof aa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sm(o)}catch(s){t=t??[],s instanceof aa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new aa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)sm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&ko(n,t)}remove(t){let{_finalizers:n}=this;n&&ko(n,t),t instanceof e&&t._removeParent(this)}};Ke.EMPTY=(()=>{let e=new Ke;return e.closed=!0,e})();var Gl=Ke.EMPTY;function ca(e){return e instanceof Ke||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function sm(e){ae(e)?e():e.unsubscribe()}var nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yi={setTimeout(e,t,...n){let{delegate:r}=yi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=yi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function la(e){yi.setTimeout(()=>{let{onUnhandledError:t}=nn;if(t)t(e);else throw e})}function Fo(){}var am=Wl("C",void 0,void 0);function cm(e){return Wl("E",void 0,e)}function lm(e){return Wl("N",e,void 0)}function Wl(e,t,n){return{kind:e,value:t,error:n}}var Or=null;function bi(e){if(nn.useDeprecatedSynchronousErrorHandling){let t=!Or;if(t&&(Or={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else e()}function um(e){nn.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=e)}var Rr=class extends Ke{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ca(t)&&t.add(this)):this.destination=_x}static create(t,n,r){return new wi(t,n,r)}next(t){this.isStopped?Yl(lm(t),this):this._next(t)}error(t){this.isStopped?Yl(cm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yl(am,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dx=Function.prototype.bind;function ql(e,t){return Dx.call(e,t)}var Xl=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ua(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ua(r)}else ua(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ua(n)}}},wi=class extends Rr{constructor(t,n,r){super();let i;if(ae(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ql(t.next,o),error:t.error&&ql(t.error,o),complete:t.complete&&ql(t.complete,o)}):i=t}this.destination=new Xl(i)}};function ua(e){nn.useDeprecatedSynchronousErrorHandling?um(e):la(e)}function Cx(e){throw e}function Yl(e,t){let{onStoppedNotification:n}=nn;n&&yi.setTimeout(()=>n(e,t))}var _x={closed:!0,next:Fo,error:Cx,complete:Fo};var xi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function St(e){return e}function Kl(...e){return Ql(e)}function Ql(e){return e.length===0?St:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Me=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Sx(n)?n:new wi(n,r,i);return bi(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dm(r),new r((i,o)=>{let s=new wi({next:l=>{try{n(l)}catch(d){o(d),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[xi](){return this}pipe(...n){return Ql(n)(this)}toPromise(n){return n=dm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function dm(e){var t;return(t=e??nn.Promise)!==null&&t!==void 0?t:Promise}function Ex(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}function Sx(e){return e&&e instanceof Rr||Ex(e)&&ca(e)}function Zl(e){return ae(e?.lift)}function we(e){return t=>{if(Zl(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(e,t,n,r,i){return new Jl(e,t,n,r,i)}var Jl=class extends Rr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Di(){return we((e,t)=>{let n=null;e._refCount++;let r=xe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Ci=class extends Me{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zl(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ke;let n=this.getSubject();t.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ke.EMPTY)}return t}refCount(){return Di()(this)}};var fm=vi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class e extends Me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fm}next(n){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gl:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,ko(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Me;return n.source=this,n}}return e.create=(t,n)=>new da(t,n),e})(),da=class extends gt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Gl}};var rt=class extends gt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var It=new Me(e=>e.complete());function hm(e){return e&&ae(e.schedule)}function pm(e){return e[e.length-1]}function mm(e){return ae(pm(e))?e.pop():void 0}function er(e){return hm(pm(e))?e.pop():void 0}function vm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(y){try{h(r.next(y))}catch(m){s(m)}}function d(y){try{h(r.throw(y))}catch(m){s(m)}}function h(y){y.done?o(y.value):i(y.value).then(l,d)}h((r=r.apply(e,t||[])).next())})}function gm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(e){return this instanceof Pr?(this.v=e,this):new Pr(e)}function ym(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,m)}}function l(_,S){r[_]&&(i[_]=function(T){return new Promise(function(R,P){o.push([_,T,R,P])>1||d(_,T)})},S&&(i[_]=S(i[_])))}function d(_,S){try{h(r[_](S))}catch(T){D(o[0][3],T)}}function h(_){_.value instanceof Pr?Promise.resolve(_.value.v).then(y,m):D(o[0][2],_)}function y(_){d("next",_)}function m(_){d("throw",_)}function D(_,S){_(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function bm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gm=="function"?gm(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,d){s=e[o](s),i(l,d,s.done,s.value)})}}function i(o,s,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},s)}}var fa=e=>e&&typeof e.length=="number"&&typeof e!="function";function ha(e){return ae(e?.then)}function pa(e){return ae(e[xi])}function ma(e){return Symbol.asyncIterator&&ae(e?.[Symbol.asyncIterator])}function ga(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ix(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var va=Ix();function ya(e){return ae(e?.[va])}function ba(e){return ym(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Pr(n.read());if(i)return yield Pr(void 0);yield yield Pr(r)}}finally{n.releaseLock()}})}function wa(e){return ae(e?.getReader)}function et(e){if(e instanceof Me)return e;if(e!=null){if(pa(e))return Mx(e);if(fa(e))return Tx(e);if(ha(e))return Ax(e);if(ma(e))return wm(e);if(ya(e))return Nx(e);if(wa(e))return Ox(e)}throw ga(e)}function Mx(e){return new Me(t=>{let n=e[xi]();if(ae(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tx(e){return new Me(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ax(e){return new Me(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,la)})}function Nx(e){return new Me(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function wm(e){return new Me(t=>{Rx(e,t).catch(n=>t.error(n))})}function Ox(e){return wm(ba(e))}function Rx(e,t){var n,r,i,o;return vm(this,void 0,void 0,function*(){try{for(n=bm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function bt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function xa(e,t=0){return we((n,r)=>{n.subscribe(xe(r,i=>bt(r,e,()=>r.next(i),t),()=>bt(r,e,()=>r.complete(),t),i=>bt(r,e,()=>r.error(i),t)))})}function Da(e,t=0){return we((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function xm(e,t){return et(e).pipe(Da(t),xa(t))}function Dm(e,t){return et(e).pipe(Da(t),xa(t))}function Cm(e,t){return new Me(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function _m(e,t){return new Me(n=>{let r;return bt(n,t,()=>{r=e[va](),bt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Ca(e,t){if(!e)throw new Error("Iterable cannot be null");return new Me(n=>{bt(n,t,()=>{let r=e[Symbol.asyncIterator]();bt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Em(e,t){return Ca(ba(e),t)}function Sm(e,t){if(e!=null){if(pa(e))return xm(e,t);if(fa(e))return Cm(e,t);if(ha(e))return Dm(e,t);if(ma(e))return Ca(e,t);if(ya(e))return _m(e,t);if(wa(e))return Em(e,t)}throw ga(e)}function Ye(e,t){return t?Sm(e,t):et(e)}function se(...e){let t=er(e);return Ye(e,t)}function _i(e,t){let n=ae(e)?e:()=>e,r=i=>i.error(n());return new Me(t?i=>t.schedule(r,0,i):r)}function eu(e){return!!e&&(e instanceof Me||ae(e.lift)&&ae(e.subscribe))}var Nn=vi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function be(e,t){return we((n,r)=>{let i=0;n.subscribe(xe(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Px}=Array;function kx(e,t){return Px(t)?e(...t):e(t)}function Im(e){return be(t=>kx(e,t))}var{isArray:Fx}=Array,{getPrototypeOf:Lx,prototype:jx,keys:Vx}=Object;function Mm(e){if(e.length===1){let t=e[0];if(Fx(t))return{args:t,keys:null};if(Bx(t)){let n=Vx(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Bx(e){return e&&typeof e=="object"&&Lx(e)===jx}function Tm(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function _a(...e){let t=er(e),n=mm(e),{args:r,keys:i}=Mm(e);if(r.length===0)return Ye([],t);let o=new Me($x(r,t,i?s=>Tm(i,s):St));return n?o.pipe(Im(n)):o}function $x(e,t,n=St){return r=>{Am(t,()=>{let{length:i}=e,o=new Array(i),s=i,l=i;for(let d=0;d<i;d++)Am(t,()=>{let h=Ye(e[d],t),y=!1;h.subscribe(xe(r,m=>{o[d]=m,y||(y=!0,l--),l||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Am(e,t,n){e?bt(n,e,t):t()}function Nm(e,t,n,r,i,o,s,l){let d=[],h=0,y=0,m=!1,D=()=>{m&&!d.length&&!h&&t.complete()},_=T=>h<r?S(T):d.push(T),S=T=>{o&&t.next(T),h++;let R=!1;et(n(T,y++)).subscribe(xe(t,P=>{i?.(P),o?_(P):t.next(P)},()=>{R=!0},void 0,()=>{if(R)try{for(h--;d.length&&h<r;){let P=d.shift();s?bt(t,s,()=>S(P)):S(P)}D()}catch(P){t.error(P)}}))};return e.subscribe(xe(t,_,()=>{m=!0,D()})),()=>{l?.()}}function Qe(e,t,n=1/0){return ae(t)?Qe((r,i)=>be((o,s)=>t(r,o,i,s))(et(e(r,i))),n):(typeof t=="number"&&(n=t),we((r,i)=>Nm(r,i,e,n)))}function tu(e=1/0){return Qe(St,e)}function Om(){return tu(1)}function Ei(...e){return Om()(Ye(e,er(e)))}function Ea(e){return new Me(t=>{et(e()).subscribe(t)})}function Vt(e,t){return we((n,r)=>{let i=0;n.subscribe(xe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function tr(e){return we((t,n)=>{let r=null,i=!1,o;r=t.subscribe(xe(n,void 0,void 0,s=>{o=et(e(s,tr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Rm(e,t,n,r,i){return(o,s)=>{let l=n,d=t,h=0;o.subscribe(xe(s,y=>{let m=h++;d=l?e(d,y,m):(l=!0,y),r&&s.next(d)},i&&(()=>{l&&s.next(d),s.complete()})))}}function kr(e,t){return ae(t)?Qe(e,t,1):Qe(e,1)}function nr(e){return we((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function On(e){return e<=0?()=>It:we((t,n)=>{let r=0;t.subscribe(xe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function nu(e){return be(()=>e)}function Sa(e=Ux){return we((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Ux(){return new Nn}function Si(e){return we((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function rn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Vt((i,o)=>e(i,o,r)):St,On(1),n?nr(t):Sa(()=>new Nn))}function Ii(e){return e<=0?()=>It:we((t,n)=>{let r=[];t.subscribe(xe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ru(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Vt((i,o)=>e(i,o,r)):St,Ii(1),n?nr(t):Sa(()=>new Nn))}function iu(e,t){return we(Rm(e,t,arguments.length>=2,!0))}function ou(...e){let t=er(e);return we((n,r)=>{(t?Ei(e,n,t):Ei(e,n)).subscribe(r)})}function Bt(e,t){return we((n,r)=>{let i=null,o=0,s=!1,l=()=>s&&!i&&r.complete();n.subscribe(xe(r,d=>{i?.unsubscribe();let h=0,y=o++;et(e(d,y)).subscribe(i=xe(r,m=>r.next(t?t(d,m,y,h++):m),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function su(e){return we((t,n)=>{et(e).subscribe(xe(n,()=>n.complete(),Fo)),!n.closed&&t.subscribe(n)})}function Ze(e,t,n){let r=ae(e)||t||n?{next:e,error:t,complete:n}:e;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;i.subscribe(xe(o,d=>{var h;(h=r.next)===null||h===void 0||h.call(r,d),o.next(d)},()=>{var d;l=!1,(d=r.complete)===null||d===void 0||d.call(r),o.complete()},d=>{var h;l=!1,(h=r.error)===null||h===void 0||h.call(r,d),o.error(d)},()=>{var d,h;l&&((d=r.unsubscribe)===null||d===void 0||d.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):St}var gg="https://g.co/ng/security#xss",Y=class extends Error{constructor(t,n){super(rc(t,n)),this.code=t}};function rc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Qo(e){return{toString:e}.toString()}var Ia="__parameters__";function Hx(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function vg(e,t,n){return Qo(()=>{let r=Hx(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return l.annotation=s,l;function l(d,h,y){let m=d.hasOwnProperty(Ia)?d[Ia]:Object.defineProperty(d,Ia,{value:[]})[Ia];for(;m.length<=y;)m.push(null);return(m[y]=m[y]||[]).push(s),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Lo=globalThis;function Pe(e){for(let t in e)if(e[t]===Pe)return t;throw Error("Could not find renamed property on target object.")}function wt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(wt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Pm(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var zx=Pe({__forward_ref__:Pe});function yg(e){return e.__forward_ref__=yg,e.toString=function(){return wt(this())},e}function Ut(e){return bg(e)?e():e}function bg(e){return typeof e=="function"&&e.hasOwnProperty(zx)&&e.__forward_ref__===yg}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ic(e){return{providers:e.providers||[],imports:e.imports||[]}}function oc(e){return km(e,xg)||km(e,Dg)}function wg(e){return oc(e)!==null}function km(e,t){return e.hasOwnProperty(t)?e[t]:null}function Gx(e){let t=e&&(e[xg]||e[Dg]);return t||null}function Fm(e){return e&&(e.hasOwnProperty(Lm)||e.hasOwnProperty(Wx))?e[Lm]:null}var xg=Pe({\u0275prov:Pe}),Lm=Pe({\u0275inj:Pe}),Dg=Pe({ngInjectableDef:Pe}),Wx=Pe({ngInjectorDef:Pe}),pe=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cg(e){return e&&!!e.\u0275providers}var qx=Pe({\u0275cmp:Pe}),Yx=Pe({\u0275dir:Pe}),Xx=Pe({\u0275pipe:Pe}),Kx=Pe({\u0275mod:Pe}),La=Pe({\u0275fac:Pe}),jo=Pe({__NG_ELEMENT_ID__:Pe}),jm=Pe({__NG_ENV_ID__:Pe});function sc(e){return typeof e=="string"?e:e==null?"":String(e)}function Qx(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():sc(e)}function Zx(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Y(-200,e)}function hd(e,t){throw new Y(-201,!1)}var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ge||{}),bu;function _g(){return bu}function $t(e){let t=bu;return bu=e,t}function Eg(e,t,n){let r=oc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(t!==void 0)return t;hd(e,"Injector")}var Jx={},Vo=Jx,wu="__NG_DI_FLAG__",ja="ngTempTokenPath",eD="ngTokenPath",tD=/\n/gm,nD="\u0275",Vm="__source",Ni;function rD(){return Ni}function rr(e){let t=Ni;return Ni=e,t}function iD(e,t=ge.Default){if(Ni===void 0)throw new Y(-203,!1);return Ni===null?Eg(e,void 0,t):Ni.get(e,t&ge.Optional?null:void 0,t)}function ye(e,t=ge.Default){return(_g()||iD)(Ut(e),t)}function k(e,t=ge.Default){return ye(e,ac(t))}function ac(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function xu(e){let t=[];for(let n=0;n<e.length;n++){let r=Ut(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let l=r[s],d=oD(l);typeof d=="number"?d===-1?i=l.token:o|=d:i=l}t.push(ye(i,o))}else t.push(ye(r))}return t}function Sg(e,t){return e[wu]=t,e.prototype[wu]=t,e}function oD(e){return e[wu]}function sD(e,t,n,r){let i=e[ja];throw t[Vm]&&i.unshift(t[Vm]),e.message=aD(`
`+e.message,i,n,r),e[eD]=i,e[ja]=null,e}function aD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==nD?e.slice(2):e;let i=wt(t);if(Array.isArray(t))i=t.map(wt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):wt(l)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(tD,`
  `)}`}var cc=Sg(vg("Optional"),8);var pd=Sg(vg("SkipSelf"),4);function Ri(e,t){let n=e.hasOwnProperty(La);return n?e[La]:null}function cD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function lD(e){return e.flat(Number.POSITIVE_INFINITY)}function md(e,t){e.forEach(n=>Array.isArray(n)?md(n,t):t(n))}function Ig(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Bo={},sn=[],Lr=new pe(""),Mg=new pe("",-1),Tg=new pe(""),Ba=class{get(t,n=Vo){if(n===Vo){let r=new Error(`NullInjectorError: No provider for ${wt(t)}!`);throw r.name="NullInjectorError",r}return n}},Ag=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Ag||{}),gn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(gn||{}),Pn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pn||{});function uD(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Du(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,o)}else{let o=i,s=n[++r];fD(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function dD(e){return e===3||e===4||e===6}function fD(e){return e.charCodeAt(0)===64}function gd(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Bm(e,n,i,null,t[++r]):Bm(e,n,i,null,null))}}return e}function Bm(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let l=e[o++];if(typeof l=="number"){if(l===t){s=-1;break}else if(l>t){s=o-1;break}}}for(;o<e.length;){let l=e[o];if(typeof l=="number")break;if(l===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Ng="ng-template";function hD(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&uD(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(vd(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function vd(e){return e.type===4&&e.value!==Ng}function pD(e,t,n){let r=e.type===4&&!n?Ng:e.value;return t===r}function mD(e,t,n){let r=4,i=e.attrs,o=i!==null?yD(i):0,s=!1;for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="number"){if(!s&&!on(r)&&!on(d))return!1;if(s&&on(d))continue;s=!1,r=d|r&1;continue}if(!s)if(r&4){if(r=2|r&1,d!==""&&!pD(e,d,n)||d===""&&t.length===1){if(on(r))return!1;s=!0}}else if(r&8){if(i===null||!hD(e,i,d,n)){if(on(r))return!1;s=!0}}else{let h=t[++l],y=gD(d,i,vd(e),n);if(y===-1){if(on(r))return!1;s=!0;continue}if(h!==""){let m;if(y>o?m="":m=i[y+1].toLowerCase(),r&2&&h!==m){if(on(r))return!1;s=!0}}}}return on(r)||s}function on(e){return(e&1)===0}function gD(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=t[++i];for(;typeof l=="string";)l=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bD(t,e)}function vD(e,t,n=!1){for(let r=0;r<t.length;r++)if(mD(e,t[r],n))return!0;return!1}function yD(e){for(let t=0;t<e.length;t++){let n=e[t];if(dD(n))return t}return e.length}function bD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function $m(e,t){return e?":not("+t.trim()+")":t}function wD(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let l=e[++n];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!on(s)&&(t+=$m(o,i),i=""),r=s,o=o||!on(r);n++}return i!==""&&(t+=$m(o,i)),t}function xD(e){return e.map(wD).join(",")}function DD(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!on(i))break;i=o}r++}return{attrs:t,classes:n}}function ar(e){return Qo(()=>{let t=Fg(e),n=Le(V({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Ag.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||gn.Emulated,styles:e.styles||sn,_:null,schemas:e.schemas||null,tView:null,id:""});Lg(n);let r=e.dependencies;return n.directiveDefs=Hm(r,!1),n.pipeDefs=Hm(r,!0),n.id=ED(n),n})}function CD(e){return jr(e)||Og(e)}function _D(e){return e!==null}function lc(e){return Qo(()=>({type:e.type,bootstrap:e.bootstrap||sn,declarations:e.declarations||sn,imports:e.imports||sn,exports:e.exports||sn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Um(e,t){if(e==null)return Bo;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,l=Pn.None;Array.isArray(i)?(l=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=l!==Pn.None?[r,l]:r,t[o]=s):n[o]=r}return n}function zr(e){return Qo(()=>{let t=Fg(e);return Lg(t),t})}function jr(e){return e[qx]||null}function Og(e){return e[Yx]||null}function Rg(e){return e[Xx]||null}function Pg(e){let t=jr(e)||Og(e)||Rg(e);return t!==null?t.standalone:!1}function kg(e,t){let n=e[Kx]||null;if(!n&&t===!0)throw new Error(`Type ${wt(e)} does not have '\u0275mod' property.`);return n}function Fg(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Bo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||sn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Um(e.inputs,t),outputs:Um(e.outputs),debugInfo:null}}function Lg(e){e.features?.forEach(t=>t(e))}function Hm(e,t){if(!e)return null;let n=t?Rg:CD;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(_D)}function ED(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Gr(e){return{\u0275providers:e}}function SD(...e){return{\u0275providers:jg(!0,e),\u0275fromNgModule:!0}}function jg(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return md(t,s=>{let l=s;Cu(l,o,[],r)&&(i||=[],i.push(l))}),i!==void 0&&Vg(i,o),n}function Vg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];yd(i,o=>{t(o,r)})}}function Cu(e,t,n,r){if(e=Ut(e),!e)return!1;let i=null,o=Fm(e),s=!o&&jr(e);if(!o&&!s){let d=e.ngModule;if(o=Fm(d),o)i=d;else return!1}else{if(s&&!s.standalone)return!1;i=e}let l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of d)Cu(h,t,n,r)}}else if(o){if(o.imports!=null&&!l){r.add(i);let h;try{md(o.imports,y=>{Cu(y,t,n,r)&&(h||=[],h.push(y))})}finally{}h!==void 0&&Vg(h,t)}if(!l){let h=Ri(i)||(()=>new i);t({provide:i,useFactory:h,deps:sn},i),t({provide:Tg,useValue:i,multi:!0},i),t({provide:Lr,useValue:()=>ye(i),multi:!0},i)}let d=o.providers;if(d!=null&&!l){let h=e;yd(d,y=>{t(y,h)})}}else return!1;return i!==e&&e.providers!==void 0}function yd(e,t){for(let n of e)Cg(n)&&(n=n.\u0275providers),Array.isArray(n)?yd(n,t):t(n)}var ID=Pe({provide:String,useValue:Pe});function Bg(e){return e!==null&&typeof e=="object"&&ID in e}function MD(e){return!!(e&&e.useExisting)}function TD(e){return!!(e&&e.useFactory)}function _u(e){return typeof e=="function"}var uc=new pe(""),Na={},AD={},au;function bd(){return au===void 0&&(au=new Ba),au}var zt=class{},$o=class extends zt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Su(t,s=>this.processProvider(s)),this.records.set(Mg,Mi(void 0,this)),i.has("environment")&&this.records.set(zt,Mi(void 0,this));let o=this.records.get(uc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Tg,sn,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ce(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ce(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=rr(this),r=$t(void 0),i;try{return t()}finally{rr(n),$t(r)}}get(t,n=Vo,r=ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(jm))return t[jm](this);r=ac(r);let i,o=rr(this),s=$t(void 0);try{if(!(r&ge.SkipSelf)){let d=this.records.get(t);if(d===void 0){let h=FD(t)&&oc(t);h&&this.injectableDefInScope(h)?d=Mi(Eu(t),Na):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d)}let l=r&ge.Self?bd():this.parent;return n=r&ge.Optional&&n===Vo?null:n,l.get(t,n)}catch(l){if(l.name==="NullInjectorError"){if((l[ja]=l[ja]||[]).unshift(wt(t)),o)throw l;return sD(l,t,"R3InjectorError",this.source)}else throw l}finally{$t(s),rr(o)}}resolveInjectorInitializers(){let t=Ce(null),n=rr(this),r=$t(void 0),i;try{let o=this.get(Lr,sn,ge.Self);for(let s of o)s()}finally{rr(n),$t(r),Ce(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(wt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(t){t=Ut(t);let n=_u(t)?t:Ut(t&&t.provide),r=OD(t);if(!_u(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Mi(void 0,Na,!0),i.factory=()=>xu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=Ce(null);try{return n.value===Na&&(n.value=AD,n.value=n.factory()),typeof n.value=="object"&&n.value&&kD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ce(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ut(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Eu(e){let t=oc(e),n=t!==null?t.factory:Ri(e);if(n!==null)return n;if(e instanceof pe)throw new Y(204,!1);if(e instanceof Function)return ND(e);throw new Y(204,!1)}function ND(e){if(e.length>0)throw new Y(204,!1);let n=Gx(e);return n!==null?()=>n.factory(e):()=>new e}function OD(e){if(Bg(e))return Mi(void 0,e.useValue);{let t=RD(e);return Mi(t,Na)}}function RD(e,t,n){let r;if(_u(e)){let i=Ut(e);return Ri(i)||Eu(i)}else if(Bg(e))r=()=>Ut(e.useValue);else if(TD(e))r=()=>e.useFactory(...xu(e.deps||[]));else if(MD(e))r=()=>ye(Ut(e.useExisting));else{let i=Ut(e&&(e.useClass||e.provide));if(PD(e))r=()=>new i(...xu(e.deps));else return Ri(i)||Eu(i)}return r}function Mi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function PD(e){return!!e.deps}function kD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function FD(e){return typeof e=="function"||typeof e=="object"&&e instanceof pe}function Su(e,t){for(let n of e)Array.isArray(n)?Su(n,t):n&&Cg(n)?Su(n.\u0275providers,t):t(n)}function cr(e,t){e instanceof $o&&e.assertNotDestroyed();let n,r=rr(e),i=$t(void 0);try{return t()}finally{rr(r),$t(i)}}function LD(){return _g()!==void 0||rD()!=null}function jD(e){return typeof e=="function"}var Mt=0,le=1,re=2,tt=3,an=4,dn=5,cn=6,Uo=7,Gt=8,Pi=9,ln=10,Be=11,Ho=12,zm=13,ji=14,Wt=15,Zo=16,Ti=17,kn=18,dc=19,$g=20,ir=21,cu=22,Vr=23,it=25,Ug=1,zo=6,Fn=7,$a=8,ki=9,vt=10,wd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(wd||{});function Rn(e){return Array.isArray(e)&&typeof e[Ug]=="object"}function vn(e){return Array.isArray(e)&&e[Ug]===!0}function xd(e){return(e.flags&4)!==0}function Jo(e){return e.componentOffset>-1}function fc(e){return(e.flags&1)===1}function es(e){return!!e.template}function Hg(e){return(e[re]&512)!==0}var Iu=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function zg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function hc(){return Gg}function Gg(e){return e.type.prototype.ngOnChanges&&(e.setInput=BD),VD}hc.ngInherit=!0;function VD(){let e=qg(this),t=e?.current;if(t){let n=e.previous;if(n===Bo)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BD(e,t,n,r,i){let o=this.declaredInputs[r],s=qg(e)||$D(e,{previous:Bo,current:null}),l=s.current||(s.current={}),d=s.previous,h=d[o];l[o]=new Iu(h&&h.currentValue,n,d===Bo),zg(e,t,i,n)}var Wg="__ngSimpleChanges__";function qg(e){return e[Wg]||null}function $D(e,t){return e[Wg]=t}var Gm=null;var pn=function(e,t,n){Gm?.(e,t,n)},Yg="svg",UD="math",HD=!1;function zD(){return HD}function un(e){for(;Array.isArray(e);)e=e[Mt];return e}function GD(e,t){return un(t[e])}function Tt(e,t){return un(t[e.index])}function Dd(e,t){return e.data[t]}function WD(e,t){return e[t]}function lr(e,t){let n=t[e];return Rn(n)?n:n[Mt]}function qD(e){return(e[re]&4)===4}function Cd(e){return(e[re]&128)===128}function YD(e){return vn(e[tt])}function Fi(e,t){return t==null?null:e[t]}function Xg(e){e[Ti]=0}function XD(e){e[re]&1024||(e[re]|=1024,Cd(e)&&Go(e))}function KD(e,t){for(;e>0;)t=t[ji],e--;return t}function _d(e){return!!(e[re]&9216||e[Vr]?.dirty)}function Mu(e){e[ln].changeDetectionScheduler?.notify(1),_d(e)?Go(e):e[re]&64&&(zD()?(e[re]|=1024,Go(e)):e[ln].changeDetectionScheduler?.notify())}function Go(e){e[ln].changeDetectionScheduler?.notify();let t=Wo(e);for(;t!==null&&!(t[re]&8192||(t[re]|=8192,!Cd(t)));)t=Wo(t)}function Kg(e,t){if((e[re]&256)===256)throw new Y(911,!1);e[ir]===null&&(e[ir]=[]),e[ir].push(t)}function QD(e,t){if(e[ir]===null)return;let n=e[ir].indexOf(t);n!==-1&&e[ir].splice(n,1)}function Wo(e){let t=e[tt];return vn(t)?t[tt]:t}var me={lFrame:iv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZD(){return me.lFrame.elementDepthCount}function JD(){me.lFrame.elementDepthCount++}function eC(){me.lFrame.elementDepthCount--}function Qg(){return me.bindingsEnabled}function ts(){return me.skipHydrationRootTNode!==null}function tC(e){return me.skipHydrationRootTNode===e}function nC(e){me.skipHydrationRootTNode=e}function rC(){me.skipHydrationRootTNode=null}function Te(){return me.lFrame.lView}function At(){return me.lFrame.tView}function Ue(e){return me.lFrame.contextLView=e,e[Gt]}function He(e){return me.lFrame.contextLView=null,e}function qt(){let e=Zg();for(;e!==null&&e.type===64;)e=e.parent;return e}function Zg(){return me.lFrame.currentTNode}function iC(){let e=me.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wr(e,t){let n=me.lFrame;n.currentTNode=e,n.isParent=t}function Ed(){return me.lFrame.isParent}function Jg(){me.lFrame.isParent=!1}function oC(){return me.lFrame.contextLView}function ev(){let e=me.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function sC(e){return me.lFrame.bindingIndex=e}function pc(){return me.lFrame.bindingIndex++}function aC(){return me.lFrame.inI18n}function cC(e,t){let n=me.lFrame;n.bindingIndex=n.bindingRootIndex=e,Tu(t)}function lC(){return me.lFrame.currentDirectiveIndex}function Tu(e){me.lFrame.currentDirectiveIndex=e}function tv(){return me.lFrame.currentQueryIndex}function Sd(e){me.lFrame.currentQueryIndex=e}function uC(e){let t=e[le];return t.type===2?t.declTNode:t.type===1?e[dn]:null}function nv(e,t,n){if(n&ge.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=uC(o),i===null||(o=o[ji],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=me.lFrame=rv();return r.currentTNode=t,r.lView=e,!0}function Id(e){let t=rv(),n=e[le];me.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function rv(){let e=me.lFrame,t=e===null?null:e.child;return t===null?iv(e):t}function iv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function ov(){let e=me.lFrame;return me.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var sv=ov;function Md(){let e=ov();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function dC(e){return(me.lFrame.contextLView=KD(e,me.lFrame.contextLView))[Gt]}function Td(){return me.lFrame.selectedIndex}function Br(e){me.lFrame.selectedIndex=e}function Ad(){let e=me.lFrame;return Dd(e.tView,e.selectedIndex)}function av(){me.lFrame.currentNamespace=Yg}function cv(){return me.lFrame.currentNamespace}var lv=!0;function mc(){return lv}function yn(e){lv=e}function fC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=Gg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function gc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:y}=o;s&&(e.contentHooks??=[]).push(-n,s),l&&((e.contentHooks??=[]).push(n,l),(e.contentCheckHooks??=[]).push(n,l)),d&&(e.viewHooks??=[]).push(-n,d),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),y!=null&&(e.destroyHooks??=[]).push(n,y)}}function Oa(e,t,n){uv(e,t,3,n)}function Ra(e,t,n,r){(e[re]&3)===n&&uv(e,t,n,r)}function lu(e,t){let n=e[re];(n&3)===t&&(n&=16383,n+=1,e[re]=n)}function uv(e,t,n,r){let i=r!==void 0?e[Ti]&65535:0,o=r??-1,s=t.length-1,l=0;for(let d=i;d<s;d++)if(typeof t[d+1]=="number"){if(l=t[d],r!=null&&l>=r)break}else t[d]<0&&(e[Ti]+=65536),(l<o||o==-1)&&(hC(e,n,t,d),e[Ti]=(e[Ti]&4294901760)+d+2),d++}function Wm(e,t){pn(4,e,t);let n=Ce(null);try{t.call(e)}finally{Ce(n),pn(5,e,t)}}function hC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],l=e[s];i?e[re]>>14<e[Ti]>>16&&(e[re]&3)===t&&(e[re]+=16384,Wm(l,o)):Wm(l,o)}var Oi=-1,qo=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function pC(e){return e instanceof qo}function mC(e){return(e.flags&8)!==0}function gC(e){return(e.flags&16)!==0}function dv(e){return e!==Oi}function Ua(e){return e&32767}function vC(e){return e>>16}function Ha(e,t){let n=vC(e),r=t;for(;n>0;)r=r[ji],n--;return r}var Au=!0;function qm(e){let t=Au;return Au=e,t}var yC=256,fv=yC-1,hv=5,bC=0,mn={};function wC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(r=n[jo]),r==null&&(r=n[jo]=bC++);let i=r&fv,o=1<<i;t.data[e+(i>>hv)]|=o}function pv(e,t){let n=mv(e,t);if(n!==-1)return n;let r=t[le];r.firstCreatePass&&(e.injectorIndex=t.length,uu(r.data,e),uu(t,null),uu(r.blueprint,null));let i=Nd(e,t),o=e.injectorIndex;if(dv(i)){let s=Ua(i),l=Ha(i,t),d=l[le].data;for(let h=0;h<8;h++)t[o+h]=l[s+h]|d[s+h]}return t[o+8]=i,o}function uu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Nd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=wv(i),r===null)return Oi;if(n++,i=i[ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Oi}function xC(e,t,n){wC(e,t,n)}function gv(e,t,n){if(n&ge.Optional||e!==void 0)return e;hd(t,"NodeInjector")}function vv(e,t,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=e[Pi],o=$t(void 0);try{return i?i.get(t,r,n&ge.Optional):Eg(t,r,n&ge.Optional)}finally{$t(o)}}return gv(r,t,n)}function yv(e,t,n,r=ge.Default,i){if(e!==null){if(t[re]&2048&&!(r&ge.Self)){let s=EC(e,t,n,r,mn);if(s!==mn)return s}let o=bv(e,t,n,r,mn);if(o!==mn)return o}return vv(t,n,r,i)}function bv(e,t,n,r,i){let o=CC(n);if(typeof o=="function"){if(!nv(t,e,r))return r&ge.Host?gv(i,n,r):vv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))hd(n);else return s}finally{sv()}}else if(typeof o=="number"){let s=null,l=mv(e,t),d=Oi,h=r&ge.Host?t[Wt][dn]:null;for((l===-1||r&ge.SkipSelf)&&(d=l===-1?Nd(e,t):t[l+8],d===Oi||!Xm(r,!1)?l=-1:(s=t[le],l=Ua(d),t=Ha(d,t)));l!==-1;){let y=t[le];if(Ym(o,l,y.data)){let m=DC(l,t,n,s,r,h);if(m!==mn)return m}d=t[l+8],d!==Oi&&Xm(r,t[le].data[l+8]===h)&&Ym(o,l,t)?(s=y,l=Ua(d),t=Ha(d,t)):l=-1}}return i}function DC(e,t,n,r,i,o){let s=t[le],l=s.data[e+8],d=r==null?Jo(l)&&Au:r!=s&&(l.type&3)!==0,h=i&ge.Host&&o===l,y=Pa(l,s,n,d,h);return y!==null?Li(t,s,y,l):mn}function Pa(e,t,n,r,i){let o=e.providerIndexes,s=t.data,l=o&1048575,d=e.directiveStart,h=e.directiveEnd,y=o>>20,m=r?l:l+y,D=i?l+y:h;for(let _=m;_<D;_++){let S=s[_];if(_<d&&n===S||_>=d&&S.type===n)return _}if(i){let _=s[d];if(_&&es(_)&&_.type===n)return d}return null}function Li(e,t,n,r){let i=e[n],o=t.data;if(pC(i)){let s=i;s.resolving&&Zx(Qx(o[n]));let l=qm(s.canSeeViewProviders);s.resolving=!0;let d,h=s.injectImpl?$t(s.injectImpl):null,y=nv(e,r,ge.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&fC(n,o[n],t)}finally{h!==null&&$t(h),qm(l),s.resolving=!1,sv()}}return i}function CC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(jo)?e[jo]:void 0;return typeof t=="number"?t>=0?t&fv:_C:t}function Ym(e,t,n){let r=1<<e;return!!(n[t+(e>>hv)]&r)}function Xm(e,t){return!(e&ge.Self)&&!(e&ge.Host&&t)}var Fr=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return yv(this._tNode,this._lView,t,ac(r),n)}};function _C(){return new Fr(qt(),Te())}function Od(e){return Qo(()=>{let t=e.prototype.constructor,n=t[La]||Nu(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[La]||Nu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Nu(e){return bg(e)?()=>{let t=Nu(Ut(e));return t&&t()}:Ri(e)}function EC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let l=bv(o,s,n,r|ge.Self,mn);if(l!==mn)return l;let d=o.parent;if(!d){let h=s[$g];if(h){let y=h.get(n,mn,r);if(y!==mn)return y}d=wv(s),s=s[ji]}o=d}return i}function wv(e){let t=e[le],n=t.type;return n===2?t.declTNode:n===1?e[dn]:null}function Km(e,t=null,n=null,r){let i=xv(e,t,n,r);return i.resolveInjectorInitializers(),i}function xv(e,t=null,n=null,r,i=new Set){let o=[n||sn,SD(e)];return r=r||(typeof e=="object"?void 0:wt(e)),new $o(o,t||bd(),r||null,i)}var qr=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Vo}static{this.NULL=new Ba}static create(n,r){if(Array.isArray(n))return Km({name:""},r,n,"");{let i=n.name??"";return Km({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=X({token:e,providedIn:"any",factory:()=>ye(Mg)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var SC="ngOriginalError";function du(e){return e[SC]}var Ln=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&du(t);for(;n&&du(n);)n=du(n);return n||null}},Dv=new pe("",{providedIn:"root",factory:()=>k(Ln).handleError.bind(void 0)}),Cv=(()=>{class e{static{this.__NG_ELEMENT_ID__=IC}static{this.__NG_ENV_ID__=n=>n}}return e})(),Ou=class extends Cv{constructor(t){super(),this._lView=t}onDestroy(t){return Kg(this._lView,t),()=>QD(this._lView,t)}};function IC(){return new Ou(Te())}function MC(){return Vi(qt(),Te())}function Vi(e,t){return new jn(Tt(e,t))}var jn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=MC}}return e})();function TC(e){return e instanceof jn?e.nativeElement:e}var Ru=class extends gt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,LD()&&(this.destroyRef=k(Cv,{optional:!0})??void 0)}emit(t){let n=Ce(null);try{super.next(t)}finally{Ce(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let d=t;i=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=fu(o),i&&(i=fu(i)),s&&(s=fu(s)));let l=super.subscribe({next:i,error:o,complete:s});return t instanceof Ke&&t.add(l),l}};function fu(e){return t=>{setTimeout(e,void 0,t)}}var Ht=Ru;function AC(){return this._results[Symbol.iterator]()}var Pu=class e{get changes(){return this._changes??=new Ht}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=AC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=lD(t);(this._changesDetected=!cD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},NC="ngSkipHydration",OC="ngskiphydration";function _v(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===OC)return!0}return!1}function Ev(e){return e.hasAttribute(NC)}function za(e){return(e.flags&128)===128}function RC(e){if(za(e))return!0;let t=e.parent;for(;t;){if(za(e)||_v(t))return!0;t=t.parent}return!1}var Sv=new Map,PC=0;function kC(){return PC++}function FC(e){Sv.set(e[dc],e)}function LC(e){Sv.delete(e[dc])}var Qm="__ngContext__";function or(e,t){Rn(t)?(e[Qm]=t[dc],FC(t)):e[Qm]=t}function Iv(e){return Tv(e[Ho])}function Mv(e){return Tv(e[an])}function Tv(e){for(;e!==null&&!vn(e);)e=e[an];return e}var ku;function Av(e){ku=e}function vc(){if(ku!==void 0)return ku;if(typeof document<"u")return document;throw new Y(210,!1)}var yc=new pe("",{providedIn:"root",factory:()=>jC}),jC="ng",Rd=new pe(""),bn=new pe("",{providedIn:"platform",factory:()=>"unknown"});var Pd=new pe("",{providedIn:"root",factory:()=>vc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function VC(){let e=new Yr;return k(bn)==="browser"&&(e.store=BC(vc(),k(yc))),e}var Yr=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=X({token:e,providedIn:"root",factory:VC})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function BC(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Nv="h",Ov="b",Fu=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Fu||{}),$C="e",UC="t",kd="c",Rv="x",Ga="r",HC="i",zC="n",GC="d",WC="__nghData__",Pv=WC,hu="ngh",qC="nghm",kv=()=>null;function YC(e,t,n=!1){let r=e.getAttribute(hu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",l=n?i:s,d={};if(r!==""){let y=t.get(Yr,null,{optional:!0});y!==null&&(d=y.get(Pv,[])[Number(r)])}let h={data:d,firstChild:e.firstChild??null};return n&&(h.firstChild=e,bc(h,0,e.nextSibling)),l?e.setAttribute(hu,l):e.removeAttribute(hu),h}function XC(){kv=YC}function Fd(e,t,n=!1){return kv(e,t,n)}function KC(e){let t=e._lView;return t[le].type===2?null:(Hg(t)&&(t=t[it]),t)}function QC(e){return e.textContent?.replace(/\s/gm,"")}function ZC(e){let t=vc(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=QC(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function bc(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Lu(e,t){return e.segmentHeads?.[t]??null}function JC(e,t){let n=e.data,r=n[$C]?.[t]??null;return r===null&&n[kd]?.[t]&&(r=Ld(e,t)),r}function Fv(e,t){return e.data[kd]?.[t]??null}function Ld(e,t){let n=Fv(e,t)??[],r=0;for(let i of n)r+=i[Ga]*(i[Rv]??1);return r}function wc(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[GC];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}var Ma=new pe(""),Lv=!1,jv=new pe("",{providedIn:"root",factory:()=>Lv}),e_=new pe("");var Wa=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gg})`}};function jd(e){return e instanceof Wa?e.changingThisBreaksApplicationSecurity:e}function Vv(e,t){let n=t_(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${gg})`)}return n===t}function t_(e){return e instanceof Wa&&e.getTypeName()||null}var n_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bv(e){return e=String(e),e.match(n_)?e:"unsafe:"+e}var Vd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Vd||{});function ur(e){let t=r_();return t?t.sanitize(Vd.URL,e)||"":Vv(e,"URL")?jd(e):Bv(sc(e))}function r_(){let e=Te();return e&&e[ln].sanitizer}var i_=/^>|^->|<!--|-->|--!>|<!-$/g,o_=/(<|>)/g,s_="\u200B$1\u200B";function a_(e){return e.replace(i_,t=>t.replace(o_,s_))}function $v(e){return e.ownerDocument.defaultView}function c_(e){return e.ownerDocument.body}function Uv(e){return e instanceof Function?e():e}function Ta(e){return(e??k(qr)).get(bn)==="browser"}var dr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(dr||{}),l_;function Bd(e,t){return l_(e,t)}function Ai(e,t,n,r,i){if(r!=null){let o,s=!1;vn(r)?o=r:Rn(r)&&(s=!0,r=r[Mt]);let l=un(r);e===0&&n!==null?i==null?Gv(t,n,l):Ya(t,n,l,i||null,!0):e===1&&n!==null?Ya(t,n,l,i||null,!0):e===2?Gd(t,l,s):e===3&&t.destroyNode(l),o!=null&&S_(t,e,o,n,i)}}function $d(e,t){return e.createText(t)}function u_(e,t,n){e.setValue(t,n)}function Ud(e,t){return e.createComment(a_(t))}function xc(e,t,n){return e.createElement(t,n)}function d_(e,t){Hv(e,t),t[Mt]=null,t[dn]=null}function f_(e,t,n,r,i,o){r[Mt]=i,r[dn]=t,Cc(e,r,n,1,i,o)}function Hv(e,t){t[ln].changeDetectionScheduler?.notify(1),Cc(e,t,t[Be],2,null,null)}function h_(e){let t=e[Ho];if(!t)return pu(e[le],e);for(;t;){let n=null;if(Rn(t))n=t[Ho];else{let r=t[vt];r&&(n=r)}if(!n){for(;t&&!t[an]&&t!==e;)Rn(t)&&pu(t[le],t),t=t[tt];t===null&&(t=e),Rn(t)&&pu(t[le],t),n=t&&t[an]}t=n}}function p_(e,t,n,r){let i=vt+r,o=n.length;r>0&&(n[i-1][an]=t),r<o-vt?(t[an]=n[i],Ig(n,vt+r,t)):(n.push(t),t[an]=null),t[tt]=n;let s=t[Zo];s!==null&&n!==s&&m_(s,t);let l=t[kn];l!==null&&l.insertView(e),Mu(t),t[re]|=128}function m_(e,t){let n=e[ki],i=t[tt][tt][Wt];t[Wt]!==i&&(e[re]|=wd.HasTransplantedViews),n===null?e[ki]=[t]:n.push(t)}function zv(e,t){let n=e[ki],r=n.indexOf(t);n.splice(r,1)}function qa(e,t){if(e.length<=vt)return;let n=vt+t,r=e[n];if(r){let i=r[Zo];i!==null&&i!==e&&zv(i,r),t>0&&(e[n-1][an]=r[an]);let o=Va(e,vt+t);d_(r[le],r);let s=o[kn];s!==null&&s.detachView(o[le]),r[tt]=null,r[an]=null,r[re]&=-129}return r}function Hd(e,t){if(!(t[re]&256)){let n=t[Be];n.destroyNode&&Cc(e,t,n,3,null,null),h_(t)}}function pu(e,t){if(t[re]&256)return;let n=Ce(null);try{t[re]&=-129,t[re]|=256,t[Vr]&&im(t[Vr]),v_(e,t),g_(e,t),t[le].type===1&&t[Be].destroy();let r=t[Zo];if(r!==null&&vn(t[tt])){r!==t[tt]&&zv(r,t);let i=t[kn];i!==null&&i.detachView(e)}LC(t)}finally{Ce(n)}}function g_(e,t){let n=e.cleanup,r=t[Uo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Uo]=null);let i=t[ir];if(i!==null){t[ir]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function v_(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof qo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=i[o[s]],d=o[s+1];pn(4,l,d);try{d.call(l)}finally{pn(5,l,d)}}else{pn(4,i,o);try{o.call(i)}finally{pn(5,i,o)}}}}}function y_(e,t,n){return b_(e,t.parent,n)}function b_(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[Mt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===gn.None||o===gn.Emulated)return null}return Tt(r,n)}}function Ya(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Gv(e,t,n){e.appendChild(t,n)}function Zm(e,t,n,r,i){r!==null?Ya(e,t,n,r,i):Gv(e,t,n)}function w_(e,t,n,r){e.removeChild(t,n,r)}function zd(e,t){return e.parentNode(t)}function x_(e,t){return e.nextSibling(t)}function D_(e,t,n){return __(e,t,n)}function C_(e,t,n){return e.type&40?Tt(e,n):null}var __=C_,Jm;function Dc(e,t,n,r){let i=y_(e,r,t),o=t[Be],s=r.parent||t[dn],l=D_(s,r,t);if(i!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)Zm(o,i,n[d],l,!1);else Zm(o,i,n,l,!1);Jm!==void 0&&Jm(o,r,t,n,i)}function ka(e,t){if(t!==null){let n=t.type;if(n&3)return Tt(t,e);if(n&4)return ju(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return ka(e,r);{let i=e[t.index];return vn(i)?ju(-1,i):un(i)}}else{if(n&32)return Bd(t,e)()||un(e[t.index]);{let r=Wv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Wo(e[Wt]);return ka(i,r)}else return ka(e,t.next)}}}return null}function Wv(e,t){if(t!==null){let r=e[Wt][dn],i=t.projection;return r.projection[i]}return null}function ju(e,t){let n=vt+e+1;if(n<t.length){let r=t[n],i=r[le].firstChild;if(i!==null)return ka(r,i)}return t[Fn]}function Gd(e,t,n){let r=zd(e,t);r&&w_(e,r,t,n)}function qv(e){e.textContent=""}function Wd(e,t,n,r,i,o,s){for(;n!=null;){let l=r[n.index],d=n.type;if(s&&t===0&&(l&&or(un(l),r),n.flags|=2),(n.flags&32)!==32)if(d&8)Wd(e,t,n.child,r,i,o,!1),Ai(t,e,i,l,o);else if(d&32){let h=Bd(n,r),y;for(;y=h();)Ai(t,e,i,y,o);Ai(t,e,i,l,o)}else d&16?E_(e,t,r,n,i,o):Ai(t,e,i,l,o);n=s?n.projectionNext:n.next}}function Cc(e,t,n,r,i,o){Wd(n,r,e.firstChild,t,i,o,!1)}function E_(e,t,n,r,i,o){let s=n[Wt],d=s[dn].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let y=d[h];Ai(t,e,i,y,o)}else{let h=d,y=s[tt];za(r)&&(h.flags|=128),Wd(e,t,h,y,i,o,!0)}}function S_(e,t,n,r,i){let o=n[Fn],s=un(n);o!==s&&Ai(t,e,r,o,i);for(let l=vt;l<n.length;l++){let d=n[l];Cc(d[le],d,e,t,r,o)}}function I_(e,t,n){e.setAttribute(t,"style",n)}function Yv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Xv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Du(e,t,r),i!==null&&Yv(e,t,i),o!==null&&I_(e,t,o)}var Bi={};function G(e=1){Kv(At(),Te(),Td()+e,!1)}function Kv(e,t,n,r){if(!r)if((t[re]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Oa(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Ra(t,o,0,n)}Br(n)}function Ve(e,t=ge.Default){let n=Te();if(n===null)return ye(e,t);let r=qt();return yv(r,n,Ut(e),t)}function Qv(e,t,n,r,i,o){let s=Ce(null);try{let l=null;i&Pn.SignalBased&&(l=t[r][em]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),i&Pn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,l,o,n,r):zg(t,l,r,o)}finally{Ce(s)}}function M_(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Br(~i);else{let o=i,s=n[++r],l=n[++r];cC(s,o);let d=t[o];l(2,d)}}}finally{Br(-1)}}function _c(e,t,n,r,i,o,s,l,d,h,y){let m=t.blueprint.slice();return m[Mt]=i,m[re]=r|4|128|8|64,(h!==null||e&&e[re]&2048)&&(m[re]|=2048),Xg(m),m[tt]=m[ji]=e,m[Gt]=n,m[ln]=s||e&&e[ln],m[Be]=l||e&&e[Be],m[Pi]=d||e&&e[Pi]||null,m[dn]=o,m[dc]=kC(),m[cn]=y,m[$g]=h,m[Wt]=t.type==2?e[Wt]:m,m}function ns(e,t,n,r,i){let o=e.data[t];if(o===null)o=T_(e,t,n,r,i),aC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=iC();o.injectorIndex=s===null?-1:s.injectorIndex}return Wr(o,!0),o}function T_(e,t,n,r,i){let o=Zg(),s=Ed(),l=s?o:o&&o.parent,d=e.data[t]=F_(e,l,n,t,r,i);return e.firstChild===null&&(e.firstChild=d),o!==null&&(s?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function Zv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Jv(e,t,n,r,i){let o=Td(),s=r&2;try{Br(-1),s&&t.length>it&&Kv(e,t,it,!1),pn(s?2:0,i),n(r,i)}finally{Br(o),pn(s?3:1,i)}}function qd(e,t,n){if(xd(t)){let r=Ce(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let l=e.data[s];if(l.contentQueries){let d=n[s];l.contentQueries(1,d,s)}}}finally{Ce(r)}}}function Yd(e,t,n){Qg()&&(U_(e,t,n,Tt(n,t)),(n.flags&64)===64&&iy(e,t,n))}function Xd(e,t,n=Tt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],l=s===-1?n(t,e):e[s];e[i++]=l}}}function ey(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Kd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Kd(e,t,n,r,i,o,s,l,d,h,y){let m=it+r,D=m+i,_=A_(m,D),S=typeof h=="function"?h():h;return _[le]={type:e,blueprint:_,template:n,queries:null,viewQuery:l,declTNode:t,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:S,incompleteFirstPass:!1,ssrId:y}}function A_(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Bi);return n}function N_(e,t,n,r){let o=r.get(jv,Lv)||n===gn.ShadowDom,s=e.selectRootElement(t,o);return O_(s),s}function O_(e){ty(e)}var ty=()=>null;function R_(e){Ev(e)?qv(e):ZC(e)}function P_(){ty=R_}function k_(e,t,n,r){let i=ay(t);i.push(n),e.firstCreatePass&&cy(e).push(r,i.length-1)}function F_(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,l=0;return ts()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function eg(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let l,d=Pn.None;Array.isArray(s)?(l=s[0],d=s[1]):l=s;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}e===0?tg(r,n,h,l,d):tg(r,n,h,l)}return r}function tg(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function L_(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,l=[],d=null,h=null;for(let y=r;y<i;y++){let m=o[y],D=n?n.get(m):null,_=D?D.inputs:null,S=D?D.outputs:null;d=eg(0,m.inputs,y,d,_),h=eg(1,m.outputs,y,h,S);let T=d!==null&&s!==null&&!vd(t)?J_(d,y,s):null;l.push(T)}d!==null&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=d,t.outputs=h}function j_(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ny(e,t,n,r,i,o,s,l){let d=Tt(t,n),h=t.inputs,y;!l&&h!=null&&(y=h[r])?(Zd(e,n,y,r,i),Jo(t)&&V_(n,t.index)):t.type&3?(r=j_(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(d,r,i)):t.type&12}function V_(e,t){let n=lr(t,e);n[re]&16||(n[re]|=64)}function Qd(e,t,n,r){if(Qg()){let i=r===null?null:{"":-1},o=z_(e,n),s,l;o===null?s=l=null:[s,l]=o,s!==null&&ry(e,t,n,s,i,l),i&&G_(n,r,i)}n.mergedAttrs=gd(n.mergedAttrs,n.attrs)}function ry(e,t,n,r,i,o){for(let h=0;h<r.length;h++)xC(pv(n,t),e,r[h].type);q_(n,e.data.length,r.length);for(let h=0;h<r.length;h++){let y=r[h];y.providersResolver&&y.providersResolver(y)}let s=!1,l=!1,d=Zv(e,t,r.length,null);for(let h=0;h<r.length;h++){let y=r[h];n.mergedAttrs=gd(n.mergedAttrs,y.hostAttrs),Y_(e,n,t,d,y),W_(d,y,i),y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let m=y.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}L_(e,n,o)}function B_(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let l=~t.index;$_(s)!=l&&s.push(l),s.push(n,r,o)}}function $_(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function U_(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;Jo(n)&&X_(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||pv(n,t),or(r,t);let s=n.initialInputs;for(let l=i;l<o;l++){let d=e.data[l],h=Li(t,e,l,n);if(or(h,t),s!==null&&Z_(t,l-i,h,d,n,s),es(d)){let y=lr(n.index,t);y[Gt]=Li(t,e,l,n)}}}function iy(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=lC();try{Br(o);for(let l=r;l<i;l++){let d=e.data[l],h=t[l];Tu(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&H_(d,h)}}finally{Br(-1),Tu(s)}}function H_(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function z_(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(vD(t,s.selectors,!1))if(r||(r=[]),es(s))if(s.findHostDirectiveDefs!==null){let l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),r.unshift(...l,s);let d=l.length;Vu(e,t,d)}else r.unshift(s),Vu(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Vu(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function G_(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new Y(-301,!1);r.push(t[i],o)}}}function W_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;es(t)&&(n[""]=e)}}function q_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Y_(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new qo(o,es(i),Ve);e.blueprint[r]=s,n[r]=s,B_(e,t,r,Zv(e,n,i.hostVars,Bi),i)}function X_(e,t,n){let r=Tt(t,e),i=ey(n),o=e[ln].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let l=Ec(e,_c(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=l}function K_(e,t,n,r,i,o){let s=Tt(e,t);Q_(t[Be],s,o,e.value,n,r,i)}function Q_(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let l=s==null?sc(o):s(o,r||"",i);e.setAttribute(t,i,l,n)}}function Z_(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let l=0;l<s.length;){let d=s[l++],h=s[l++],y=s[l++],m=s[l++];Qv(r,n,d,h,y,m)}}function J_(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let l=0;l<s.length;l+=3)if(s[l]===t){r.push(o,s[l+1],s[l+2],n[i+1]);break}}i+=2}return r}function oy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function sy(e,t){let n=e.contentQueries;if(n!==null){let r=Ce(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let l=e.data[s];Sd(o),l.contentQueries(2,t[s],s)}}}finally{Ce(r)}}}function Ec(e,t){return e[Ho]?e[zm][an]=t:e[Ho]=t,e[zm]=t,t}function Bu(e,t,n){Sd(0);let r=Ce(null);try{t(e,n)}finally{Ce(r)}}function ay(e){return e[Uo]||(e[Uo]=[])}function cy(e){return e.cleanup||(e.cleanup=[])}function ly(e,t){let n=e[Pi],r=n?n.get(Ln,null):null;r&&r.handleError(t)}function Zd(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],l=n[o++],d=n[o++],h=t[s],y=e.data[s];Qv(y,h,r,l,d,i)}}function eE(e,t,n){let r=GD(t,e);u_(e[Be],r,n)}function tE(e,t){let n=lr(t,e),r=n[le];nE(r,n);let i=n[Mt];i!==null&&n[cn]===null&&(n[cn]=Fd(i,n[Pi])),Jd(r,n,n[Gt])}function nE(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Jd(e,t,n){Id(t);try{let r=e.viewQuery;r!==null&&Bu(1,r,n);let i=e.template;i!==null&&Jv(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[kn]?.finishViewCreation(e),e.staticContentQueries&&sy(e,t),e.staticViewQueries&&Bu(2,e.viewQuery,n);let o=e.components;o!==null&&rE(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[re]&=-5,Md()}}function rE(e,t){for(let n=0;n<t.length;n++)tE(e,t[n])}function uy(e,t,n,r){let i=Ce(null);try{let o=t.tView,l=e[re]&4096?4096:16,d=_c(e,o,n,l,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=e[t.index];d[Zo]=h;let y=e[kn];return y!==null&&(d[kn]=y.createEmbeddedView(o)),Jd(o,d,n),d}finally{Ce(i)}}function iE(e,t){let n=vt+t;if(n<e.length)return e[n]}function $u(e,t){return!t||t.firstChild===null||za(e)}function dy(e,t,n,r=!0){let i=t[le];if(p_(i,t,e,n),r){let s=ju(n,e),l=t[Be],d=zd(l,e[Fn]);d!==null&&f_(i,e[dn],l,t,d,s)}let o=t[cn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function oE(e,t){let n=qa(e,t);return n!==void 0&&Hd(n[le],n),n}function Xa(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(un(o)),vn(o)&&sE(o,r);let s=n.type;if(s&8)Xa(e,t,n.child,r);else if(s&32){let l=Bd(n,t),d;for(;d=l();)r.push(d)}else if(s&16){let l=Wv(t,n);if(Array.isArray(l))r.push(...l);else{let d=Wo(t[Wt]);Xa(d[le],d,l,r,!0)}}n=i?n.projectionNext:n.next}return r}function sE(e,t){for(let n=vt;n<e.length;n++){let r=e[n],i=r[le].firstChild;i!==null&&Xa(r[le],r,i,t)}e[Fn]!==e[Mt]&&t.push(e[Fn])}var fy=[];function aE(e){return e[Vr]??cE(e)}function cE(e){let t=fy.pop()??Object.create(uE);return t.lView=e,t}function lE(e){e.lView[Vr]!==e&&(e.lView=null,fy.push(e))}var uE=Le(V({},tm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Go(e.lView)},consumerOnSignalRead(){this.lView[Vr]=this}}),hy=100;function py(e,t=!0,n=0){let r=e[ln],i=r.rendererFactory,o=!1;o||i.begin?.();try{dE(e,n)}catch(s){throw t&&ly(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function dE(e,t){Uu(e,t);let n=0;for(;_d(e);){if(n===hy)throw new Y(103,!1);n++,Uu(e,1)}}function fE(e,t,n,r){let i=t[re];if((i&256)===256)return;let o=!1;!o&&t[ln].inlineEffectRunner?.flush(),Id(t);let s=null,l=null;!o&&hE(e)&&(l=aE(t),s=nm(l));try{Xg(t),sC(e.bindingStartIndex),n!==null&&Jv(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let m=e.preOrderCheckHooks;m!==null&&Oa(t,m,null)}else{let m=e.preOrderHooks;m!==null&&Ra(t,m,0,null),lu(t,0)}if(pE(t),my(t,0),e.contentQueries!==null&&sy(e,t),!o)if(d){let m=e.contentCheckHooks;m!==null&&Oa(t,m)}else{let m=e.contentHooks;m!==null&&Ra(t,m,1),lu(t,1)}M_(e,t);let h=e.components;h!==null&&vy(t,h,0);let y=e.viewQuery;if(y!==null&&Bu(2,y,r),!o)if(d){let m=e.viewCheckHooks;m!==null&&Oa(t,m)}else{let m=e.viewHooks;m!==null&&Ra(t,m,2),lu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[cu]){for(let m of t[cu])m();t[cu]=null}o||(t[re]&=-73)}catch(d){throw Go(t),d}finally{l!==null&&(rm(l,s),lE(l)),Md()}}function hE(e){return e.type!==2}function my(e,t){for(let n=Iv(e);n!==null;n=Mv(n))for(let r=vt;r<n.length;r++){let i=n[r];gy(i,t)}}function pE(e){for(let t=Iv(e);t!==null;t=Mv(t)){if(!(t[re]&wd.HasTransplantedViews))continue;let n=t[ki];for(let r=0;r<n.length;r++){let i=n[r],o=i[tt];XD(i)}}}function mE(e,t,n){let r=lr(t,e);gy(r,n)}function gy(e,t){Cd(e)&&Uu(e,t)}function Uu(e,t){let r=e[le],i=e[re],o=e[Vr],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ul(o)),o&&(o.dirty=!1),e[re]&=-9217,s)fE(r,e,r.template,e[Gt]);else if(i&8192){my(e,1);let l=r.components;l!==null&&vy(e,l,1)}}function vy(e,t,n){for(let r=0;r<t.length;r++)mE(e,t[r],n)}function ef(e){for(e[ln].changeDetectionScheduler?.notify();e;){e[re]|=64;let t=Wo(e);if(Hg(e)&&!t)return e;e=t}return null}var $r=class{get rootNodes(){let t=this._lView,n=t[le];return Xa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(t){this._lView[Gt]=t}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[tt];if(vn(t)){let n=t[$a],r=n?n.indexOf(this):-1;r>-1&&(qa(t,r),Va(n,r))}this._attachedToViewContainer=!1}Hd(this._lView[le],this._lView)}onDestroy(t){Kg(this._lView,t)}markForCheck(){ef(this._cdRefInjectingView||this._lView)}detach(){this._lView[re]&=-129}reattach(){Mu(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,py(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hv(this._lView[le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=t,Mu(this._lView)}},Ur=(()=>{class e{static{this.__NG_ELEMENT_ID__=yE}}return e})(),gE=Ur,vE=class extends gE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=uy(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new $r(i)}};function yE(){return Sc(qt(),Te())}function Sc(e,t){return e.type&4?new vE(t,e,Vi(e,t)):null}function yy(e){let t=e[zo]??[],r=e[tt][Be];for(let i of t)bE(i,r);e[zo]=sn}function bE(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ga];for(;n<i;){let o=r.nextSibling;Gd(t,r,!1),r=o,n++}}}function by(e){yy(e);for(let t=vt;t<e.length;t++)Ka(e[t])}function wE(e){let t=e[cn]?.i18nNodes;if(t){let n=e[Be];for(let r of t.values())Gd(n,r,!1);e[cn].i18nNodes=void 0}}function Ka(e){wE(e);let t=e[le];for(let n=it;n<t.bindingStartIndex;n++)if(vn(e[n])){let r=e[n];by(r)}else Rn(e[n])&&Ka(e[n])}function xE(e){let t=e._views;for(let n of t){let r=KC(n);if(r!==null&&r[Mt]!==null)if(Rn(r))Ka(r);else{let i=r[Mt];Ka(i),by(r)}}}var DE=new RegExp(`^(\\d+)*(${Ov}|${Nv})*(.*)`);function CE(e){let t=e.match(DE),[n,r,i,o]=t,s=r?parseInt(r,10):i,l=[];for(let[d,h,y]of o.matchAll(/(f|n)(\d*)/g)){let m=parseInt(y,10)||1;l.push(h,m)}return[s,...l]}function _E(e){return!e.prev&&e.parent?.type===8}function mu(e){return e.index-it}function EE(e,t){let n=e.i18nNodes;if(n){let r=n.get(t);return r&&n.delete(t),r}return null}function Ic(e,t,n,r){let i=mu(r),o=EE(e,i);if(!o){let s=e.data[zC];if(s?.[i])o=IE(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let l=r.prev===null,d=r.prev??r.parent;if(_E(r)){let h=mu(r.parent);o=Lu(e,h)}else{let h=Tt(d,n);if(l)o=h.firstChild;else{let y=mu(d),m=Lu(e,y);if(d.type===2&&m){let _=Ld(e,y)+1;o=Mc(_,m)}else o=h.nextSibling}}}}return o}function Mc(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function SE(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case Fu.FirstChild:n=n.firstChild;break;case Fu.NextSibling:n=n.nextSibling;break}}return n}function IE(e,t){let[n,...r]=CE(e),i;if(n===Nv)i=t[Wt][Mt];else if(n===Ov)i=c_(t[Wt][Mt]);else{let o=Number(n);i=un(t[o+it])}return SE(i,r)}function ME(e,t){let n=[];for(let r of t)for(let i=0;i<(r[Rv]??1);i++){let o={data:r,firstChild:null};r[Ga]>0&&(o.firstChild=e,e=Mc(r[Ga],e)),n.push(o)}return[e,n]}var wy=()=>null;function TE(e,t){let n=e[zo];return!t||n===null||n.length===0?null:n[0].data[HC]===t?n.shift():(yy(e),null)}function AE(){wy=TE}function Hu(e,t){return wy(e,t)}var zu=class{},Gu=class{},Qa=class{};function NE(e){let t=Error(`No component factory found for ${wt(e)}.`);return t[OE]=e,t}var OE="ngComponent";var Wu=class{resolveComponentFactory(t){throw NE(t)}},Tc=(()=>{class e{static{this.NULL=new Wu}}return e})(),Yo=class{},Vn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>RE()}}return e})();function RE(){let e=Te(),t=qt(),n=lr(t.index,e);return(Rn(n)?n:e)[Be]}var PE=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:()=>null})}}return e})(),gu={};var ng=new Set;function $i(e){ng.has(e)||(ng.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function rg(...e){}function kE(){let e=typeof Lo.requestAnimationFrame=="function",t=Lo[e?"requestAnimationFrame":"setTimeout"],n=Lo[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Ge=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ht(!1),this.onMicrotaskEmpty=new Ht(!1),this.onStable=new Ht(!1),this.onError=new Ht(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=kE().nativeRequestAnimationFrame,jE(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Y(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,FE,rg,rg);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},FE={};function tf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function LE(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Lo,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,qu(e),e.isCheckStableRunning=!0,tf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),qu(e))}function jE(e){let t=()=>{LE(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,l)=>{if(VE(l))return n.invokeTask(i,o,s,l);try{return ig(e),n.invokeTask(i,o,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),og(e)}},onInvoke:(n,r,i,o,s,l,d)=>{try{return ig(e),n.invoke(i,o,s,l,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),og(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,qu(e),tf(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function qu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function ig(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function og(e){e._nesting--,tf(e)}function VE(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var xy=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Za(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number")o=l;else if(o==1)i=Pm(i,l);else if(o==2){let d=l,h=t[++s];r=Pm(r,d+": "+h+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ja=class extends Tc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=jr(t);return new Xo(n,this.ngModule)}};function sg(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function BE(e){let t=e.toLowerCase();return t==="svg"?Yg:t==="math"?UD:null}var Yu=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ac(r);let i=this.injector.get(t,gu,r);return i!==gu||n===gu?i:this.parentInjector.get(t,n,r)}},Xo=class extends Qa{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=sg(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=xD(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=Ce(null);try{i=i||this.ngModule;let s=i instanceof zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new Yu(t,s):t,d=l.get(Yo,null);if(d===null)throw new Y(407,!1);let h=l.get(PE,null),y=l.get(xy,null),m=l.get(zu,null),D={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:y,changeDetectionScheduler:m},_=d.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",T=r?N_(_,r,this.componentDef.encapsulation,l):xc(_,S,BE(S)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let P=null;T!==null&&(P=Fd(T,l,!0));let fe=Kd(0,null,null,1,0,null,null,null,null,null,null),he=_c(null,fe,null,R,null,null,D,_,l,null,P);Id(he);let Ne,I;try{let Ie=this.componentDef,Je,ht=null;Ie.findHostDirectiveDefs?(Je=[],ht=new Map,Ie.findHostDirectiveDefs(Ie,Je,ht),Je.push(Ie)):Je=[Ie];let Sn=$E(he,T),ze=UE(Sn,T,Ie,Je,he,D,_);I=Dd(fe,it),T&&GE(_,Ie,T,r),n!==void 0&&WE(I,this.ngContentSelectors,n),Ne=zE(ze,Ie,Je,ht,he,[qE]),Jd(fe,he,null)}finally{Md()}return new Xu(this.componentType,Ne,Vi(I,he),he,I)}finally{Ce(o)}}},Xu=class extends Gu{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $r(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Zd(o[le],o,i,t,n),this.previousInputValues.set(t,n);let s=lr(this._tNode.index,o);ef(s)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function $E(e,t){let n=e[le],r=it;return e[r]=t,ns(n,r,2,"#host",null)}function UE(e,t,n,r,i,o,s){let l=i[le];HE(r,e,t,s);let d=null;t!==null&&(d=Fd(t,i[Pi]));let h=o.rendererFactory.createRenderer(t,n),y=16;n.signals?y=4096:n.onPush&&(y=64);let m=_c(i,ey(n),null,y,i[e.index],e,o,h,null,null,d);return l.firstCreatePass&&Vu(l,e,r.length-1),Ec(i,m),i[e.index]=m}function HE(e,t,n,r){for(let i of e)t.mergedAttrs=gd(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Za(t,t.mergedAttrs,!0),n!==null&&Xv(r,n,t))}function zE(e,t,n,r,i,o){let s=qt(),l=i[le],d=Tt(s,i);ry(l,i,s,n,null,r);for(let y=0;y<n.length;y++){let m=s.directiveStart+y,D=Li(i,l,m,s);or(D,i)}iy(l,i,s),d&&or(d,i);let h=Li(i,l,s.directiveStart+s.componentOffset,s);if(e[Gt]=i[Gt]=h,o!==null)for(let y of o)y(h,t);return qd(l,s,i),h}function GE(e,t,n,r){if(r)Du(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=DD(t.selectors[0]);i&&Du(e,n,i),o&&o.length>0&&Yv(e,n,o.join(" "))}}function WE(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function qE(){let e=qt();gc(Te()[le],e)}var fr=(()=>{class e{static{this.__NG_ELEMENT_ID__=YE}}return e})();function YE(){let e=qt();return Cy(e,Te())}var XE=fr,Dy=class extends XE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Vi(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Nd(this._hostTNode,this._hostLView);if(dv(t)){let n=Ha(t,this._hostLView),r=Ua(t),i=n[le].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ag(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Hu(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(l,i,$u(this._hostTNode,s)),l}createComponent(t,n,r,i,o){let s=t&&!jD(t),l;if(s)l=n;else{let S=n||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let d=s?t:new Xo(jr(t)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let T=(s?h:this.parentInjector).get(zt,null);T&&(o=T)}let y=jr(d.componentType??{}),m=Hu(this._lContainer,y?.id??null),D=m?.firstChild??null,_=d.create(h,i,D,o);return this.insertImpl(_.hostView,l,$u(this._hostTNode,m)),_}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(YD(i)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let d=i[tt],h=new Dy(d,d[dn],d[tt]);h.detach(h.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return dy(s,i,o,r),t.attachToViewContainerRef(),Ig(vu(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ag(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=qa(this._lContainer,n);r&&(Va(vu(this._lContainer),n),Hd(r[le],r))}detach(t){let n=this._adjustIndex(t,-1),r=qa(this._lContainer,n);return r&&Va(vu(this._lContainer),n)!=null?new $r(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ag(e){return e[$a]}function vu(e){return e[$a]||(e[$a]=[])}function Cy(e,t){let n,r=t[e.index];return vn(r)?n=r:(n=oy(r,t,null,e),t[e.index]=n,Ec(t,n)),_y(n,t,e,r),new Dy(n,e,t)}function KE(e,t){let n=e[Be],r=n.createComment(""),i=Tt(t,e),o=zd(n,i);return Ya(n,o,r,x_(n,i),!1),r}var _y=Ey,nf=()=>!1;function QE(e,t,n){return nf(e,t,n)}function Ey(e,t,n,r){if(e[Fn])return;let i;n.type&8?i=un(r):i=KE(t,n),e[Fn]=i}function ZE(e,t,n){if(e[Fn]&&e[zo])return!0;let r=n[cn],i=t.index-it;if(!r||RC(t)||wc(r,i))return!1;let s=Lu(r,i),l=r.data[kd]?.[i],[d,h]=ME(s,l);return e[Fn]=d,e[zo]=h,!0}function JE(e,t,n,r){nf(e,n,t)||Ey(e,t,n,r)}function eS(){_y=JE,nf=ZE}var Ku=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Qu=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),l=this.queries[s.indexInDeclarationView];i.push(l.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)rf(t,n).matches!==null&&this.queries[n].setDirty()}},Zu=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=cS(t):this.predicate=t}},Ju=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},ed=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,tS(n,o)),this.matchTNodeWithReadOption(t,n,Pa(n,t,o,!1,!1))}else r===Ur?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Pa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===jn||i===fr||i===Ur&&n.type&4)this.addMatch(n.index,-2);else{let o=Pa(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function tS(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function nS(e,t){return e.type&11?Vi(e,t):e.type&4?Sc(e,t):null}function rS(e,t,n,r){return n===-1?nS(t,e):n===-2?iS(e,t,r):Li(e,e[le],n,t)}function iS(e,t,n){if(n===jn)return Vi(t,e);if(n===Ur)return Sc(t,e);if(n===fr)return Cy(t,e)}function Sy(e,t,n,r){let i=t[kn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,l=[];for(let d=0;s!==null&&d<s.length;d+=2){let h=s[d];if(h<0)l.push(null);else{let y=o[h];l.push(rS(t,y,s[d+1],n.metadata.read))}}i.matches=l}return i.matches}function td(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Sy(e,t,i,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)r.push(s[l/2]);else{let h=o[l+1],y=t[-d];for(let m=vt;m<y.length;m++){let D=y[m];D[Zo]===D[tt]&&td(D[le],D,h,r)}if(y[ki]!==null){let m=y[ki];for(let D=0;D<m.length;D++){let _=m[D];td(_[le],_,h,r)}}}}}return r}function oS(e,t){return e[kn].queries[t].queryList}function sS(e,t,n){let r=new Pu((n&4)===4);return k_(e,t,r,r.destroy),(t[kn]??=new Qu).queries.push(new Ku(r))-1}function aS(e,t,n){let r=At();return r.firstCreatePass&&(lS(r,new Zu(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),sS(r,Te(),t)}function cS(e){return e.split(",").map(t=>t.trim())}function lS(e,t,n){e.queries===null&&(e.queries=new Ju),e.queries.track(new ed(t,n))}function rf(e,t){return e.queries.getByIndex(t)}function uS(e,t){let n=e[le],r=rf(n,t);return r.crossesNgTemplate?td(n,e,t,[]):Sy(n,e,r,t)}var sr=class{},Ko=class{};var nd=class extends sr{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ja(this);let i=kg(t);this._bootstrapComponents=Uv(i.bootstrap),this._r3Injector=xv(t,n,[{provide:sr,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver},...r],wt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},rd=class extends Ko{constructor(t){super(),this.moduleType=t}create(t){return new nd(this.moduleType,t,[])}};var ec=class extends sr{constructor(t){super(),this.componentFactoryResolver=new Ja(this),this.instance=null;let n=new $o([...t.providers,{provide:sr,useValue:this},{provide:Tc,useValue:this.componentFactoryResolver}],t.parent||bd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function of(e,t,n=null){return new ec({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var rs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Iy(e){return sf(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function dS(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function sf(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function My(e,t,n){return e[t]=n}function Hr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function fS(e,t,n,r){let i=Hr(e,t,n);return Hr(e,t+1,r)||i}function is(e){return(e.flags&32)===32}function hS(e,t,n,r,i,o,s,l,d){let h=t.consts,y=ns(t,e,4,s||null,Fi(h,l));Qd(t,n,y,Fi(h,d)),gc(t,y);let m=y.tView=Kd(2,y,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return t.queries!==null&&(t.queries.template(t,y),m.queries=t.queries.embeddedTView(y)),y}function _e(e,t,n,r,i,o,s,l){let d=Te(),h=At(),y=e+it,m=h.firstCreatePass?hS(y,h,d,t,n,r,i,o,s):h.data[y];Wr(m,!1);let D=Ty(h,d,m,e);mc()&&Dc(h,d,D,m),or(D,d);let _=oy(D,d,D,m);return d[y]=_,Ec(d,_),QE(_,m,d),fc(m)&&Yd(h,d,m),s!=null&&Xd(d,m,l),_e}var Ty=Ay;function Ay(e,t,n,r){return yn(!0),t[Be].createComment("")}function pS(e,t,n,r){let i=t[cn],o=!i||ts()||is(n)||wc(i,r);if(yn(o),o)return Ay(e,t,n,r);let s=i.data[UC]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let l=Ic(i,e,t,n);bc(i,r,l);let d=Ld(i,r);return Mc(d,l)}function mS(){Ty=pS}function De(e,t,n,r){let i=Te(),o=pc();if(Hr(i,o,t)){let s=At(),l=Ad();K_(l,i,e,t,n,r)}return De}function Ny(e,t,n,r){return Hr(e,pc(),n)?t+sc(n)+r:Bi}function Z(e,t,n){let r=Te(),i=pc();if(Hr(r,i,t)){let o=At(),s=Ad();ny(o,s,r,e,t,r[Be],n,!1)}return Z}function cg(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Zd(e,n,o[s],s,r)}function nt(e,t,n){$i("NgControlFlow");let r=Te(),i=pc(),o=gS(r,it+e),s=0;if(Hr(r,i,t)){let l=Ce(null);try{if(oE(o,s),t!==-1){let d=vS(r[le],it+t),h=Hu(o,d.tView.ssrId),y=uy(r,d,n,{dehydratedView:h});dy(o,y,s,$u(d,h))}}finally{Ce(l)}}else{let l=iE(o,s);l!==void 0&&(l[Gt]=n)}}function gS(e,t){return e[t]}function vS(e,t){return Dd(e,t)}function yS(e,t,n,r,i,o){let s=t.consts,l=Fi(s,i),d=ns(t,e,2,r,l);return Qd(t,n,d,Fi(s,o)),d.attrs!==null&&Za(d,d.attrs,!1),d.mergedAttrs!==null&&Za(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function W(e,t,n,r){let i=Te(),o=At(),s=it+e,l=i[Be],d=o.firstCreatePass?yS(s,o,i,t,n,r):o.data[s],h=Oy(o,i,d,l,t,e);i[s]=h;let y=fc(d);return Wr(d,!0),Xv(l,h,d),!is(d)&&mc()&&Dc(o,i,h,d),ZD()===0&&or(h,i),JD(),y&&(Yd(o,i,d),qd(o,d,i)),r!==null&&Xd(i,d),W}function q(){let e=qt();Ed()?Jg():(e=e.parent,Wr(e,!1));let t=e;tC(t)&&rC(),eC();let n=At();return n.firstCreatePass&&(gc(n,e),xd(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&mC(t)&&cg(n,t,Te(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&gC(t)&&cg(n,t,Te(),t.stylesWithoutHost,!1),q}function K(e,t,n,r){return W(e,t,n,r),q(),K}var Oy=(e,t,n,r,i,o)=>(yn(!0),xc(r,i,cv()));function bS(e,t,n,r,i,o){let s=t[cn],l=!s||ts()||is(n)||wc(s,o);if(yn(l),l)return xc(r,i,cv());let d=Ic(s,e,t,n);return Fv(s,o)&&bc(s,o,d.nextSibling),s&&(_v(n)||Ev(d))&&Jo(n)&&(nC(n),qv(d)),d}function wS(){Oy=bS}function xS(e,t,n,r,i){let o=t.consts,s=Fi(o,r),l=ns(t,e,8,"ng-container",s);s!==null&&Za(l,s,!0);let d=Fi(o,i);return Qd(t,n,l,d),t.queries!==null&&t.queries.elementStart(t,l),l}function Ui(e,t,n){let r=Te(),i=At(),o=e+it,s=i.firstCreatePass?xS(o,i,r,t,n):i.data[o];Wr(s,!0);let l=Ry(i,r,s,e);return r[o]=l,mc()&&Dc(i,r,l,s),or(l,r),fc(s)&&(Yd(i,r,s),qd(i,s,r)),n!=null&&Xd(r,s),Ui}function Hi(){let e=qt(),t=At();return Ed()?Jg():(e=e.parent,Wr(e,!1)),t.firstCreatePass&&(gc(t,e),xd(e)&&t.queries.elementEnd(e)),Hi}var Ry=(e,t,n,r)=>(yn(!0),Ud(t[Be],""));function DS(e,t,n,r){let i,o=t[cn],s=!o||ts()||is(n);if(yn(s),s)return Ud(t[Be],"");let l=Ic(o,e,t,n),d=JC(o,r);return bc(o,r,l),i=Mc(d,l),i}function CS(){Ry=DS}function Nt(){return Te()}var tc="en-US";var _S=tc;function ES(e){typeof e=="string"&&(_S=e.toLowerCase().replace(/_/g,"-"))}function Py(e,t,n){let r=e[Be];switch(n){case Node.COMMENT_NODE:return Ud(r,t);case Node.TEXT_NODE:return $d(r,t);case Node.ELEMENT_NODE:return xc(r,t,null)}}var SS=(e,t,n,r)=>(yn(!0),Py(e,n,r));function IS(e,t,n,r){return yn(!0),Py(e,n,r)}function MS(){SS=IS}function Xe(e,t,n,r){let i=Te(),o=At(),s=qt();return AS(o,i,i[Be],s,e,t,r),Xe}function TS(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let l=t[Uo],d=i[o+2];return l.length>d?l[d]:null}typeof s=="string"&&(o+=2)}return null}function AS(e,t,n,r,i,o,s){let l=fc(r),h=e.firstCreatePass&&cy(e),y=t[Gt],m=ay(t),D=!0;if(r.type&3||s){let T=Tt(r,t),R=s?s(T):T,P=m.length,fe=s?Ne=>s(un(Ne[r.index])):r.index,he=null;if(!s&&l&&(he=TS(e,t,i,r.index)),he!==null){let Ne=he.__ngLastListenerFn__||he;Ne.__ngNextListenerFn__=o,he.__ngLastListenerFn__=o,D=!1}else{o=ug(r,t,y,o,!1);let Ne=n.listen(R,i,o);m.push(o,Ne),h&&h.push(i,fe,P,P+1)}}else o=ug(r,t,y,o,!1);let _=r.outputs,S;if(D&&_!==null&&(S=_[i])){let T=S.length;if(T)for(let R=0;R<T;R+=2){let P=S[R],fe=S[R+1],I=t[P][fe].subscribe(o),Ie=m.length;m.push(o,I),h&&h.push(i,r.index,Ie,-(Ie+1))}}}function lg(e,t,n,r){let i=Ce(null);try{return pn(6,t,n),n(r)!==!1}catch(o){return ly(e,o),!1}finally{pn(7,t,n),Ce(i)}}function ug(e,t,n,r,i){return function o(s){if(s===Function)return r;let l=e.componentOffset>-1?lr(e.index,t):t;ef(l);let d=lg(t,n,r,s),h=o.__ngNextListenerFn__;for(;h;)d=lg(t,n,h,s)&&d,h=h.__ngNextListenerFn__;return i&&d===!1&&s.preventDefault(),d}}function L(e=1){return dC(e)}function wn(e,t,n){return ky(e,"",t,"",n),wn}function ky(e,t,n,r,i){let o=Te(),s=Ny(o,t,n,r);if(s!==Bi){let l=At(),d=Ad();ny(l,d,o,e,s,o[Be],i,!1)}return ky}function Ot(e,t,n){aS(e,t,n)}function xt(e){let t=Te(),n=At(),r=tv();Sd(r+1);let i=rf(n,r);if(e.dirty&&qD(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=uS(t,r);e.reset(o,TC),e.notifyOnChanges()}return!0}return!1}function Dt(){return oS(Te(),tv())}function af(e){let t=oC();return WD(t,it+e)}function Bn(e,t=""){let n=Te(),r=At(),i=e+it,o=r.firstCreatePass?ns(r,i,1,t,null):r.data[i],s=Fy(r,n,o,t,e);n[i]=s,mc()&&Dc(r,n,s,o),Wr(o,!1)}var Fy=(e,t,n,r,i)=>(yn(!0),$d(t[Be],r));function NS(e,t,n,r,i){let o=t[cn],s=!o||ts()||is(n)||wc(o,i);return yn(s),s?$d(t[Be],r):Ic(o,e,t,n)}function OS(){Fy=NS}function os(e,t,n){let r=Te(),i=Ny(r,e,t,n);return i!==Bi&&eE(r,Td(),i),os}var RS=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=jg(!1,n.type),i=r.length>0?of([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(ye(zt))})}}return e})();function hr(e){$i("NgStandalone"),e.getStandaloneInjector=t=>t.get(RS).getOrCreateStandaloneInjector(e)}function Ac(e,t,n,r){return PS(Te(),ev(),e,t,n,r)}function Ly(e,t,n,r,i){return kS(Te(),ev(),e,t,n,r,i)}function jy(e,t){let n=e[t];return n===Bi?void 0:n}function PS(e,t,n,r,i,o){let s=t+n;return Hr(e,s,i)?My(e,s+1,o?r.call(o,i):r(i)):jy(e,s+1)}function kS(e,t,n,r,i,o,s){let l=t+n;return fS(e,l,i,o)?My(e,l+2,s?r.call(s,i,o):r(i,o)):jy(e,l+2)}function cf(e,t){return Sc(e,t)}var Nc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var Vy=new pe("");function ss(e){return!!e&&typeof e.then=="function"}function By(e){return!!e&&typeof e.subscribe=="function"}var $y=new pe(""),Uy=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k($y,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ss(o))n.push(o);else if(By(o)){let s=new Promise((l,d)=>{o.subscribe({complete:l,error:d})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),zi=new pe("");function FS(){om(()=>{throw new Y(600,!1)})}function LS(e){return e.isBoundToModule}function jS(e,t,n){try{let r=n();return ss(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var pr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(Dv),this.afterRenderEffectManager=k(xy),this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=k(rs).hasPendingTasks.pipe(be(n=>!n)),this._injector=k(zt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Qa;if(!this._injector.get(Uy).done){let D=!i&&Pg(n),_=!1;throw new Y(405,_)}let s;i?s=n:s=this._injector.get(Tc).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let l=LS(s)?void 0:this._injector.get(sr),d=r||s.selector,h=s.create(qr.NULL,[],d,l),y=h.location.nativeElement,m=h.injector.get(Vy,null);return m?.registerApplication(y),h.onDestroy(()=>{this.detachView(h.hostView),yu(this.components,h),m?.unregisterApplication(y)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Y(101,!1);let r=Ce(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Ce(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===hy)throw new Y(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:l}of this._views)VS(s,o,l)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>id(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>id(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;yu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(zi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>yu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function yu(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Aa;function lf(e){Aa??=new WeakMap;let t=Aa.get(e);if(t)return t;let n=e.isStable.pipe(rn(r=>r)).toPromise().then(()=>{});return Aa.set(e,n),e.onDestroy(()=>Aa?.delete(e)),n}function VS(e,t,n){!t&&!id(e)||BS(e,n,t)}function id(e){return _d(e)}function BS(e,t,n){let r;n?(r=0,e[re]|=1024):e[re]&64?r=0:r=1,py(e,t,r)}var od=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},uf=(()=>{class e{compileModuleSync(n){return new rd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=kg(n),o=Uv(i.declarations).reduce((s,l)=>{let d=jr(l);return d&&s.push(new Xo(d)),s},[]);return new od(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $S=(()=>{class e{constructor(){this.zone=k(Ge),this.applicationRef=k(pr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function US(e){return[{provide:Ge,useFactory:e},{provide:Lr,multi:!0,useFactory:()=>{let t=k($S,{optional:!0});return()=>t.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let t=k(WS);return()=>{t.initialize()}}},{provide:Dv,useFactory:HS}]}function HS(){let e=k(Ge),t=k(Ln);return n=>e.runOutsideAngular(()=>t.handleError(n))}function zS(e){let t=US(()=>new Ge(GS(e)));return Gr([[],t])}function GS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var WS=(()=>{class e{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=k(Ge),this.pendingTasks=k(rs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function qS(){return typeof $localize<"u"&&$localize.locale||tc}var df=new pe("",{providedIn:"root",factory:()=>k(df,ge.Optional|ge.SkipSelf)||qS()});var Hy=new pe("");var Fa=null;function YS(e=[],t){return qr.create({name:t,providers:[{provide:uc,useValue:"platform"},{provide:Hy,useValue:new Set([()=>Fa=null])},...e]})}function XS(e=[]){if(Fa)return Fa;let t=YS(e);return Fa=t,FS(),KS(t),t}function KS(e){e.get(Rd,null)?.forEach(n=>n())}var $n=(()=>{class e{static{this.__NG_ELEMENT_ID__=QS}}return e})();function QS(e){return ZS(qt(),Te(),(e&16)===16)}function ZS(e,t,n){if(Jo(e)&&!n){let r=lr(e.index,t);return new $r(r,r)}else if(e.type&47){let r=t[Wt];return new $r(r,t)}return null}var sd=class{constructor(){}supports(t){return Iy(t)}create(t){return new ad(t)}},JS=(e,t)=>t,ad=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||JS}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<dg(r,i,o)?n:r,l=dg(s,i,o),d=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let h=l-i,y=d-i;if(h!=y){for(let D=0;D<h;D++){let _=D<o.length?o[D]:o[D]=0,S=_+D;y<=S&&S<h&&(o[D]=_+1)}let m=s.previousIndex;o[m]=y-h}}l!==d&&t(s,l,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Iy(t))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],s=this._trackByFn(l,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,l),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,dS(t,l=>{s=this._trackByFn(i,l),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,l,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,l,s,i)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new cd(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new nc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},cd=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ld=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nc=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new ld,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function dg(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var ud=class{constructor(){}supports(t){return t instanceof Map||sf(t)}create(){return new dd}},dd=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||sf(t)))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new fd(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},fd=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function fg(){return new ff([new sd])}var ff=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:fg})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fg()),deps:[[e,new pd,new cc]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Y(901,!1)}}return e})();function hg(){return new hf([new ud])}var hf=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:hg})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||hg()),deps:[[e,new pd,new cc]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Y(901,!1)}}return e})();function zy(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=XS(r),o=[zS(),...n||[]],l=new ec({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(Ge);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(Ln,null),y;d.runOutsideAngular(()=>{y=d.onError.subscribe({next:_=>{h.handleError(_)}})});let m=()=>l.destroy(),D=i.get(Hy);return D.add(m),l.onDestroy(()=>{y.unsubscribe(),D.delete(m)}),jS(h,d,()=>{let _=l.get(Uy);return _.runInitializers(),_.donePromise.then(()=>{let S=l.get(df,tc);ES(S||tc);let T=l.get(pr);return t!==void 0&&T.bootstrap(t),T})})})}catch(t){return Promise.reject(t)}}var pg=!1,eI=!1;function tI(){pg||(pg=!0,XC(),wS(),OS(),CS(),mS(),eS(),AE(),P_(),MS())}function nI(e,t){return lf(e)}function Gy(){return Gr([{provide:Ma,useFactory:()=>{let e=!0;return Ta()&&(e=!!k(Yr,{optional:!0})?.get(Pv,null)),e&&$i("NgHydration"),e}},{provide:Lr,useValue:()=>{eI=!!k(e_,{optional:!0}),Ta()&&k(Ma)&&(rI(),tI())},multi:!0},{provide:jv,useFactory:()=>Ta()&&k(Ma)},{provide:zi,useFactory:()=>{if(Ta()&&k(Ma)){let e=k(pr),t=k(qr);return()=>{nI(e,t).then(()=>{xE(e)})}}return()=>{}},multi:!0}])}function rI(){let e=vc(),t;for(let n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===qC){t=n;break}if(!t)throw new Y(-507,!1)}var Zy=null;function Gi(){return Zy}function Jy(e){Zy??=e}var Oc=class{};var Rt=new pe(""),e0=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(aI),providedIn:"platform"})}}return e})();var aI=(()=>{class e extends e0{constructor(){super(),this._doc=k(Rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gi().getBaseHref(this._doc)}onPopState(n){let r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Gi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function t0(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function Wy(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Xr(e){return e&&e[0]!=="?"?"?"+e:e}var Pc=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(n0),providedIn:"root"})}}return e})(),cI=new pe(""),n0=(()=>{class e extends Pc{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return t0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(ye(e0),ye(cI,8))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var as=(()=>{class e{constructor(n){this._subject=new Ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dI(Wy(qy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xr(r))}normalize(n){return e.stripTrailingSlash(uI(this._basePath,qy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Xr}static{this.joinWithSlash=t0}static{this.stripTrailingSlash=Wy}static{this.\u0275fac=function(r){return new(r||e)(ye(Pc))}}static{this.\u0275prov=X({token:e,factory:()=>lI(),providedIn:"root"})}}return e})();function lI(){return new as(ye(Pc))}function uI(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function qy(e){return e.replace(/\/index.html$/,"")}function dI(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function vf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var pf=/\s+/,Yy=[],r0=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Yy,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(pf):Yy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(pf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(pf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(Ve(jn),Ve(Vn))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Pn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var mf=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Wi=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,s),Xy(l,i)}});for(let i=0,o=r.length;i<o;i++){let l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Xy(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ve(fr),Ve(Ur),Ve(ff))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Xy(e,t){e.context.$implicit=t.item}var kc=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new gf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Ky("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Ky("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ve(fr),Ve(Ur))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),gf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Ky(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${wt(t)}'.`)}var qi=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:dr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(Ve(jn),Ve(hf),Ve(Vn))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})();var Kr=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=lc({type:e})}static{this.\u0275inj=ic({})}}return e})(),i0="browser",fI="server";function cs(e){return e===fI}var Rc=class{};var Lc=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var f0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(f0||{}),bf=class{constructor(t,n=h0.Ok,r="OK"){this.headers=t.headers||new Lc,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var jc=class e extends bf{constructor(t={}){super(t),this.type=f0.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var h0=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(h0||{});var pI=new pe("");var o0="b",s0="h",a0="s",c0="st",l0="u",u0="rt",Fc=new pe(""),mI=["GET","HEAD"];function gI(e,t){let m=k(Fc),{isCacheActive:n}=m,r=Zp(m,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!mI.includes(o)||i===!1||r.filter?.(e)===!1)return t(e);let s=k(Yr),l=yI(e),d=s.get(l,null),h=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(h=i.includeHeaders),d){let{[o0]:D,[u0]:_,[s0]:S,[a0]:T,[c0]:R,[l0]:P}=d,fe=D;switch(_){case"arraybuffer":fe=new TextEncoder().encode(D).buffer;break;case"blob":fe=new Blob([D]);break}let he=new Lc(S);return se(new jc({body:fe,headers:he,status:T,statusText:R,url:P}))}let y=cs(k(bn));return t(e).pipe(Ze(D=>{D instanceof jc&&y&&s.set(l,{[o0]:D.body,[s0]:vI(D.headers,h),[a0]:D.status,[c0]:D.statusText,[l0]:D.url||"",[u0]:e.responseType})}))}function vI(e,t){if(!t)return{};let n={};for(let r of t){let i=e.getAll(r);i!==null&&(n[r]=i)}return n}function d0(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function yI(e){let{params:t,method:n,responseType:r,url:i}=e,o=d0(t),s=e.serializeBody();s instanceof URLSearchParams?s=d0(s):typeof s!="string"&&(s="");let l=[n,r,i,s,o].join("|"),d=bI(l);return d}function bI(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function p0(e){return[{provide:Fc,useFactory:()=>($i("NgHttpTransferCache"),V({isCacheActive:!0},e))},{provide:pI,useValue:gI,multi:!0,deps:[Yr,Fc]},{provide:zi,multi:!0,useFactory:()=>{let t=k(pr),n=k(Fc);return()=>{lf(t).then(()=>{n.isCacheActive=!1})}}}]}var Df=class extends Oc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Cf=class e extends Df{static makeCurrent(){Jy(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=wI();return n==null?null:xI(n)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vf(document.cookie,t)}},ls=null;function wI(){return ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null}function xI(e){return new URL(e,document.baseURI).pathname}var DI=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),_f=new pe(""),y0=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(ye(_f),ye(Ge))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),Vc=class{constructor(t){this._doc=t}},wf="ng-app-id",b0=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cs(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${wf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(wf),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(wf,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(ye(Rt),ye(yc),ye(Pd,8),ye(bn))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),xf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},If=/%COMP%/g,w0="%COMP%",CI=`_nghost-${w0}`,_I=`_ngcontent-${w0}`,EI=!0,SI=new pe("",{providedIn:"root",factory:()=>EI});function II(e){return _I.replace(If,e)}function MI(e){return CI.replace(If,e)}function x0(e,t){return t.map(n=>n.replace(If,e))}var m0=(()=>{class e{constructor(n,r,i,o,s,l,d,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=cs(l),this.defaultRenderer=new us(n,s,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===gn.ShadowDom&&(r=Le(V({},r),{encapsulation:gn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Bc?i.applyToHost(n):i instanceof ds&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,l=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case gn.Emulated:o=new Bc(d,h,r,this.appId,y,s,l,m);break;case gn.ShadowDom:return new Ef(d,h,n,r,s,l,this.nonce,m);default:o=new ds(d,h,r,y,s,l,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(ye(y0),ye(b0),ye(yc),ye(SI),ye(Rt),ye(bn),ye(Ge),ye(Pd))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),us=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(xf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(g0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(g0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=xf[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=xf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(dr.DashCase|dr.Important)?t.style.setProperty(n,r,i&dr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&dr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Gi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function g0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ef=class extends us{constructor(t,n,r,i,o,s,l,d){super(t,o,s,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=x0(i.id,i.styles);for(let y of h){let m=document.createElement("style");l&&m.setAttribute("nonce",l),m.textContent=y,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ds=class extends us{constructor(t,n,r,i,o,s,l,d){super(t,o,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?x0(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Bc=class extends ds{constructor(t,n,r,i,o,s,l,d){let h=i+"-"+r.id;super(t,n,r,o,s,l,d,h),this.contentAttr=II(h),this.hostAttr=MI(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},TI=(()=>{class e extends Vc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(ye(Rt))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),v0=["alt","control","meta","shift"],AI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},OI=(()=>{class e extends Vc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),v0.forEach(h=>{let y=r.indexOf(h);y>-1&&(r.splice(y,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let d={};return d.domEventName=i,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let i=AI[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),v0.forEach(s=>{if(s!==i){let l=NI[s];l(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(ye(Rt))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})();function D0(e,t){return zy(V({rootComponent:e},RI(t)))}function RI(e){return{appProviders:[...jI,...e?.providers??[]],platformProviders:LI}}function PI(){Cf.makeCurrent()}function kI(){return new Ln}function FI(){return Av(document),document}var LI=[{provide:bn,useValue:i0},{provide:Rd,useValue:PI,multi:!0},{provide:Rt,useFactory:FI,deps:[]}];var jI=[{provide:uc,useValue:"root"},{provide:Ln,useFactory:kI,deps:[]},{provide:_f,useClass:TI,multi:!0,deps:[Rt,Ge,bn]},{provide:_f,useClass:OI,multi:!0,deps:[Rt]},m0,b0,y0,{provide:Yo,useExisting:m0},{provide:Rc,useClass:DI,deps:[]},[]];var C0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(ye(Rt))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Sf=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Sf||{});function _0(...e){let t=[],n=new Set,r=n.has(Sf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);return Gr([[],Gy(),n.has(Sf.NoHttpTransferCache)||r?[]:p0({}),t])}var de="primary",Ss=Symbol("RouteTitle"),Of=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zi(e){return new Of(e)}function BI(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],l=e[o];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function $I(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!xn(e[n],t[n]))return!1;return!0}function xn(e,t){let n=e?Rf(e):void 0,r=t?Rf(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!A0(e[i],t[i]))return!1;return!0}function Rf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function A0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function N0(e){return e.length>0?e[e.length-1]:null}function vr(e){return eu(e)?e:ss(e)?Ye(Promise.resolve(e)):se(e)}var UI={exact:R0,subset:P0},O0={exact:HI,subset:zI,ignored:()=>!0};function E0(e,t,n){return UI[n.paths](e.root,t.root,n.matrixParams)&&O0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function HI(e,t){return xn(e,t)}function R0(e,t,n){if(!Zr(e.segments,t.segments)||!Hc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!R0(e.children[r],t.children[r],n))return!1;return!0}function zI(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>A0(e[n],t[n]))}function P0(e,t,n){return k0(e,t,t.segments,n)}function k0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Zr(i,n)||t.hasChildren()||!Hc(i,n,r))}else if(e.segments.length===n.length){if(!Zr(e.segments,n)||!Hc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!P0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Zr(e.segments,i)||!Hc(e.segments,i,r)||!e.children[de]?!1:k0(e.children[de],t,o,r)}}function Hc(e,t,n){return t.every((r,i)=>O0[n](e[i].parameters,r.parameters))}var mr=class{constructor(t=new Ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return qI.serialize(this)}},Ee=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},Qr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return L0(this)}};function GI(e,t){return Zr(e,t)&&e.every((n,r)=>xn(n.parameters,t[r].parameters))}function Zr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function WI(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===de&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==de&&(n=n.concat(t(i,r)))}),n}var oh=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>new Wc,providedIn:"root"})}}return e})(),Wc=class{parse(t){let n=new kf(t);return new mr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${fs(t.root,!0)}`,r=KI(t.queryParams),i=typeof t.fragment=="string"?`#${YI(t.fragment)}`:"";return`${n}${r}${i}`}},qI=new Wc;function zc(e){return e.segments.map(t=>L0(t)).join("/")}function fs(e,t){if(!e.hasChildren())return zc(e);if(t){let n=e.children[de]?fs(e.children[de],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${fs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=WI(e,(r,i)=>i===de?[fs(e.children[de],!1)]:[`${i}:${fs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[de]!=null?`${zc(e)}/${n[0]}`:`${zc(e)}/(${n.join("//")})`}}function F0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $c(e){return F0(e).replace(/%3B/gi,";")}function YI(e){return encodeURI(e)}function Pf(e){return F0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gc(e){return decodeURIComponent(e)}function S0(e){return Gc(e.replace(/\+/g,"%20"))}function L0(e){return`${Pf(e.path)}${XI(e.parameters)}`}function XI(e){return Object.entries(e).map(([t,n])=>`;${Pf(t)}=${Pf(n)}`).join("")}function KI(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$c(n)}=${$c(i)}`).join("&"):`${$c(n)}=${$c(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var QI=/^[^\/()?;#]+/;function Mf(e){let t=e.match(QI);return t?t[0]:""}var ZI=/^[^\/()?;=#]+/;function JI(e){let t=e.match(ZI);return t?t[0]:""}var eM=/^[^=?&#]+/;function tM(e){let t=e.match(eM);return t?t[0]:""}var nM=/^[^&#]+/;function rM(e){let t=e.match(nM);return t?t[0]:""}var kf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[de]=new Ee(t,n)),r}parseSegment(){let t=Mf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(t),new Qr(Gc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=JI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Mf(this.remaining);i&&(r=i,this.capture(r))}t[Gc(n)]=Gc(r)}parseQueryParam(t){let n=tM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=rM(this.remaining);s&&(r=s,this.capture(r))}let i=S0(n),o=S0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Mf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=de);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[de]:new Ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Y(4011,!1)}};function j0(e){return e.segments.length>0?new Ee([],{[de]:e}):e}function V0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=V0(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Ee(e.segments,t);return iM(n)}function iM(e){if(e.numberOfChildren===1&&e.children[de]){let t=e.children[de];return new Ee(e.segments.concat(t.segments),t.children)}return e}function Ji(e){return e instanceof mr}function oM(e,t,n=null,r=null){let i=B0(e);return $0(i,t,n,r)}function B0(e){let t;function n(o){let s={};for(let d of o.children){let h=n(d);s[d.outlet]=h}let l=new Ee(o.url,s);return o===e&&(t=l),l}let r=n(e.root),i=j0(r);return t??i}function $0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Tf(i,i,i,n,r);let o=sM(t);if(o.toRoot())return Tf(i,i,new Ee([],{}),n,r);let s=aM(o,i,e),l=s.processChildren?ms(s.segmentGroup,s.index,o.commands):H0(s.segmentGroup,s.index,o.commands);return Tf(i,s.segmentGroup,l,n,r)}function qc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ys(e){return typeof e=="object"&&e!=null&&e.outlets}function Tf(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`});let s;e===t?s=n:s=U0(e,t,n);let l=j0(V0(s));return new mr(l,o,i)}function U0(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=U0(o,t,n)}),new Ee(e.segments,r)}var Yc=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&qc(r[0]))throw new Y(4003,!1);let i=r.find(ys);if(i&&i!==N0(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sM(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Yc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Yc(n,t,r)}var Ki=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function aM(e,t,n){if(e.isAbsolute)return new Ki(t,!0,0);if(!n)return new Ki(t,!1,NaN);if(n.parent===null)return new Ki(n,!0,0);let r=qc(e.commands[0])?0:1,i=n.segments.length-1+r;return cM(n,i,e.numberOfDoubleDots)}function cM(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Ki(r,!1,i-o)}function lM(e){return ys(e[0])?e[0].outlets:{[de]:e}}function H0(e,t,n){if(e??=new Ee([],{}),e.segments.length===0&&e.hasChildren())return ms(e,t,n);let r=uM(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ee(e.segments.slice(0,r.pathIndex),{});return o.children[de]=new Ee(e.segments.slice(r.pathIndex),e.children),ms(o,0,i)}else return r.match&&i.length===0?new Ee(e.segments,{}):r.match&&!e.hasChildren()?Ff(e,t,n):r.match?ms(e,0,i):Ff(e,t,n)}function ms(e,t,n){if(n.length===0)return new Ee(e.segments,{});{let r=lM(n),i={};if(Object.keys(r).some(o=>o!==de)&&e.children[de]&&e.numberOfChildren===1&&e.children[de].segments.length===0){let o=ms(e.children[de],t,n);return new Ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=H0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(e.segments,i)}}function uM(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],l=n[r];if(ys(l))break;let d=`${l}`,h=r<n.length-1?n[r+1]:null;if(i>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!M0(d,h,s))return o;r+=2}else{if(!M0(d,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ff(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ys(o)){let d=dM(o.outlets);return new Ee(r,d)}if(i===0&&qc(n[0])){let d=e.segments[t];r.push(new Qr(d.path,I0(n[0]))),i++;continue}let s=ys(o)?o.outlets[de]:`${o}`,l=i<n.length-1?n[i+1]:null;s&&l&&qc(l)?(r.push(new Qr(s,I0(l))),i+=2):(r.push(new Qr(s,{})),i++)}return new Ee(r,{})}function dM(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Ff(new Ee([],{}),0,r))}),t}function I0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function M0(e,t,n){return e==n.path&&xn(t,n.parameters)}var gs="imperative",ot=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ot||{}),Yt=class{constructor(t,n){this.id=t,this.url=n}},bs=class extends Yt{constructor(t,n,r="imperative",i=null){super(t,n),this.type=ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Yt{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(kt||{}),Lf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lf||{}),gr=class extends Yt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ei=class extends Yt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ot.NavigationSkipped}},ws=class extends Yt{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xc=class extends Yt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jf=class extends Yt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vf=class extends Yt{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bf=class extends Yt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Yt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uf=class{constructor(t){this.route=t,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hf=class{constructor(t){this.route=t,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zf=class{constructor(t){this.snapshot=t,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gf=class{constructor(t){this.snapshot=t,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wf=class{constructor(t){this.snapshot=t,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{constructor(t){this.snapshot=t,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xs=class{},Ds=class{constructor(t){this.url=t}};var Yf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new tl,this.attachRef=null}},tl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yf,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Kc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Xf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Xf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Kf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Kf(t,this._root).map(n=>n.value)}};function Xf(e,t){if(e===t.value)return t;for(let n of t.children){let r=Xf(e,n);if(r)return r}return null}function Kf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Kf(e,n);if(r.length)return r.unshift(t),r}return[]}var Pt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Xi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Qc=class extends Kc{constructor(t,n){super(t),this.snapshot=n,ah(this,t)}toString(){return this.snapshot.toString()}};function z0(e){let t=fM(e),n=new rt([new Qr("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),l=new eo(n,r,o,s,i,de,e,t.root);return l.snapshot=t.root,new Qc(new Pt(l,[]),t)}function fM(e){let t={},n={},r={},i="",o=new Cs([],t,r,i,n,de,e,null,{});return new Zc("",new Pt(o,[]))}var eo=class{constructor(t,n,r,i,o,s,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(be(h=>h[Ss]))??se(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(be(t=>Zi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(be(t=>Zi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function sh(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:V(V({},t.params),e.params),data:V(V({},t.data),e.data),resolve:V(V(V(V({},e.data),t.data),i?.data),e._resolvedData)}:r={params:V({},e.params),data:V({},e.data),resolve:V(V({},e.data),e._resolvedData??{})},i&&W0(i)&&(r.resolve[Ss]=i.title),r}var Cs=class{get title(){return this.data?.[Ss]}constructor(t,n,r,i,o,s,l,d,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Zc=class extends Kc{constructor(t,n){super(n),this.url=t,ah(this,n)}toString(){return G0(this._root)}};function ah(e,t){t.value._routerState=e,t.children.forEach(n=>ah(e,n))}function G0(e){let t=e.children.length>0?` { ${e.children.map(G0).join(", ")} } `:"";return`${e.value}${t}`}function Af(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,xn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),xn(t.params,n.params)||e.paramsSubject.next(n.params),$I(t.url,n.url)||e.urlSubject.next(n.url),xn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Qf(e,t){let n=xn(e.params,t.params)&&GI(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Qf(e.parent,t.parent))}function W0(e){return typeof e.title=="string"||e.title===null}var ch=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Ht,this.deactivateEvents=new Ht,this.attachEvents=new Ht,this.detachEvents=new Ht,this.parentContexts=k(tl),this.location=k(fr),this.changeDetector=k($n),this.environmentInjector=k(zt),this.inputBinder=k(lh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Zf(n,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=zr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hc]})}}return e})(),Zf=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===eo?this.route:t===tl?this.childContexts:this.parent.get(t,n)}},lh=new pe("");function hM(e,t,n){let r=_s(e,t._root,n?n._root:void 0);return new Qc(r,t)}function _s(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=pM(e,t,n);return new Pt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>_s(e,l)),s}}let r=mM(t.value),i=t.children.map(o=>_s(e,o));return new Pt(r,i)}}function pM(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return _s(e,r,i);return _s(e,r)})}function mM(e){return new eo(new rt(e.url),new rt(e.params),new rt(e.queryParams),new rt(e.fragment),new rt(e.data),e.outlet,e.component,e)}var q0="ngNavigationCancelingError";function Y0(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Ji(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=X0(!1,kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function X0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[q0]=!0,n.cancellationCode=t,n}function gM(e){return K0(e)&&Ji(e.url)}function K0(e){return!!e&&e[q0]}var vM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=ar({type:e,selectors:[["ng-component"]],standalone:!0,features:[hr],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[ch],encapsulation:2})}}return e})();function yM(e,t){return e.providers&&!e._injector&&(e._injector=of(e.providers,t,`Route: ${e.path}`)),e._injector??t}function uh(e){let t=e.children&&e.children.map(uh),n=t?Le(V({},e),{children:t}):V({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=vM),n}function Dn(e){return e.outlet||de}function bM(e,t){let n=e.filter(r=>Dn(r)===t);return n.push(...e.filter(r=>Dn(r)!==t)),n}function Is(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wM=(e,t,n,r)=>be(i=>(new Jf(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Jf=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Af(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Xi(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Xi(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Xi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Gf(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Af(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Af(l.route.value),this.activateChildRoutes(t,null,s.children)}else{let l=Is(i.snapshot);s.attachRef=null,s.route=i,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},Jc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Qi=class{constructor(t,n){this.component=t,this.route=n}};function xM(e,t,n){let r=e._root,i=t?t._root:null;return hs(r,i,n,[r.value])}function DM(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function no(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!wg(e)?e:t.get(e):r}function hs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xi(t);return e.children.forEach(s=>{CM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>vs(l,n.getContext(s),i)),i}function CM(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=_M(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new Jc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hs(e,t,l?l.children:null,r,i):hs(e,t,n,r,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Qi(l.outlet.component,s))}else s&&vs(t,l,i),i.canActivateChecks.push(new Jc(r)),o.component?hs(e,null,l?l.children:null,r,i):hs(e,null,n,r,i);return i}function _M(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Zr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zr(e.url,t.url)||!xn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qf(e,t)||!xn(e.queryParams,t.queryParams);case"paramsChange":default:return!Qf(e,t)}}function vs(e,t,n){let r=Xi(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?vs(s,t.children.getContext(o),n):vs(s,null,n):vs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Qi(t.outlet.component,i)):n.canDeactivateChecks.push(new Qi(null,i)):n.canDeactivateChecks.push(new Qi(null,i))}function Ms(e){return typeof e=="function"}function EM(e){return typeof e=="boolean"}function SM(e){return e&&Ms(e.canLoad)}function IM(e){return e&&Ms(e.canActivate)}function MM(e){return e&&Ms(e.canActivateChild)}function TM(e){return e&&Ms(e.canDeactivate)}function AM(e){return e&&Ms(e.canMatch)}function Q0(e){return e instanceof Nn||e?.name==="EmptyError"}var Uc=Symbol("INITIAL_VALUE");function to(){return Bt(e=>_a(e.map(t=>t.pipe(On(1),ou(Uc)))).pipe(be(t=>{for(let n of t)if(n!==!0){if(n===Uc)return Uc;if(n===!1||n instanceof mr)return n}return!0}),Vt(t=>t!==Uc),On(1)))}function NM(e,t){return Qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(Le(V({},n),{guardsResult:!0})):OM(s,r,i,e).pipe(Qe(l=>l&&EM(l)?RM(r,o,e,t):se(l)),be(l=>Le(V({},n),{guardsResult:l})))})}function OM(e,t,n,r){return Ye(e).pipe(Qe(i=>jM(i.component,i.route,n,t,r)),rn(i=>i!==!0,!0))}function RM(e,t,n,r){return Ye(t).pipe(kr(i=>Ei(kM(i.route.parent,r),PM(i.route,r),LM(e,i.path,n),FM(e,i.route,n))),rn(i=>i!==!0,!0))}function PM(e,t){return e!==null&&t&&t(new Wf(e)),se(!0)}function kM(e,t){return e!==null&&t&&t(new zf(e)),se(!0)}function FM(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Ea(()=>{let s=Is(t)??n,l=no(o,s),d=IM(l)?l.canActivate(t,e):cr(s,()=>l(t,e));return vr(d).pipe(rn())}));return se(i).pipe(to())}function LM(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>DM(s)).filter(s=>s!==null).map(s=>Ea(()=>{let l=s.guards.map(d=>{let h=Is(s.node)??n,y=no(d,h),m=MM(y)?y.canActivateChild(r,e):cr(h,()=>y(r,e));return vr(m).pipe(rn())});return se(l).pipe(to())}));return se(o).pipe(to())}function jM(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(l=>{let d=Is(t)??i,h=no(l,d),y=TM(h)?h.canDeactivate(e,t,n,r):cr(d,()=>h(e,t,n,r));return vr(y).pipe(rn())});return se(s).pipe(to())}function VM(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let l=no(s,e),d=SM(l)?l.canLoad(t,n):cr(e,()=>l(t,n));return vr(d)});return se(o).pipe(to(),Z0(r))}function Z0(e){return Kl(Ze(t=>{if(Ji(t))throw Y0(e,t)}),be(t=>t===!0))}function BM(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let l=no(s,e),d=AM(l)?l.canMatch(t,n):cr(e,()=>l(t,n));return vr(d)});return se(o).pipe(to(),Z0(r))}var Es=class{constructor(t){this.segmentGroup=t||null}},el=class extends Error{constructor(t){super(),this.urlTree=t}};function Yi(e){return _i(new Es(e))}function $M(e){return _i(new Y(4e3,!1))}function UM(e){return _i(X0(!1,kt.GuardRejected))}var eh=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[de])return $M(t.redirectTo);i=i.children[de]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new el(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new mr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(t,d,r,i)}),new Ee(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},th={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HM(e,t,n,r,i){let o=dh(e,t,n);return o.matched?(r=yM(t,r),BM(r,t,n,i).pipe(be(s=>s===!0?o:V({},th)))):se(o)}function dh(e,t,n){if(t.path==="**")return zM(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?V({},th):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||BI)(n,e,t);if(!i)return V({},th);let o={};Object.entries(i.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zM(e){return{matched:!0,parameters:e.length>0?N0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function T0(e,t,n,r){return n.length>0&&qM(e,n,r)?{segmentGroup:new Ee(t,WM(r,new Ee(n,e.children))),slicedSegments:[]}:n.length===0&&YM(e,n,r)?{segmentGroup:new Ee(e.segments,GM(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ee(e.segments,e.children),slicedSegments:n}}function GM(e,t,n,r){let i={};for(let o of n)if(nl(e,t,o)&&!r[Dn(o)]){let s=new Ee([],{});i[Dn(o)]=s}return V(V({},r),i)}function WM(e,t){let n={};n[de]=t;for(let r of e)if(r.path===""&&Dn(r)!==de){let i=new Ee([],{});n[Dn(r)]=i}return n}function qM(e,t,n){return n.some(r=>nl(e,t,r)&&Dn(r)!==de)}function YM(e,t,n){return n.some(r=>nl(e,t,r))}function nl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function XM(e,t,n,r){return Dn(e)!==r&&(r===de||!nl(t,n,e))?!1:dh(t,e,n).matched}function KM(e,t,n){return t.length===0&&!e.children[n]}var nh=class{};function QM(e,t,n,r,i,o,s="emptyOnly"){return new rh(e,t,n,r,i,s,o).recognize()}var ZM=31,rh=class{constructor(t,n,r,i,o,s,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new eh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Y(4002,`'${t.segmentGroup}'`)}recognize(){let t=T0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(be(n=>{let r=new Cs([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Pt(r,n),o=new Zc("",i),s=oM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,de).pipe(tr(r=>{if(r instanceof el)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Es?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=sh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(be(o=>o instanceof Pt?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Ye(i).pipe(kr(o=>{let s=r.children[o],l=bM(n,o);return this.processSegmentGroup(t,l,s,o)}),iu((o,s)=>(o.push(...s),o)),nr(null),ru(),Qe(o=>{if(o===null)return Yi(r);let s=J0(o);return JM(s),se(s)}))}processSegment(t,n,r,i,o,s){return Ye(n).pipe(kr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s).pipe(tr(d=>{if(d instanceof Es)return se(null);throw d}))),rn(l=>!!l),tr(l=>{if(Q0(l))return KM(r,i,o)?se(new nh):Yi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,l){return XM(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Yi(i):Yi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:y}=dh(n,i,o);if(!l)return Yi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZM&&(this.allowRedirects=!1));let m=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h);return this.applyRedirects.lineralizeSegments(i,m).pipe(Qe(D=>this.processSegment(t,r,n,D.concat(y),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=HM(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Bt(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Bt(({routes:d})=>{let h=r._loadedInjector??t,{consumedSegments:y,remainingSegments:m,parameters:D}=l,_=new Cs(y,D,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,t1(r),Dn(r),r.component??r._loadedComponent??null,r,n1(r)),{segmentGroup:S,slicedSegments:T}=T0(n,y,m,d);if(T.length===0&&S.hasChildren())return this.processChildren(h,d,S).pipe(be(P=>P===null?null:new Pt(_,P)));if(d.length===0&&T.length===0)return se(new Pt(_,[]));let R=Dn(r)===o;return this.processSegment(h,d,S,T,R?de:o,!0).pipe(be(P=>new Pt(_,P instanceof Pt?[P]:[])))}))):Yi(n)))}getChildConfig(t,n,r){return n.children?se({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):VM(t,n,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(t,n).pipe(Ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):UM(n))):se({routes:[],injector:t})}};function JM(e){e.sort((t,n)=>t.value.outlet===de?-1:n.value.outlet===de?1:t.value.outlet.localeCompare(n.value.outlet))}function e1(e){let t=e.value.routeConfig;return t&&t.path===""}function J0(e){let t=[],n=new Set;for(let r of e){if(!e1(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=J0(r.children);t.push(new Pt(r.value,i))}return t.filter(r=>!n.has(r))}function t1(e){return e.data||{}}function n1(e){return e.resolve||{}}function r1(e,t,n,r,i,o){return Qe(s=>QM(e,t,n,r,s.extractedUrl,i,o).pipe(be(({state:l,tree:d})=>Le(V({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function i1(e,t){return Qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let h of eb(d))s.add(h);let l=0;return Ye(s).pipe(kr(d=>o.has(d)?o1(d,r,e,t):(d.data=sh(d,d.parent,e).resolve,se(void 0))),Ze(()=>l++),Ii(1),Qe(d=>l===s.size?se(n):It))})}function eb(e){let t=e.children.map(n=>eb(n)).flat();return[e,...t]}function o1(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!W0(i)&&(o[Ss]=i.title),s1(o,e,t,r).pipe(be(s=>(e._resolvedData=s,e.data=sh(e,e.parent,n).resolve,null)))}function s1(e,t,n,r){let i=Rf(e);if(i.length===0)return se({});let o={};return Ye(i).pipe(Qe(s=>a1(e[s],t,n,r).pipe(rn(),Ze(l=>{o[s]=l}))),Ii(1),nu(o),tr(s=>Q0(s)?It:_i(s)))}function a1(e,t,n,r){let i=Is(t)??r,o=no(e,i),s=o.resolve?o.resolve(t,n):cr(i,()=>o(t,n));return vr(s)}function Nf(e){return Bt(t=>{let n=e(t);return n?Ye(n).pipe(be(()=>t)):se(t)})}var tb=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Ss]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(c1),providedIn:"root"})}}return e})(),c1=(()=>{class e extends tb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(ye(C0))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),fh=new pe("",{providedIn:"root",factory:()=>({})}),hh=new pe(""),l1=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(uf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=vr(n.loadComponent()).pipe(be(nb),Ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Si(()=>{this.componentLoaders.delete(n)})),i=new Ci(r,()=>new gt).pipe(Di());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=u1(r,this.compiler,n,this.onLoadEndListener).pipe(Si(()=>{this.childrenLoaders.delete(r)})),s=new Ci(o,()=>new gt).pipe(Di());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function u1(e,t,n,r){return vr(e.loadChildren()).pipe(be(nb),Qe(i=>i instanceof Ko||Array.isArray(i)?se(i):Ye(t.compileModuleAsync(i))),be(i=>{r&&r(e);let o,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(o=i.create(n).injector,s=o.get(hh,[],{optional:!0,self:!0}).flat()),{routes:s.map(uh),injector:o}}))}function d1(e){return e&&typeof e=="object"&&"default"in e}function nb(e){return d1(e)?e.default:e}var ph=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(f1),providedIn:"root"})}}return e})(),f1=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),h1=new pe("");var p1=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=k(l1),this.environmentInjector=k(zt),this.urlSerializer=k(oh),this.rootContexts=k(tl),this.location=k(as),this.inputBindingEnabled=k(lh,{optional:!0})!==null,this.titleStrategy=k(tb),this.options=k(fh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(ph),this.createViewTransition=k(h1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Uf(i)),r=i=>this.events.next(new Hf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Le(V(V({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),be(o=>Le(V({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bt(o=>{let s=!1,l=!1;return se(o).pipe(Bt(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),It;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Le(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&y!=="reload"){let m="";return this.events.next(new ei(d.id,this.urlSerializer.serialize(d.rawUrl),m,Lf.IgnoredSameUrlNavigation)),d.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return se(d).pipe(Bt(m=>{let D=this.transitions?.getValue();return this.events.next(new bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),D!==this.transitions?.getValue()?It:Promise.resolve(m)}),r1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Le(V({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let D=new Xc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(D)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:m,extractedUrl:D,source:_,restoredState:S,extras:T}=d,R=new bs(m,this.urlSerializer.serialize(D),_,S);this.events.next(R);let P=z0(this.rootComponentType).snapshot;return this.currentTransition=o=Le(V({},d),{targetSnapshot:P,urlAfterRedirects:D,extras:Le(V({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,se(o)}else{let m="";return this.events.next(new ei(d.id,this.urlSerializer.serialize(d.extractedUrl),m,Lf.IgnoredByUrlHandlingStrategy)),d.resolve(null),It}}),Ze(d=>{let h=new jf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),be(d=>(this.currentTransition=o=Le(V({},d),{guards:xM(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),NM(this.environmentInjector,d=>this.events.next(d)),Ze(d=>{if(o.guardsResult=d.guardsResult,Ji(d.guardsResult))throw Y0(this.urlSerializer,d.guardsResult);let h=new Vf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),Vt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",kt.GuardRejected),!1)),Nf(d=>{if(d.guards.canActivateChecks.length)return se(d).pipe(Ze(h=>{let y=new Bf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Bt(h=>{let y=!1;return se(h).pipe(i1(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(h,"",kt.NoDataFromResolver)}}))}),Ze(h=>{let y=new $f(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),Nf(d=>{let h=y=>{let m=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(y.routeConfig).pipe(Ze(D=>{y.component=D}),be(()=>{})));for(let D of y.children)m.push(...h(D));return m};return _a(h(d.targetSnapshot.root)).pipe(nr(null),On(1))}),Nf(()=>this.afterPreactivation()),Bt(()=>{let{currentSnapshot:d,targetSnapshot:h}=o,y=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return y?Ye(y).pipe(be(()=>o)):se(o)}),be(d=>{let h=hM(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Le(V({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ze(()=>{this.events.next(new xs)}),wM(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),On(1),Ze({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),su(this.transitionAbortSubject.pipe(Ze(d=>{throw d}))),Si(()=>{!s&&!l&&this.cancelNavigationTransition(o,"",kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),tr(d=>{if(l=!0,K0(d))this.events.next(new gr(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),gM(d)?this.events.next(new Ds(d.url)):o.resolve(!1);else{this.events.next(new ws(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(d))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return It}))}))}cancelNavigationTransition(n,r,i){let o=new gr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function m1(e){return e!==gs}var g1=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(v1),providedIn:"root"})}}return e})(),ih=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},v1=(()=>{class e extends ih{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Od(e)))(i||e)}})()}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rb=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>k(y1),providedIn:"root"})}}return e})(),y1=(()=>{class e extends rb{constructor(){super(...arguments),this.location=k(as),this.urlSerializer=k(oh),this.options=k(fh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(ph),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=z0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof bs)this.stateMemento=this.createStateMemento();else if(n instanceof ei)this.rawUrlTree=r.initialUrl;else if(n instanceof Xc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof xs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof gr&&(n.code===kt.GuardRejected||n.code===kt.NoDataFromResolver)?this.restoreHistory(r):n instanceof ws?this.restoreHistory(r,!0):n instanceof Jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=V(V({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=V(V({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Od(e)))(i||e)}})()}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ps=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ps||{});function b1(e,t){e.events.pipe(Vt(n=>n instanceof Jr||n instanceof gr||n instanceof ws||n instanceof ei),be(n=>n instanceof Jr||n instanceof ei?ps.COMPLETE:(n instanceof gr?n.code===kt.Redirect||n.code===kt.SupersededByNewNavigation:!1)?ps.REDIRECTING:ps.FAILED),Vt(n=>n!==ps.REDIRECTING),On(1)).subscribe(()=>{t()})}function w1(e){throw e}var x1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},D1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ib=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(Nc),this.stateManager=k(rb),this.options=k(fh,{optional:!0})||{},this.pendingTasks=k(rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(p1),this.urlSerializer=k(oh),this.location=k(as),this.urlHandlingStrategy=k(ph),this._events=new gt,this.errorHandler=this.options.errorHandler||w1,this.navigated=!1,this.routeReuseStrategy=k(g1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(hh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(lh,{optional:!0}),this.eventsSubscription=new Ke,this.isNgZoneEnabled=k(Ge)instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof gr&&r.code!==kt.Redirect&&r.code!==kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof Ds){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||m1(i.source)};this.scheduleNavigation(s,gs,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}_1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=V({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(uh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:s,y=null;switch(l){case"merge":y=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}y!==null&&(y=this.removeEmptyProps(y));let m;try{let D=i?i.snapshot:this.routerState.snapshot.root;m=B0(D)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return $0(m,n,y,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ji(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gs,null,r)}navigate(n,r={skipLocationChange:!1}){return C1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=V({},x1):r===!1?i=V({},D1):i=r,Ji(n))return E0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return E0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,h;s?(l=s.resolve,d=s.reject,h=s.promise):h=new Promise((m,D)=>{l=m,d=D});let y=this.pendingTasks.add();return b1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function C1(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Y(4008,!1)}function _1(e){return!(e instanceof xs)&&!(e instanceof Ds)}var E1=new pe("");function ob(e,...t){return Gr([{provide:hh,multi:!0,useValue:e},[],{provide:eo,useFactory:S1,deps:[ib]},{provide:zi,multi:!0,useFactory:I1},t.map(n=>n.\u0275providers)])}function S1(e){return e.routerState.root}function I1(){let e=k(qr);return t=>{let n=e.get(pr);if(t!==n.components[0])return;let r=e.get(ib),i=e.get(M1);e.get(T1)===1&&r.initialNavigation(),e.get(A1,null,ge.Optional)?.setUpPreloading(),e.get(E1,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var M1=new pe("",{factory:()=>new gt}),T1=new pe("",{providedIn:"root",factory:()=>1});var A1=new pe("");var sb=[];var ab={providers:[ob(sb),_0()]};var Xt=class{constructor(t,n,r,i,o,s,l,d,h,y,m,D,_){this.type=t,this.name=n,this.deleted=r,this.id=i,this.src=o,this.rotatable=!1,this.flippable=!1,this.center=s,this.locked=l,this.x=d,this.y=h,this.rotation=0,this.attachs=[],this.offsetX=y,this.offsetY=m,this.toolbar=D,this.selectionBoundingBox=_,this.style={top:"0",left:"0","transform-origin":""},this.styleData={top:0,left:0}}move(t,n,r=!0){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}setLocked(t){return this.locked=t}toggleLocked(){return this.locked=!this.locked}idNumberToKey(t){return`${String(t).padStart(2,"0")}`}};var Se=class extends Xt{constructor(t,n,r,i,o=0,s=!0,l=!1,d=!1,h=!1){super("handconf",`Configura\xE7\xE3o de m\xE3o ${t}`,d,t,"",{top:"0",left:"0"},h,s?Math.round(n):n,s?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.handconfSpec=i.getHandconfSpec(),this.rotatable=!0,this.flippable=!0;let y=this.getCenterOffset();this.rotation=s?Math.round(o):o,this.styleData={top:0,left:0,flipped:l},this.style={top:"0px",left:"0px",transform:`rotation(0deg) scale(1) scaleX(${l?-1:1})`,"transform-origin":`${y.x}px ${y.y}px`},this.src=`../assets/params/handconf/${this.idNumberToKey(t)}.svg`,this.offsetX=y.x,this.offsetY=y.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.handconfSpec[t].max.left,y:-this.handconfSpec[t].max.top}}getMaxFootprint(){return this.handconfSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.handconfSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:5}setRotation(t,n=!0,r=!0){r&&(t=t%360),this.rotation=n?Math.round(t):t}setFlipped(t){this.styleData.flipped=t}toggleFlipped(){this.styleData.flipped=!this.styleData.flipped}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var yr=class extends Xt{constructor(t,n,r,i,o=!0,s=!1,l=!1){super("location",`Loca\xE7\xE3o ${t}`,s,t,"",{top:"0",left:"0"},l,o?Math.round(n):n,o?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.locationSpec=i.getLocationSpec(),this.rotatable=!1,this.id>=2&&this.id<=5?this.flippable=!0:this.flippable=!1;let d=this.getCenterOffset();this.rotation=0,this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${d.x}px ${d.y}px`},this.src=`../assets/params/location/${this.idNumberToKey(t)}.svg`,this.offsetX=d.x,this.offsetY=d.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.locationSpec[t].max.left,y:-this.locationSpec[t].max.top}}getMaxFootprint(){return this.locationSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.locationSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:3+Number(this.flippable)}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var st=class extends Xt{constructor(t,n,r,i=!0,o=!1,s=!1){super("head","Cabe\xE7a",o,-1,"../assets/params/headCompiled.svg",{top:"0",left:"0"},s,i?Math.round(t):t,i?Math.round(n):n,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.headSpec=r.getHeadSpec(),this.attachSpec=r.getAttachSpec(),this.rotatable=!1,this.flippable=!1,this.rotation=0;let l=this.getCenterOffset();this.styleData={top:0,left:0},this.style={top:"0px",left:"0px","transform-origin":`${l.x}px ${l.y}px`},this.offsetX=l.x,this.offsetY=l.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=r,this.attachs=[]}addAttach(t){for(let n=0;n<this.attachs.length;n++)if(this.attachs[n].id===t)return!1;return this.attachs.push(this.createAttach(t)),!0}removeAttach(t){for(let n=0;n<this.attachs.length;n++)if(this.attachs[n].id===t)return this.attachs.splice(n,1),!0;return!1}getCenterOffset(){return{x:-this.headSpec.max.left,y:-this.headSpec.max.top}}getAttachCenterOffset(t){let n=this.idNumberToKey(t),r=this.attachSpec[n];return{x:-r.max.left,y:-r.max.top}}getMaxFootprint(){return this.headSpec.max}getMinFootprint(){return this.headSpec.min}toolbarItems(){return this.locked?1:4}getAttachMaxFootprint(t){let n=this.idNumberToKey(t);return this.attachSpec[n].max}getAttachMinFootprint(t){let n=this.idNumberToKey(t);return this.attachSpec[n].min}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}createAttach(t){let n=this.idNumberToKey(t),r=this.getAttachCenterOffset(t);return{id:t,src:`../assets/params/attach/${n}.svg`,offsetX:r.x,offsetY:r.y,style:{top:"0",left:"0","transform-origin":`${r.x}px ${r.y}px`}}}};var Oe=class extends Xt{constructor(t,n,r,i,o=0,s=!0,l=!1,d=!1){super("movement",`Movimento ${t}`,l,t,"",{top:"0",left:"0"},d,s?Math.round(n):n,s?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.movementSpec=i.getMovementSpec(),this.id==1||this.id==2||this.id==3||this.id==4?this.rotatable=!1:this.rotatable=!0,this.id==1||this.id==2||this.id==3||this.id==4||this.id==5?this.flippable=!1:this.flippable=!0;let h=this.getCenterOffset();this.rotation=o,this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${h.x}px ${h.y}px`},this.src=`../assets/params/movement/${this.idNumberToKey(t)}.svg`,this.offsetX=h.x,this.offsetY=h.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.movementSpec[t].max.left,y:-this.movementSpec[t].max.top}}getMaxFootprint(){return this.movementSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.movementSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:3+Number(this.rotatable)+Number(this.flippable)}setRotation(t,n=!0,r=!0){r&&(t=t%360),this.rotation=n?Math.round(t):t}setFlipped(t){this.styleData.flipped=t}toggleFlipped(){this.styleData.flipped=!this.styleData.flipped}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var ro=class extends Xt{constructor(t,n,r,i,o=!0,s=!1,l=!1){super("plane",`Plano ${t}`,s,t,"",{top:"0",left:"0"},l,o?Math.round(n):n,o?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.planeSpec=i.getPlaneSpec(),this.rotatable=!1,this.flippable=!1;let d=this.getCenterOffset();this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${d.x}px ${d.y}px`},this.src=`../assets/params/plane/${this.idNumberToKey(t)}.svg`,this.offsetX=d.x,this.offsetY=d.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.planeSpec[t].max.left,y:-this.planeSpec[t].max.top}}getMaxFootprint(){return this.planeSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.planeSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:3}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var Lt=vx(cb());var gh={"01":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"02":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"03":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"04":{min:{left:-350,right:150,top:-150,bottom:150},max:{left:-450,right:250,top:-250,bottom:250}},"05":{min:{left:-275,right:150,top:-150,bottom:150},max:{left:-375,right:250,top:-250,bottom:250}},"06":{min:{left:-275,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-375,bottom:250}},"07":{min:{left:-450,right:150,top:-150,bottom:160},max:{left:-550,right:250,top:-250,bottom:260}},"08":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"09":{min:{left:-150,right:150,top:-180,bottom:65},max:{left:-250,right:250,top:-280,bottom:165}},"10":{min:{left:-150,right:150,top:-25,bottom:25},max:{left:-250,right:250,top:-125,bottom:125}},"11":{min:{left:50,right:150,top:-150,bottom:150},max:{left:-50,right:250,top:-250,bottom:250}},"12":{min:{left:-285,right:150,top:-415,bottom:150},max:{left:-385,right:250,top:-515,bottom:250}},"13":{min:{left:-295,right:165,top:-450,bottom:150},max:{left:-395,right:265,top:-550,bottom:250}},"14":{min:{left:110,right:175,top:-125,bottom:125},max:{left:60,right:225,top:-225,bottom:225}},"15":{min:{left:-350,right:150,top:-450,bottom:150},max:{left:-450,right:250,top:-550,bottom:250}},"16":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"17":{min:{left:-250,right:150,top:-450,bottom:150},max:{left:-350,right:250,top:-550,bottom:250}},"18":{min:{left:-425,right:150,top:-180,bottom:150},max:{left:-525,right:250,top:-280,bottom:250}},"19":{min:{left:-385,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"20":{min:{left:-350,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"21":{min:{left:-410,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"22":{min:{left:-435,right:150,top:-250,bottom:150},max:{left:-535,right:250,top:-350,bottom:250}},"23":{min:{left:-400,right:150,top:-250,bottom:150},max:{left:-500,right:250,top:-350,bottom:250}},"24":{min:{left:-225,right:150,top:-300,bottom:150},max:{left:-325,right:250,top:-400,bottom:250}},"25":{min:{left:-150,right:150,top:-300,bottom:150},max:{left:-250,right:250,top:-400,bottom:250}},"26":{min:{left:-215,right:150,top:-415,bottom:150},max:{left:-315,right:250,top:-515,bottom:250}},"27":{min:{left:-150,right:150,top:-415,bottom:150},max:{left:-250,right:250,top:-515,bottom:250}},"28":{min:{left:-150,right:150,top:-400,bottom:150},max:{left:-250,right:250,top:-500,bottom:250}},"29":{min:{left:-300,right:150,top:-450,bottom:150},max:{left:-400,right:250,top:-550,bottom:250}},"30":{min:{left:-150,right:150,top:-400,bottom:150},max:{left:-250,right:250,top:-500,bottom:250}},"31":{min:{left:-225,right:150,top:-400,bottom:150},max:{left:-325,right:250,top:-500,bottom:250}},"32":{min:{left:-350,right:150,top:-400,bottom:150},max:{left:-450,right:250,top:-500,bottom:250}},"33":{min:{left:-450,right:150,top:-400,bottom:150},max:{left:-550,right:250,top:-500,bottom:250}},"34":{min:{left:-400,right:150,top:-400,bottom:150},max:{left:-500,right:250,top:-500,bottom:250}},"35":{min:{left:-450,right:150,top:-400,bottom:150},max:{left:-550,right:250,top:-500,bottom:250}},"36":{min:{left:-400,right:150,top:-150,bottom:150},max:{left:-500,right:250,top:-250,bottom:250}},"37":{min:{left:-400,right:150,top:150,bottom:150},max:{left:-500,right:250,top:-250,bottom:250}},"38":{min:{left:-450,right:150,top:-450,bottom:150},max:{left:-550,right:250,top:-550,bottom:250}},"39":{min:{left:-400,right:150,top:-435,bottom:150},max:{left:-500,right:250,top:-535,bottom:250}},"40":{min:{left:-400,right:150,top:-450,bottom:150},max:{left:-500,right:250,top:-550,bottom:250}},"41":{min:{left:-400,right:250,top:-435,bottom:150},max:{left:-500,right:250,top:-535,bottom:250}},"42":{min:{left:-330,right:150,top:-435,bottom:150},max:{left:-430,right:250,top:-535,bottom:250}},"43":{min:{left:-150,right:150,top:-150,bottom:450},max:{left:-250,right:250,top:-250,bottom:550}},"44":{min:{left:-300,right:150,top:-450,bottom:150},max:{left:-400,right:250,top:-550,bottom:250}},"45":{min:{left:-150,right:150,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"46":{min:{left:-150,right:150,top:-435,bottom:150},max:{left:-250,right:250,top:-535,bottom:250}},"47":{min:{left:-150,right:250,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"48":{min:{left:-165,right:150,top:-435,bottom:150},max:{left:-265,right:250,top:-535,bottom:250}},"49":{min:{left:-270,right:150,top:-435,bottom:150},max:{left:-370,right:250,top:-535,bottom:250}},"50":{min:{left:-150,right:150,top:-150,bottom:450},max:{left:-250,right:250,top:-250,bottom:550}},"51":{min:{left:-150,right:150,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"52":{min:{left:-150,right:150,top:-460,bottom:150},max:{left:-260,right:260,top:-550,bottom:250}},"53":{min:{left:-150,right:150,top:-300,bottom:100},max:{left:-250,right:250,top:-400,bottom:200}},"54":{min:{left:-180,right:150,top:-300,bottom:100},max:{left:-280,right:250,top:-400,bottom:200}},"55":{min:{left:-235,right:150,top:-300,bottom:100},max:{left:-335,right:250,top:-400,bottom:200}},"56":{min:{left:-235,right:150,top:-240,bottom:100},max:{left:-335,right:250,top:-350,bottom:200}},"57":{min:{left:-375,right:285,top:-450,bottom:150},max:{left:-475,right:385,top:-550,bottom:250}},"58":{min:{left:150,right:285,top:-450,bottom:150},max:{left:-260,right:385,top:-550,bottom:250}},"59":{min:{left:-250,right:285,top:-450,bottom:150},max:{left:-350,right:385,top:-550,bottom:250}},"60":{min:{left:-150,right:150,top:-115,bottom:35},max:{left:-250,right:250,top:-230,bottom:135}},"61":{min:{left:-45,right:150,top:-150,bottom:125},max:{left:-145,right:250,top:-250,bottom:225}},"62":{min:{left:-375,right:285,top:-450,bottom:150},max:{left:-475,right:385,top:-550,bottom:250}},"63":{min:{left:-450,right:210,top:-450,bottom:150},max:{left:-550,right:310,top:-550,bottom:250}},"64":{min:{left:-450,right:210,top:-450,bottom:150},max:{left:-550,right:310,top:-550,bottom:250}},"65":{min:{left:-385,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"66":{min:{left:-350,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"67":{min:{left:-410,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"68":{min:{left:-150,right:150,top:-285,bottom:150},max:{left:-250,right:250,top:-385,bottom:250}},"69":{min:{left:-150,right:150,top:-250,bottom:150},max:{left:-250,right:250,top:-350,bottom:250}},"70":{min:{left:-350,right:150,top:-250,bottom:150},max:{left:-450,right:250,top:-350,bottom:250}},"71":{min:{left:-275,right:255,top:-230,bottom:150},max:{left:-375,right:355,top:-330,bottom:250}},"72":{min:{left:-370,right:150,top:-365,bottom:150},max:{left:-470,right:250,top:-465,bottom:250}},"73":{min:{left:-195,right:225,top:-365,bottom:150},max:{left:-295,right:325,top:-465,bottom:250}},"74":{min:{left:-245,right:180,top:-450,bottom:150},max:{left:-370,right:280,top:-550,bottom:250}},"75":{min:{left:-245,right:215,top:-450,bottom:150},max:{left:-370,right:315,top:-550,bottom:250}},"76":{min:{left:-275,right:215,top:-450,bottom:150},max:{left:-400,right:315,top:-550,bottom:250}},"77":{min:{left:-285,right:215,top:-450,bottom:150},max:{left:-385,right:315,top:-550,bottom:250}},"78":{min:{left:-350,right:225,top:-450,bottom:150},max:{left:-450,right:325,top:-550,bottom:250}}};var lb={"01":{min:{left:-450,right:450,top:-450,bottom:450},max:{left:-550,right:550,top:-550,bottom:550}},"02":{min:{left:-450,right:450,top:-50,bottom:50},max:{left:-550,right:550,top:-150,bottom:150}},"03":{min:{left:-450,right:450,top:-50,bottom:50},max:{left:-550,right:550,top:-150,bottom:150}},"04":{min:{left:-240,right:265,top:-255,bottom:250},max:{left:-340,right:365,top:-355,bottom:375}},"05":{min:{left:-265,right:240,top:-255,bottom:250},max:{left:-365,right:340,top:-355,bottom:375}}};var io={"01":{min:{left:-85,right:85,top:-100,bottom:40},max:{left:-165,right:165,top:-185,bottom:110}},"02":{min:{left:440,right:630,top:-275,bottom:40},max:{left:340,right:730,top:-375,bottom:140}},"03":{min:{left:-630,right:-440,top:-275,bottom:40},max:{left:-730,right:-340,top:-375,bottom:140}},"04":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"05":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"06":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"07":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-305,bottom:-125}},"08":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-120}},"09":{min:{left:-250,right:250,top:-300,bottom:-150},max:{left:-350,right:350,top:-400,bottom:-50}},"10":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"11":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"12":{min:{left:-250,right:250,top:-215,bottom:-210},max:{left:-350,right:350,top:-250,bottom:-175}},"13":{min:{left:200,right:300,top:-30,bottom:270},max:{left:100,right:400,top:-130,bottom:370}},"14":{min:{left:-300,right:-200,top:-30,bottom:270},max:{left:-400,right:-100,top:-130,bottom:370}},"15":{min:{left:-215,right:215,top:-270,bottom:-170},max:{left:-315,right:315,top:-370,bottom:130}},"16":{min:{left:-250,right:250,top:-340,bottom:-305},max:{left:-350,right:350,top:-380,bottom:-265}},"17":{min:{left:-215,right:215,top:-270,bottom:-170},max:{left:-315,right:315,top:-370,bottom:-70}},"18":{min:{left:-165,right:165,top:200,bottom:310},max:{left:-265,right:265,top:100,bottom:410}},"19":{min:{left:-100,right:100,top:235,bottom:240},max:{left:-200,right:200,top:200,bottom:275}},"20":{min:{left:-200,right:200,top:110,bottom:260},max:{left:-300,right:300,top:10,bottom:360}},"21":{min:{left:-200,right:200,top:110,bottom:260},max:{left:-300,right:300,top:10,bottom:360}},"22":{min:{left:-50,right:50,top:50,bottom:350},max:{left:-150,right:150,top:-50,bottom:450}},"23":{min:{left:-100,right:100,top:250,bottom:290},max:{left:-200,right:200,top:200,bottom:340}},"24":{min:{left:-10,right:10,top:95,bottom:230},max:{left:-60,right:60,top:-5,bottom:330}},"25":{min:{left:-400,right:400,top:440,bottom:950},max:{left:-500,right:500,top:340,bottom:1050}}};var Ts={min:{left:-450,right:450,top:-450,bottom:450},max:{left:-550,right:550,top:-550,bottom:550}};var vh={"01":{min:{left:-15,right:15,top:-15,bottom:15},max:{left:-35,right:35,top:-35,bottom:35}},"02":{min:{left:-65,right:65,top:-15,bottom:15},max:{left:-85,right:85,top:-35,bottom:35}},"03":{min:{left:-115,right:115,top:-40,bottom:40},max:{left:-135,right:135,top:-60,bottom:60}},"04":{min:{left:-25,right:25,top:-35,bottom:35},max:{left:-65,right:65,top:-65,bottom:65}},"05":{min:{left:-90,right:90,top:-10,bottom:10},max:{left:-160,right:160,top:-70,bottom:70}},"06":{min:{left:50,right:250,top:-35,bottom:35},max:{left:-50,right:350,top:-135,bottom:135}},"07":{min:{left:50,right:250,top:-35,bottom:35},max:{left:-50,right:350,top:-135,bottom:135}},"08":{min:{left:-175,right:35,top:50,bottom:250},max:{left:-275,right:135,top:-50,bottom:350}},"09":{min:{left:-175,right:35,top:50,bottom:250},max:{left:-275,right:135,top:-150,bottom:350}},"10":{min:{left:-90,right:90,top:-95,bottom:230},max:{left:-190,right:190,top:-195,bottom:330}},"11":{min:{left:-210,right:220,top:-250,bottom:-125},max:{left:-310,right:320,top:-350,bottom:-25}},"12":{min:{left:-180,right:220,top:-215,bottom:-125},max:{left:-280,right:320,top:-315,bottom:-25}},"13":{min:{left:-230,right:290,top:-130,bottom:50},max:{left:-330,right:390,top:-230,bottom:150}},"14":{min:{left:-220,right:305,top:-45,bottom:25},max:{left:-320,right:405,top:-145,bottom:125}},"15":{min:{left:-230,right:305,top:-25,bottom:25},max:{left:-320,right:405,top:-125,bottom:125}},"16":{min:{left:-300,right:300,top:-115,bottom:55},max:{left:-400,right:400,top:-215,bottom:155}},"17":{min:{left:-225,right:265,top:-225,bottom:225},max:{left:-325,right:365,top:-325,bottom:325}},"18":{min:{left:-200,right:200,top:-75,bottom:150},max:{left:-300,right:300,top:-175,bottom:250}},"19":{min:{left:-200,right:205,top:-185,bottom:130},max:{left:-300,right:335,top:-285,bottom:230}},"20":{min:{left:-150,right:230,top:-50,bottom:55},max:{left:-250,right:330,top:-150,bottom:155}},"21":{min:{left:-160,right:240,top:-150,bottom:40},max:{left:-260,right:340,top:-250,bottom:140}}};var yh={"01":{min:{left:-75,right:75,top:-5,bottom:5},max:{left:-125,right:125,top:-40,bottom:40}},"02":{min:{left:-35,right:35,top:-70,bottom:70},max:{left:-85,right:85,top:-120,bottom:120}}};var oo=(()=>{class e{constructor(){this.graphemes=[],this.locationAddList=[{type:"location",attachs:[],id:1,icon:"../assets/params/precomposed/location/01.svg"},{type:"head",attachs:[],id:-1,icon:"../assets/params/precomposed/location/02.svg"},{type:"head",attachs:[1],id:-1,icon:"../assets/params/precomposed/location/03.svg"},{type:"head",attachs:[2,3],id:-1,icon:"../assets/params/precomposed/location/04.svg"},{type:"head",attachs:[2],id:-1,icon:"../assets/params/precomposed/location/05.svg"},{type:"head",attachs:[3],id:-1,icon:"../assets/params/precomposed/location/06.svg"},{type:"head",attachs:[4],id:-1,icon:"../assets/params/precomposed/location/07.svg"},{type:"head",attachs:[16],id:-1,icon:"../assets/params/precomposed/location/08.svg"},{type:"head",attachs:[18],id:-1,icon:"../assets/params/precomposed/location/09.svg"},{type:"head",attachs:[19],id:-1,icon:"../assets/params/precomposed/location/10.svg"},{type:"head",attachs:[23],id:-1,icon:"../assets/params/precomposed/location/11.svg"},{type:"location",attachs:[],id:2,icon:"../assets/params/precomposed/location/12.svg"},{type:"location",attachs:[],id:3,icon:"../assets/params/precomposed/location/13.svg"},{type:"location",attachs:[],id:4,icon:"../assets/params/precomposed/location/14.svg"},{type:"location",attachs:[],id:5,icon:"../assets/params/precomposed/location/15.svg"},{type:"head",attachs:[25],id:-1,icon:"../assets/params/precomposed/location/16.svg"}],this.faceexpAddList=[{attachs:[19],icon:"../assets/params/precomposed/faceexp/01.svg"},{attachs:[4],icon:"../assets/params/precomposed/faceexp/02.svg"},{attachs:[5],icon:"../assets/params/precomposed/faceexp/03.svg"},{attachs:[6],icon:"../assets/params/precomposed/faceexp/04.svg"},{attachs:[7],icon:"../assets/params/precomposed/faceexp/05.svg"},{attachs:[8],icon:"../assets/params/precomposed/faceexp/06.svg"},{attachs:[9],icon:"../assets/params/precomposed/faceexp/07.svg"},{attachs:[10],icon:"../assets/params/precomposed/faceexp/08.svg"},{attachs:[11],icon:"../assets/params/precomposed/faceexp/09.svg"},{attachs:[12],icon:"../assets/params/precomposed/faceexp/10.svg"},{attachs:[13,14],icon:"../assets/params/precomposed/faceexp/11.svg"},{attachs:[13],icon:"../assets/params/precomposed/faceexp/12.svg"},{attachs:[14],icon:"../assets/params/precomposed/faceexp/13.svg"},{attachs:[15],icon:"../assets/params/precomposed/faceexp/14.svg"},{attachs:[17],icon:"../assets/params/precomposed/faceexp/15.svg"},{attachs:[20],icon:"../assets/params/precomposed/faceexp/16.svg"},{attachs:[21],icon:"../assets/params/precomposed/faceexp/17.svg"},{attachs:[22],icon:"../assets/params/precomposed/faceexp/18.svg"},{attachs:[23],icon:"../assets/params/precomposed/faceexp/19.svg"},{attachs:[24],icon:"../assets/params/precomposed/faceexp/20.svg"}]}getHandconfSpec(){return gh}getLocationSpec(){return lb}getHeadSpec(){return Ts}getAttachSpec(){return io}getMovementSpec(){return vh}getPlaneSpec(){return yh}addHandconfGrapheme(n,r=0,i=0,o=0,s=!1,l=!0){this.graphemes.push(new Se(n,l?Math.round(r):r,l?Math.round(i):i,this,l?Math.round(o):o,s))}addLocationGrapheme(n,r=0,i=0,o=!0){this.graphemes.push(new yr(n,o?Math.round(r):r,o?Math.round(i):i,this))}addHeadGrapheme(n,r,i=!0){this.graphemes.push(new st(n,r,this))}addMovementGrapheme(n,r=0,i=0,o=0,s=!0){this.graphemes.push(new Oe(n,r,i,this,o))}addPlaneGrapheme(n,r=0,i=0,o=!0){this.graphemes.push(new ro(n,r,i,this))}deleteGrapheme(n){this.graphemes[n].deleted=!0}getHandconfGraphemes(){return Object.keys(gh).map(i=>({id:parseInt(i),src:`../assets/params/handconf/${i}.svg`})).sort((i,o)=>i.id-o.id)}getAttachs(){return Object.keys(io).map(i=>({id:parseInt(i),src:`../assets/params/precomposed/attach/${i}.svg`})).sort((i,o)=>i.id-o.id)}getMovementGraphemes(){let r=Object.keys(vh).map(i=>({id:parseInt(i),src:`../assets/params/movement/${i}.svg`}));return r.sort((i,o)=>i.id-o.id),r[0].src="../assets/params/precomposed/movement/01.svg",r[1].src="../assets/params/precomposed/movement/02.svg",r}getPlaneGraphemes(){return Object.keys(yh).map(i=>({id:parseInt(i),src:`../assets/params/plane/${i}.svg`})).sort((i,o)=>i.id-o.id)}calculateRotatedGraphemeFootprint(n){if(n instanceof Se||n instanceof Oe){let r=n.rotation,i=n.styleData.flipped,o=n.getMaxFootprint(),s={minX:i?-o.right:o.left,minY:o.top,maxX:i?-o.left:o.right,maxY:o.bottom},l=Math.cos(r*Math.PI/180),d=Math.sin(r*Math.PI/180),h=[{x:s.minX*l-s.minY*d,y:s.minX*d+s.minY*l},{x:s.maxX*l-s.minY*d,y:s.maxX*d+s.minY*l},{x:s.minX*l-s.maxY*d,y:s.minX*d+s.maxY*l},{x:s.maxX*l-s.maxY*d,y:s.maxX*d+s.maxY*l}];return{minX:Math.min(h[0].x,h[1].x,h[2].x,h[3].x),minY:Math.min(h[0].y,h[1].y,h[2].y,h[3].y),maxX:Math.max(h[0].x,h[1].x,h[2].x,h[3].x),maxY:Math.max(h[0].y,h[1].y,h[2].y,h[3].y)}}else{let r=n.getMaxFootprint();return{minX:r.left,minY:r.top,maxX:r.right,maxY:r.bottom}}}calculateRotatedGraphemeCorners(n){let r=n instanceof Se||n instanceof Oe?n.rotation:0,i=n instanceof Se?n.styleData.flipped:!1,o=n.getMaxFootprint(),s={minX:i?-o.right:o.left,minY:o.top,maxX:i?-o.left:o.right,maxY:o.bottom},l=Math.cos(r*Math.PI/180),d=Math.sin(r*Math.PI/180);return{topLeft:{x:n.x+s.minX*l-s.minY*d,y:n.y+s.minX*d+s.minY*l},topRight:{x:n.x+s.maxX*l-s.minY*d,y:n.y+s.maxX*d+s.minY*l},bottomLeft:{x:n.x+s.minX*l-s.maxY*d,y:n.y+s.minX*d+s.maxY*l},bottomRight:{x:n.x+s.maxX*l-s.maxY*d,y:n.y+s.maxX*d+s.maxY*l}}}calculateRotatedGraphemeFootprintOnCanvas(n){if(n instanceof st){let r=V({},n.getMaxFootprint());return r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y,n.attachs.forEach(i=>{if(i.id===2){let o=Math.abs(io[n.idNumberToKey(2)].max.right-Ts.max.right);r.right+=o}else if(i.id===3){let o=Math.abs(io[n.idNumberToKey(3)].max.left-Ts.max.left);r.left-=o}else if(i.id===25){let o=Math.abs(io[n.idNumberToKey(25)].max.bottom-Ts.max.bottom);r.bottom+=o}}),{minX:r.left,minY:r.top,maxX:r.right,maxY:r.bottom}}else{let r=this.calculateRotatedGraphemeCorners(n);return{minX:Math.min(r.topLeft.x,r.topRight.x,r.bottomLeft.x,r.bottomRight.x),minY:Math.min(r.topLeft.y,r.topRight.y,r.bottomLeft.y,r.bottomRight.y),maxX:Math.max(r.topLeft.x,r.topRight.x,r.bottomLeft.x,r.bottomRight.x),maxY:Math.max(r.topLeft.y,r.topRight.y,r.bottomLeft.y,r.bottomRight.y)}}}calculateRotatedGraphemeCenter(n){let r=this.calculateRotatedGraphemeFootprint(n);return{x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var L1=["addMenu"];function j1(e,t){if(e&1){let n=Nt();W(0,"div",4)(1,"button",5),Xe("click",function(){let i=Ue(n).$implicit,o=L();return He(o.onAdd(i.id,o.type))}),K(2,"img",6),q()()}if(e&2){let n=t.$implicit;G(2),wn("src",n.src,ur)}}var rl=(()=>{class e{constructor(n){this.graphemesService=n,this.width="250px",this.height="750px",this.graphemes=[],this.menuStyle={width:"auto",height:"auto"}}ngOnInit(){if(this.type==="handconf")this.graphemes=this.graphemesService.getHandconfGraphemes();else if(this.type==="faceexp")this.graphemesService.faceexpAddList.forEach((n,r)=>{this.graphemes.push({id:r,src:n.icon})});else if(this.type==="location")this.graphemesService.locationAddList.forEach((n,r)=>{this.graphemes.push({id:r,src:n.icon})});else if(this.type==="attach")this.graphemes=this.graphemesService.getAttachs();else if(this.type==="movement")this.graphemes=this.graphemesService.getMovementGraphemes();else if(this.type==="plane")this.graphemes=this.graphemesService.getPlaneGraphemes();else throw new Error("Invalid add menu type: "+this.type);this.menuStyle={width:`${this.width}`,height:`calc(${this.height} - 1rem)`}}static{this.\u0275fac=function(r){return new(r||e)(Ve(oo))}}static{this.\u0275cmp=ar({type:e,selectors:[["app-add-menu"]],viewQuery:function(r,i){if(r&1&&Ot(L1,5),r&2){let o;xt(o=Dt())&&(i.addMenu=o.first)}},inputs:{type:"type",width:"width",height:"height",onAdd:"onAdd"},standalone:!0,features:[hr],decls:4,vars:2,consts:[["addMenu",""],[1,"add-menu-container",3,"ngStyle"],[1,"add-menu"],["class","add-menu-item",4,"ngFor","ngForOf"],[1,"add-menu-item"],[3,"click"],["inert","",1,"add-menu-item-icon","uninteractive",3,"src"]],template:function(r,i){r&1&&(W(0,"div",1)(1,"div",2,0),_e(3,j1,3,1,"div",3),q()()),r&2&&(Z("ngStyle",i.menuStyle),G(3),Z("ngForOf",i.graphemes))},dependencies:[Kr,Wi,qi],styles:[".add-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.5rem;padding:.5rem;background-color:#fff;overflow-y:auto;scrollbar-width:thin;width:calc(100% - 1rem);max-height:100%;border-radius:.25rem;box-shadow:#0003 0 3px 1px -2px,#00000024 0 2px 2px,#0000001f 0 1px 5px}.add-menu-item[_ngcontent-%COMP%]{width:100%;height:0;padding-top:100%;position:relative}.add-menu-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:.25rem;left:.25rem;width:calc(100% - .5rem);height:calc(100% - .5rem)}.add-menu-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;border:2px solid #202020;border-radius:1rem}.add-menu-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{border:2px solid #555555}"]})}}return e})();var V1=["addTypeMenu"];function B1(e,t){e&1&&K(0,"img",6)}function $1(e,t){if(e&1&&K(0,"app-add-menu",9),e&2){let n=L().$implicit,r=L();Z("onAdd",r.onAdd)("width",r.addMenuWidth+"px")("height",r.addMenuHeight+"px")("type",n.addType)("ngStyle",r.addMenuStyle)}}function U1(e,t){if(e&1){let n=Nt();W(0,"div",3),Xe("mouseover",function(i){let o=Ue(n).$implicit,s=L();return He(s.mouseOverHandler(i,o.addType))})("mouseleave",function(i){Ue(n);let o=L();return He(o.mouseOverHandler(i,""))})("click",function(i){let o=Ue(n).$implicit,s=L();return He(s.clickHandler(i,o.addType))}),K(1,"img",4),W(2,"div",5),Bn(3),q(),_e(4,B1,1,0,"img",6),W(5,"div",7),_e(6,$1,1,5,"app-add-menu",8),q()()}if(e&2){let n=t.$implicit,r=L();G(),Z("src",n.iconSrc,ur),G(2),os(" ",n.name," "),G(),nt(4,n.hasSubMenu?4:-1),G(2),Z("ngIf",n.addType===r.addType)}}var ub=(()=>{class e{constructor(n,r){this.cdr=n,this.renderer2=r,this.width="250px",this.addType="",this.addTypeMenuStyle={width:"auto"},this.addMenuStyle={top:"auto",left:"auto",right:"auto"},this.addMenuWidth=250,this.addMenuHeight=750,this.types=[{name:"Loca\xE7\xE3o",addType:"location",iconSrc:"../assets/params/location/02.svg",hasSubMenu:!0},{name:"Configura\xE7\xE3o de M\xE3o",addType:"handconf",iconSrc:"../assets/params/handconf/13.svg",hasSubMenu:!0},{name:"Movimento",addType:"movement",iconSrc:"../assets/params/movement/07.svg",hasSubMenu:!0},{name:"Plano",addType:"plane",iconSrc:"../assets/params/plane/02.svg",hasSubMenu:!0},{name:"Express\xE3o Facial",addType:"faceexp",iconSrc:"../assets/params/precomposed/faceexp/02.svg",hasSubMenu:!0}],this.previousAddType="",this.mouseOverTimeout=-1}ngOnInit(){this.addTypeMenuStyle.width=this.width}setSubMenu(n){let r=this.types.findIndex(o=>o.addType===n);this.addType=n,this.previousAddType=n,r===0?this.addMenuStyle.top="-1rem":this.addMenuStyle.top="-1.25rem";let i=this.addTypeMenu.nativeElement.getBoundingClientRect();i.right+this.addMenuWidth<=window.innerWidth?(this.addMenuStyle.right="auto",this.addMenuStyle.left=`${i.width}px`):i.left-this.addMenuWidth>0?(this.addMenuStyle.right="0",this.addMenuStyle.left="auto"):(this.addMenuStyle.right=`${i.left-window.innerWidth}px`,this.addMenuStyle.left="auto"),this.cdr.detectChanges()}clickHandler(n,r){let i=n.target.closest(".add-type-item").getBoundingClientRect().top;this.addMenuHeight=window.innerHeight-i,this.setSubMenu(r)}mouseOverHandler(n,r){let i=n.target.closest(".add-type-item").getBoundingClientRect().top;this.addMenuHeight=window.innerHeight-i,this.mouseOverTimeout!==-1&&clearTimeout(this.mouseOverTimeout),this.previousAddType!==r&&r!==""&&(this.mouseOverTimeout=window.setTimeout(()=>this.setSubMenu(r),50))}static{this.\u0275fac=function(r){return new(r||e)(Ve($n),Ve(Vn))}}static{this.\u0275cmp=ar({type:e,selectors:[["app-add-type"]],viewQuery:function(r,i){if(r&1&&Ot(V1,5),r&2){let o;xt(o=Dt())&&(i.addTypeMenu=o.first)}},inputs:{width:"width",onAdd:"onAdd"},standalone:!0,features:[hr],decls:3,vars:2,consts:[["addTypeMenu",""],[1,"add-type-menu","uninteractive",3,"ngStyle"],["class","add-type-item",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"add-type-item",3,"mouseover","mouseleave","click"],[1,"add-type-item-icon",3,"src"],[1,"add-type-item-text"],["inert","","src","../../../assets/caret-forward-outline.svg",1,"add-type-forward"],[2,"position","absolute"],["class","add-menu",3,"onAdd","width","height","type","ngStyle",4,"ngIf"],[1,"add-menu",3,"onAdd","width","height","type","ngStyle"]],template:function(r,i){r&1&&(W(0,"div",1,0),_e(2,U1,7,4,"div",2),q()),r&2&&(Z("ngStyle",i.addTypeMenuStyle),G(2),Z("ngForOf",i.types))},dependencies:[Kr,Wi,kc,qi,rl],styles:[".add-type-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:.25rem;box-shadow:#0003 0 3px 1px -2px,#00000024 0 2px 2px,#0000001f 0 1px 5px}.add-type-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-bottom:.25rem;padding-top:.25rem;border-bottom:1px solid #e0e0e0}.add-type-item[_ngcontent-%COMP%]:first-child{padding-top:0}.add-type-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.add-type-item-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.add-type-forward[_ngcontent-%COMP%]{width:1.25rem;height:2rem}.add-type-item-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;font-family:sans-serif;font-weight:700;width:calc(100% - 3.75rem);height:100%}.add-menu[_ngcontent-%COMP%]{position:absolute}"]})}}return e})();var db=(()=>{class e{constructor(){this.undoStack=[],this.redoStack=[]}push(n){n.length>0&&(this.undoStack.push(n),this.redoStack=[])}undo(){let n=this.undoStack.pop();return n&&this.redoStack.push(n),n}redo(){let n=this.redoStack.pop();return n&&this.undoStack.push(n),n}clear(){this.undoStack=[],this.redoStack=[]}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var wh={},fb=[];function F(e,t){if(Array.isArray(e)){for(let n of e)F(n,t);return}if(typeof e=="object"){for(let n in e)F(n,e[n]);return}xh(Object.getOwnPropertyNames(t)),wh[e]=Object.assign(wh[e]||{},t)}function yt(e){return wh[e]||{}}function hb(){return[...new Set(fb)]}function xh(e){fb.push(...e)}function so(e,t){let n,r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i}function pb(e,t){let n,r=e.length,i=[];for(n=0;n<r;n++)t(e[n])&&i.push(e[n]);return i}function il(e){return e%360*Math.PI/180}function mb(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function Dh(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Kt(e,t,n,r){return(t==null||n==null)&&(r=r||e.bbox(),t==null?t=r.width/r.height*n:n==null&&(n=r.height/r.width*t)),{width:t,height:n}}function As(e,t){let n=e.origin,r=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",i=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);let o=typeof r=="string",s=typeof i=="string";if(o||s){let{height:l,width:d,x:h,y}=t.bbox();o&&(r=r.includes("left")?h:r.includes("right")?h+d:h+d/2),s&&(i=i.includes("top")?y:i.includes("bottom")?y+l:y+l/2)}return[r,i]}var z1=new Set(["desc","metadata","title"]),Ns=e=>z1.has(e.nodeName),ol=(e,t,n={})=>{let r=V({},t);for(let i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))};var ao="http://www.w3.org/2000/svg",gb="http://www.w3.org/1999/xhtml",sl="http://www.w3.org/2000/xmlns/",Cn="http://www.w3.org/1999/xlink";var J={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ch(){return J.window}var ni=class{};var ri={},al="___SYMBOL___ROOT___";function ii(e,t=ao){return J.document.createElementNS(t,e)}function We(e,t=!1){if(e instanceof ni)return e;if(typeof e=="object")return _h(e);if(e==null)return new ri[al];if(typeof e=="string"&&e.charAt(0)!=="<")return _h(J.document.querySelector(e));let n=t?J.document.createElement("div"):ii("svg");return n.innerHTML=e,e=_h(n.firstChild),n.removeChild(n.firstChild),e}function Q(e,t){return t&&(t instanceof J.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:ii(e)}function ft(e){if(!e)return null;if(e.instance instanceof ni)return e.instance;if(e.nodeName==="#document-fragment")return new ri.Fragment(e);let t=Dh(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ri[t]||(t="Dom"),new ri[t](e)}var _h=ft;function B(e,t=e.name,n=!1){return ri[t]=e,n&&(ri[al]=e),xh(Object.getOwnPropertyNames(e.prototype)),e}function vb(e){return ri[e]}var q1=1e3;function Eh(e){return"Svgjs"+Dh(e)+q1++}function Sh(e){for(let t=e.children.length-1;t>=0;t--)Sh(e.children[t]);return e.id&&(e.id=Eh(e.nodeName)),e}function H(e,t){let n,r;for(e=Array.isArray(e)?e:[e],r=e.length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function ie(e){return function(...t){let n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function Y1(){return this.parent().children()}function X1(){return this.parent().index(this)}function K1(){return this.siblings()[this.position()+1]}function Q1(){return this.siblings()[this.position()-1]}function Z1(){let e=this.position();return this.parent().add(this.remove(),e+1),this}function J1(){let e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function eT(){return this.parent().add(this.remove()),this}function tT(){return this.parent().add(this.remove(),0),this}function nT(e){e=We(e),e.remove();let t=this.position();return this.parent().add(e,t),this}function rT(e){e=We(e),e.remove();let t=this.position();return this.parent().add(e,t+1),this}function iT(e){return e=We(e),e.before(this),this}function oT(e){return e=We(e),e.after(this),this}F("Dom",{siblings:Y1,position:X1,next:K1,prev:Q1,forward:Z1,backward:J1,front:eT,back:tT,before:nT,after:rT,insertBefore:iT,insertAfter:oT});var cl=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,yb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,bb=/rgb\((\d+),(\d+),(\d+)\)/,wb=/(#[a-z_][a-z0-9\-_]*)/i,xb=/\)\s*,?\s*/,Db=/\s/g,Ih=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Mh=/^rgb\(/,Th=/^(\s+)?$/,Ah=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Cb=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,at=/[\s,]+/,Os=/[MLHVCSQTAZ]/i;function aT(){let e=this.attr("class");return e==null?[]:e.trim().split(at)}function cT(e){return this.classes().indexOf(e)!==-1}function lT(e){if(!this.hasClass(e)){let t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function uT(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function dT(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}F("Dom",{classes:aT,hasClass:cT,addClass:lT,removeClass:uT,toggleClass:dT});function fT(e,t){let n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){let i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(let r of e){let i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(let r in e)this.node.style.setProperty(r,e[r]==null||Th.test(e[r])?"":e[r])}return arguments.length===2&&this.node.style.setProperty(e,t==null||Th.test(t)?"":t),this}function hT(){return this.css("display","")}function pT(){return this.css("display","none")}function mT(){return this.css("display")!=="none"}F("Dom",{css:fT,show:hT,hide:pT,visible:mT});function gT(e,t,n){if(e==null)return this.data(so(pb(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(e instanceof Array){let r={};for(let i of e)r[i]=this.data(i);return r}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}F("Dom",{data:gT});function vT(e,t){if(typeof arguments[0]=="object")for(let n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function yT(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function bT(){return this._memory=this._memory||{}}F("Dom",{remember:vT,forget:yT,memory:bT});function wT(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function xT(e){let t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return r.length===1?"0"+r:r}function co(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function DT(e,t){let n=co(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:co(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:co(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:co(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:co(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:co(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function CT(e){return e==="lab"||e==="xyz"||e==="lch"}function Nh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var ct=class e{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof e||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){let{random:r,round:i,sin:o,PI:s}=Math;if(t==="vibrant"){let l=24*r()+57,d=38*r()+45,h=360*r();return new e(l,d,h,"lch")}else if(t==="sine"){n=n??r();let l=i(80*o(2*s*n/.5+.01)+150),d=i(50*o(2*s*n/.5+4.6)+200),h=i(100*o(2*s*n/.5+2.3)+150);return new e(l,d,h)}else if(t==="pastel"){let l=8*r()+86,d=17*r()+9,h=360*r();return new e(l,d,h,"lch")}else if(t==="dark"){let l=10+10*r(),d=50*r()+86,h=360*r();return new e(l,d,h,"lch")}else if(t==="rgb"){let l=255*r(),d=255*r(),h=255*r();return new e(l,d,h)}else if(t==="lab"){let l=100*r(),d=256*r()-128,h=256*r()-128;return new e(l,d,h,"lab")}else if(t==="grey"){let l=255*r();return new e(l,l,l)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(Ih.test(t)||Mh.test(t))}cmyk(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(D=>D/255),l=Math.min(1-i,1-o,1-s);if(l===1)return new e(0,0,0,1,"cmyk");let d=(1-i-l)/(1-l),h=(1-o-l)/(1-l),y=(1-s-l)/(1-l);return new e(d,h,y,l,"cmyk")}hsl(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(T=>T/255),l=Math.max(i,o,s),d=Math.min(i,o,s),h=(l+d)/2,y=l===d,m=l-d,D=y?0:h>.5?m/(2-l-d):m/(l+d),_=y?0:l===i?((o-s)/m+(o<s?6:0))/6:l===o?((s-i)/m+2)/6:l===s?((i-o)/m+4)/6:0;return new e(360*_,100*D,100*h,"hsl")}init(t=0,n=0,r=0,i=0,o="rgb"){if(t=t||0,this.space)for(let m in this.space)delete this[this.space[m]];if(typeof t=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:t,_b:n,_c:r,_d:i,space:o});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){let m=DT(t,n);Object.assign(this,m)}else if(typeof t=="string")if(Mh.test(t)){let m=t.replace(Db,""),[D,_,S]=bb.exec(m).slice(1,4).map(T=>parseInt(T));Object.assign(this,{_a:D,_b:_,_c:S,_d:0,space:"rgb"})}else if(Ih.test(t)){let m=T=>parseInt(T,16),[,D,_,S]=yb.exec(wT(t)).map(m);Object.assign(this,{_a:D,_b:_,_c:S,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:s,_b:l,_c:d,_d:h}=this,y=this.space==="rgb"?{r:s,g:l,b:d}:this.space==="xyz"?{x:s,y:l,z:d}:this.space==="hsl"?{h:s,s:l,l:d}:this.space==="lab"?{l:s,a:l,b:d}:this.space==="lch"?{l:s,c:l,h:d}:this.space==="cmyk"?{c:s,m:l,y:d,k:h}:{};Object.assign(this,y)}lab(){let{x:t,y:n,z:r}=this.xyz(),i=116*n-16,o=500*(t-n),s=200*(n-r);return new e(i,o,s,"lab")}lch(){let{l:t,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2),o=180*Math.atan2(r,n)/Math.PI;return o<0&&(o*=-1,o=360-o),new e(t,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if(CT(this.space)){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:_,a:S,b:T}=this;if(this.space==="lch"){let{c:Ie,h:Je}=this,ht=Math.PI/180;S=Ie*Math.cos(ht*Je),T=Ie*Math.sin(ht*Je)}let R=(_+16)/116,P=S/500+R,fe=R-T/200,he=16/116,Ne=.008856,I=7.787;t=.95047*(P**3>Ne?P**3:(P-he)/I),n=1*(R**3>Ne?R**3:(R-he)/I),r=1.08883*(fe**3>Ne?fe**3:(fe-he)/I)}let i=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,s=t*.0557+n*-.204+r*1.057,l=Math.pow,d=.0031308,h=i>d?1.055*l(i,1/2.4)-.055:12.92*i,y=o>d?1.055*l(o,1/2.4)-.055:12.92*o,m=s>d?1.055*l(s,1/2.4)-.055:12.92*s;return new e(255*h,255*y,255*m)}else if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new e(r,r,r);let i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=255*Nh(o,i,t+1/3),l=255*Nh(o,i,t),d=255*Nh(o,i,t-1/3);return new e(s,l,d)}else if(this.space==="cmyk"){let{c:t,m:n,y:r,k:i}=this,o=255*(1-Math.min(1,t*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i)),l=255*(1-Math.min(1,r*(1-i)+i));return new e(o,s,l)}else return this}toArray(){let{_a:t,_b:n,_c:r,_d:i,space:o}=this;return[t,n,r,i,o]}toHex(){let[t,n,r]=this._clamped().map(xT);return`#${t}${n}${r}`}toRgb(){let[t,n,r]=this._clamped();return`rgb(${t},${n},${r})`}toString(){return this.toHex()}xyz(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(P=>P/255),l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,y=(l*.4124+d*.3576+h*.1805)/.95047,m=(l*.2126+d*.7152+h*.0722)/1,D=(l*.0193+d*.1192+h*.9505)/1.08883,_=y>.008856?Math.pow(y,1/3):7.787*y+16/116,S=m>.008856?Math.pow(m,1/3):7.787*m+16/116,T=D>.008856?Math.pow(D,1/3):7.787*D+16/116;return new e(_,S,T,"xyz")}_clamped(){let{_a:t,_b:n,_c:r}=this.rgb(),{max:i,min:o,round:s}=Math,l=d=>i(0,o(s(d),255));return[t,n,r].map(l)}};var Ae=class e{constructor(...t){this.init(...t)}clone(){return new e(this)}init(t,n){let r={x:0,y:0},i=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=i.x==null?r.x:i.x,this.y=i.y==null?r.y:i.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){oe.isMatrixLike(t)||(t=new oe(t));let{x:n,y:r}=this;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this}};function _b(e,t){return new Ae(e,t).transformO(this.screenCTM().inverseO())}function lo(e,t,n){return Math.abs(t-e)<(n||1e-6)}var oe=class e{constructor(...t){this.init(...t)}static formatTransforms(t){let n=t.flip==="both"||t.flip===!0,r=t.flip&&(n||t.flip==="x")?-1:1,i=t.flip&&(n||t.flip==="y")?-1:1,o=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,l=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,d=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,h=t.shear||0,y=t.rotate||t.theta||0,m=new Ae(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),D=m.x,_=m.y,S=new Ae(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),T=S.x,R=S.y,P=new Ae(t.translate||t.tx||t.translateX,t.ty||t.translateY),fe=P.x,he=P.y,Ne=new Ae(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),I=Ne.x,Ie=Ne.y;return{scaleX:l,scaleY:d,skewX:o,skewY:s,shear:h,theta:y,rx:I,ry:Ie,tx:fe,ty:he,ox:D,oy:_,px:T,py:R}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,r){let i=t.a*n.a+t.c*n.b,o=t.b*n.a+t.d*n.b,s=t.a*n.c+t.c*n.d,l=t.b*n.c+t.d*n.d,d=t.e+t.a*n.e+t.c*n.f,h=t.f+t.b*n.e+t.d*n.f;return r.a=i,r.b=o,r.c=s,r.d=l,r.e=d,r.f=h,r}around(t,n,r){return this.clone().aroundO(t,n,r)}aroundO(t,n,r){let i=t||0,o=n||0;return this.translateO(-i,-o).lmultiplyO(r).translateO(i,o)}clone(){return new e(this)}decompose(t=0,n=0){let r=this.a,i=this.b,o=this.c,s=this.d,l=this.e,d=this.f,h=r*s-i*o,y=h>0?1:-1,m=y*Math.sqrt(r*r+i*i),D=Math.atan2(y*i,y*r),_=180/Math.PI*D,S=Math.cos(D),T=Math.sin(D),R=(r*o+i*s)/h,P=o*m/(R*r-i)||s*m/(R*i+r),fe=l-t+t*S*m+n*(R*S*m-T*P),he=d-n+t*T*m+n*(R*T*m+S*P);return{scaleX:m,scaleY:P,shear:R,rotate:_,translateX:fe,translateY:he,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;let n=new e(t);return lo(this.a,n.a)&&lo(this.b,n.b)&&lo(this.c,n.c)&&lo(this.d,n.d)&&lo(this.e,n.e)&&lo(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){let n=e.fromArray([1,0,0,1,0,0]);return t=t instanceof qe?t.matrixify():typeof t=="string"?e.fromArray(t.split(at).map(parseFloat)):Array.isArray(t)?e.fromArray(t):typeof t=="object"&&e.isMatrixLike(t)?t:typeof t=="object"?new e().transform(t):arguments.length===6?e.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){let t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,l=t*i-n*r;if(!l)throw new Error("Cannot invert "+this);let d=i/l,h=-n/l,y=-r/l,m=t/l,D=-(d*o+y*s),_=-(h*o+m*s);return this.a=d,this.b=h,this.c=y,this.d=m,this.e=D,this.f=_,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){let n=this,r=t instanceof e?t:new e(t);return e.matrixMultiply(r,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){let n=this,r=t instanceof e?t:new e(t);return e.matrixMultiply(n,r,this)}rotate(t,n,r){return this.clone().rotateO(t,n,r)}rotateO(t,n=0,r=0){t=il(t);let i=Math.cos(t),o=Math.sin(t),{a:s,b:l,c:d,d:h,e:y,f:m}=this;return this.a=s*i-l*o,this.b=l*i+s*o,this.c=d*i-h*o,this.d=h*i+d*o,this.e=y*i-m*o+r*o-n*i+n,this.f=m*i+y*o-n*o-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t);let{a:o,b:s,c:l,d,e:h,f:y}=this;return this.a=o*t,this.b=s*n,this.c=l*t,this.d=d*n,this.e=h*t-r*t+r,this.f=y*n-i*n+i,this}shear(t,n,r){return this.clone().shearO(t,n,r)}shearO(t,n=0,r=0){let{a:i,b:o,c:s,d:l,e:d,f:h}=this;return this.a=i+o*t,this.c=s+l*t,this.e=d+h*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t),t=il(t),n=il(n);let o=Math.tan(t),s=Math.tan(n),{a:l,b:d,c:h,d:y,e:m,f:D}=this;return this.a=l+d*o,this.b=d+l*s,this.c=h+y*o,this.d=y+h*s,this.e=m+D*o-i*o,this.f=D+m*s-r*s,this}skewX(t,n,r){return this.skew(t,0,n,r)}skewY(t,n,r){return this.skew(0,t,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(e.isMatrixLike(t))return new e(t).multiplyO(this);let n=e.formatTransforms(t),r=this,{x:i,y:o}=new Ae(n.ox,n.oy).transform(r),s=new e().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-i,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,o);if(isFinite(n.px)||isFinite(n.py)){let l=new Ae(i,o).transform(s),d=isFinite(n.px)?n.px-l.x:0,h=isFinite(n.py)?n.py-l.y:0;s.translateO(d,h)}return s.translateO(n.tx,n.ty),s}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function Eb(){return new oe(this.node.getCTM())}function Sb(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){let e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new oe(t)}return new oe(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new oe}}B(oe,"Matrix");function Qt(){if(!Qt.nodes){let e=We().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");let t=e.path().node;Qt.nodes={svg:e,path:t}}if(!Qt.nodes.svg.node.parentNode){let e=J.document.body||J.document.documentElement;Qt.nodes.svg.addTo(e)}return Qt.nodes}function Ib(e){return!e.width&&!e.height&&!e.x&&!e.y}function _T(e){return e===J.document||(J.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===J.document}).call(J.document.documentElement,e)}var $e=class e{constructor(...t){this.init(...t)}addOffset(){return this.x+=J.window.pageXOffset,this.y+=J.window.pageYOffset,new e(this)}init(t){let n=[0,0,0,0];return t=typeof t=="string"?t.split(at).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Ib(this)}merge(t){let n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-n,o=Math.max(this.y+this.height,t.y+t.height)-r;return new e(n,r,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof oe||(t=new oe(t));let n=1/0,r=-1/0,i=1/0,o=-1/0;return[new Ae(this.x,this.y),new Ae(this.x2,this.y),new Ae(this.x,this.y2),new Ae(this.x2,this.y2)].forEach(function(l){l=l.transform(t),n=Math.min(n,l.x),r=Math.max(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.y)}),new e(n,i,r-n,o-i)}};function Mb(e,t,n){let r;try{if(r=t(e.node),Ib(r)&&!_T(e.node))throw new Error("Element not in the dom")}catch{r=n(e)}return r}function Tb(){let n=Mb(this,i=>i.getBBox(),i=>{try{let o=i.clone().addTo(Qt().svg).show(),s=o.node.getBBox();return o.remove(),s}catch(o){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${o.toString()}`)}});return new $e(n)}function Ab(e){let r=Mb(this,o=>o.getBoundingClientRect(),o=>{throw new Error(`Getting rbox of element "${o.node.nodeName}" is not possible`)}),i=new $e(r);return e?i.transform(e.screenCTM().inverseO()):i.addOffset()}function Nb(e,t){let n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}F({viewbox:{viewbox(e,t,n,r){return e==null?new $e(this.attr("viewBox")):this.attr("viewBox",new $e(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let i=this.viewbox(),o=n/i.width,s=r/i.height,l=Math.min(o,s);if(e==null)return l;let d=l/e;d===1/0&&(d=Number.MAX_SAFE_INTEGER/100),t=t||new Ae(n/2/o+i.x,r/2/s+i.y);let h=new $e(i).transform(new oe({scale:d,origin:t}));return this.viewbox(h)}}});B($e,"Box");var uo=class extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}},Hn=uo;H([uo],{each(e,...t){return typeof e=="function"?this.map((n,r,i)=>e.call(n,n,r,i)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});var ET=["toArray","constructor","each"];uo.extend=function(e){e=e.reduce((t,n)=>(ET.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...r){return this.each(n,...r)}),t),{}),H([uo],e)};function Ft(e,t){return new Hn(so((t||J.document).querySelectorAll(e),function(n){return ft(n)}))}function Ob(e){return Ft(e,this.node)}function Rb(e){return ft(this.node.querySelector(e))}var ST=0,Pb={};function kb(e){let t=e.getEventHolder();return t===J.window&&(t=Pb),t.events||(t.events={}),t.events}function Oh(e){return e.getEventTarget()}function IT(e){let t=e.getEventHolder();t===J.window&&(t=Pb),t.events&&(t.events={})}function Rs(e,t,n,r,i){let o=n.bind(r||e),s=We(e),l=kb(s),d=Oh(s);t=Array.isArray(t)?t:t.split(at),n._svgjsListenerId||(n._svgjsListenerId=++ST),t.forEach(function(h){let y=h.split(".")[0],m=h.split(".")[1]||"*";l[y]=l[y]||{},l[y][m]=l[y][m]||{},l[y][m][n._svgjsListenerId]=o,d.addEventListener(y,o,i||!1)})}function br(e,t,n,r){let i=We(e),o=kb(i),s=Oh(i);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(at),t.forEach(function(l){let d=l&&l.split(".")[0],h=l&&l.split(".")[1],y,m;if(n)o[d]&&o[d][h||"*"]&&(s.removeEventListener(d,o[d][h||"*"][n],r||!1),delete o[d][h||"*"][n]);else if(d&&h){if(o[d]&&o[d][h]){for(m in o[d][h])br(s,[d,h].join("."),m);delete o[d][h]}}else if(h)for(l in o)for(y in o[l])h===y&&br(s,[l,h].join("."));else if(d){if(o[d]){for(y in o[d])br(s,[d,y].join("."));delete o[d]}}else{for(l in o)br(s,l);IT(i)}}))}function Fb(e,t,n,r){let i=Oh(e);return t instanceof J.window.Event||(t=new J.window.CustomEvent(t,V({detail:n,cancelable:!0},r))),i.dispatchEvent(t),t}var Zt=class extends ni{addEventListener(){}dispatch(t,n,r){return Fb(this,t,n,r)}dispatchEvent(t){let n=this.getEventHolder().events;if(!n)return!0;let r=n[t.type];for(let i in r)for(let o in r[i])r[i][o](t);return!t.defaultPrevented}fire(t,n,r){return this.dispatch(t,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,r){return br(this,t,n,r),this}on(t,n,r,i){return Rs(this,t,n,r,i),this}removeEventListener(){}};B(Zt,"EventTarget");function Rh(){}var oi={duration:400,ease:">",delay:0},Lb={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var Ct=class extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(at).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let t=[];return t.push(...this),t}};var ee=class e{constructor(...t){this.init(...t)}convert(t){return new e(this.value,t)}divide(t){return t=new e(t),new e(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(cl),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof e&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new e(t),new e(this-t,this.unit||t.unit)}plus(t){return t=new e(t),new e(this+t,this.unit||t.unit)}times(t){return t=new e(t),new e(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};var TT=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),jb=[];function Vb(e){jb.push(e)}function Ph(e,t,n){if(e==null){e={},t=this.node.attributes;for(let r of t)e[r.nodeName]=Ah.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return e}else{if(e instanceof Array)return e.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?Lb[e]:Ah.test(t)?parseFloat(t):t;t=jb.reduce((r,i)=>i(e,r,this),t),typeof t=="number"?t=new ee(t):TT.has(e)&&ct.isColor(t)?t=new ct(t):t.constructor===Array&&(t=new Ct(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}var Jt=class e extends Zt{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=We(t),t.removeNamespace&&this.node instanceof J.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return We(t).put(this,n)}children(){return new Hn(so(this.node.children,function(t){return ft(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return n&&(r=Sh(r)),new this.constructor(r)}each(t,n){let r=this.children(),i,o;for(i=0,o=r.length;i<o;i++)t.apply(r[i],[i,r]),n&&r[i].each(t,n);return this}element(t,n){return this.put(new e(ii(t),n))}first(){return ft(this.node.firstChild)}get(t){return ft(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,gb)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=Eh(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return ft(this.node.lastChild)}matches(t){let n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=ft(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=ft(n.node.parentNode));return n}put(t,n){return t=We(t),this.add(t,n),t}putIn(t,n){return We(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=We(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){let r=10**t,i=this.attr(n);for(let o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*r)/r);return this.attr(i),this}svg(t,n){return this.xml(t,n,ao)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){let n=this.parent();if(!n)return this.addTo(t);let r=n.index(this);return n.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let l=this;if(t!=null){if(l=ft(l.node.cloneNode(!0)),n){let d=t(l);if(l=d||l,d===!1)return""}l.each(function(){let d=t(this),h=d||this;d===!1?this.remove():d&&this!==h&&this.replace(h)},!0)}return n?l.node.outerHTML:l.node.innerHTML}n=n??!1;let i=ii("wrapper",r),o=J.document.createDocumentFragment();i.innerHTML=t;for(let l=i.children.length;l--;)o.appendChild(i.firstElementChild);let s=this.parent();return n?this.replace(o)&&s:this.add(o)}};H(Jt,{attr:Ph,find:Ob,findOne:Rb});B(Jt,"Dom");var qe=class extends Jt{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){let t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new ee(t).plus(this.x()))}dy(t=0){return this.y(new ee(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){let n=typeof t=="string";n||(t=We(t));let r=new Hn,i=this;for(;(i=i.parent())&&i.node!==J.document&&i.nodeName!=="#document-fragment"&&(r.push(i),!(!n&&i.node===t.node||n&&i.matches(t)));)if(i.node===this.root().node)return null;return r}reference(t){if(t=this.attr(t),!t)return null;let n=(t+"").match(wb);return n?We(n[1]):null}root(){let t=this.parent(vb(al));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){let r=Kt(this,t,n);return this.width(new ee(r.width)).height(new ee(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return ol(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};H(qe,{bbox:Tb,rbox:Ab,inside:Nb,point:_b,ctm:Eb,screenCTM:Sb});B(qe,"Element");var Ps={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){let t={},n;t[e]=function(r){if(typeof r>"u")return this.attr(e);if(typeof r=="string"||r instanceof ct||ct.isRgb(r)||r instanceof qe)this.attr(e,r);else for(n=Ps[e].length-1;n>=0;n--)r[Ps[e][n]]!=null&&this.attr(Ps.prefix(e,Ps[e][n]),r[Ps[e][n]]);return this},F(["Element","Runner"],t)});F(["Element","Runner"],{matrix:function(e,t,n,r,i,o){return e==null?new oe(this):this.attr("transform",new oe(e,t,n,r,i,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});F("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new ee(e)):this.rx(e).ry(t)}});F("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new Ae(this.node.getPointAtLength(e))}});F(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});var AT=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){let n=function(r){return r===null?this.off(t):this.on(t,r),this};return e[t]=n,e},{});F("Element",AT);function NT(){return this.attr("transform",null)}function OT(){return(this.attr("transform")||"").split(xb).slice(0,-1).map(function(t){let n=t.trim().split("(");return[n[0],n[1].split(at).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(oe.fromArray(n[1])):t[n[0]].apply(t,n[1])},new oe)}function RT(e,t){if(this===e)return this;if(Ns(this.node))return this.addTo(e,t);let n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this}function PT(e){return this.toParent(this.root(),e)}function kT(e,t){if(e==null||typeof e=="string"){let i=new oe(this).decompose();return e==null?i:i[e]}oe.isMatrixLike(e)||(e=Le(V({},e),{origin:As(e,this)}));let n=t===!0?this:t||!1,r=new oe(n).transform(e);return this.attr("transform",r)}F("Element",{untransform:NT,matrixify:OT,toParent:RT,toRoot:PT,transform:kT});var Fe=class e extends qe{flatten(){return this.each(function(){if(this instanceof e)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(t,n)}),this.remove()}};B(Fe,"Container");var wr=class extends Fe{constructor(t,n=t){super(Q("defs",t),n)}flatten(){return this}ungroup(){return this}};B(wr,"Defs");var Re=class extends qe{};B(Re,"Shape");var $h={};gi($h,{cx:()=>Lh,cy:()=>jh,height:()=>Bh,rx:()=>ks,ry:()=>Fs,width:()=>Vh,x:()=>kh,y:()=>Fh});function ks(e){return this.attr("rx",e)}function Fs(e){return this.attr("ry",e)}function kh(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function Fh(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function Lh(e){return this.attr("cx",e)}function jh(e){return this.attr("cy",e)}function Vh(e){return e==null?this.rx()*2:this.rx(new ee(e).divide(2))}function Bh(e){return e==null?this.ry()*2:this.ry(new ee(e).divide(2))}var xr=class extends Re{constructor(t,n=t){super(Q("ellipse",t),n)}size(t,n){let r=Kt(this,t,n);return this.rx(new ee(r.width).divide(2)).ry(new ee(r.height).divide(2))}};H(xr,$h);F("Container",{ellipse:ie(function(e=0,t=e){return this.put(new xr).size(e,t).move(0,0)})});B(xr,"Ellipse");var ll=class extends Jt{constructor(t=J.document.createDocumentFragment()){super(t)}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){let i=new Jt(ii("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(t,!1,r)}};B(ll,"Fragment");var Uh=ll;var Gh={};gi(Gh,{from:()=>Hh,to:()=>zh});function Hh(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new ee(e),fy:new ee(t)}):this.attr({x1:new ee(e),y1:new ee(t)})}function zh(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new ee(e),cy:new ee(t)}):this.attr({x2:new ee(e),y2:new ee(t)})}var zn=class extends Fe{constructor(t,n){super(Q(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,r)}bbox(){return new $e}targets(){return Ft("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};H(zn,Gh);F({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:ie(function(e,t){return this.put(new zn(e)).update(t)})}});B(zn,"Gradient");var _n=class extends Fe{constructor(t,n=t){super(Q("pattern",t),n)}attr(t,n,r){return t==="transform"&&(t="patternTransform"),super.attr(t,n,r)}bbox(){return new $e}targets(){return Ft("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};F({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:ie(function(e,t,n){return this.put(new _n).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});B(_n,"Pattern");var Dr=class extends Re{constructor(t,n=t){super(Q("image",t),n)}load(t,n){if(!t)return this;let r=new J.window.Image;return Rs(r,"load",function(i){let o=this.parent(_n);this.width()===0&&this.height()===0&&this.size(r.width,r.height),o instanceof _n&&o.width()===0&&o.height()===0&&o.size(this.width(),this.height()),typeof n=="function"&&n.call(this,i)},this),Rs(r,"load error",function(){br(r)}),this.attr("href",r.src=t,Cn)}};Vb(function(e,t,n){return(e==="fill"||e==="stroke")&&Cb.test(t)&&(t=n.root().defs().image(t)),t instanceof Dr&&(t=n.root().defs().pattern(0,0,r=>{r.add(t)})),t});F({Container:{image:ie(function(e,t){return this.put(new Dr).size(0,0).load(e,t)})}});B(Dr,"Image");var lt=class extends Ct{bbox(){let t=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(o){t=Math.max(o[0],t),n=Math.max(o[1],n),r=Math.min(o[0],r),i=Math.min(o[1],i)}),new $e(r,i,t-r,n-i)}move(t,n){let r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+n];return this}parse(t=[0,0]){let n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(at).map(parseFloat),t.length%2!==0&&t.pop();for(let r=0,i=t.length;r<i;r=r+2)n.push([t[r],t[r+1]]);return n}size(t,n){let r,i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*t/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let t=[];for(let n=0,r=this.length;n<r;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){oe.isMatrixLike(t)||(t=new oe(t));for(let n=this.length;n--;){let[r,i]=this[n];this[n][0]=t.a*r+t.c*i+t.e,this[n][1]=t.b*r+t.d*i+t.f}return this}};var si={};gi(si,{MorphArray:()=>FT,height:()=>BT,width:()=>VT,x:()=>LT,y:()=>jT});var FT=lt;function LT(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function jT(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function VT(e){let t=this.bbox();return e==null?t.width:this.size(e,t.height)}function BT(e){let t=this.bbox();return e==null?t.height:this.size(t.width,e)}var Gn=class extends Re{constructor(t,n=t){super(Q("line",t),n)}array(){return new lt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,r,i){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:r,y2:i}:t=new lt(t).toLine(),this.attr(t))}size(t,n){let r=Kt(this,t,n);return this.attr(this.array().size(r.width,r.height).toLine())}};H(Gn,si);F({Container:{line:ie(function(...e){return Gn.prototype.plot.apply(this.put(new Gn),e[0]!=null?e:[0,0,0,0])})}});B(Gn,"Line");var Cr=class extends Fe{constructor(t,n=t){super(Q("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};F({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:ie(function(e,t,n){return this.put(new Cr).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,r){let i=["marker"];return e!=="all"&&i.push(e),i=i.join("-"),e=arguments[1]instanceof Cr?arguments[1]:this.defs().marker(t,n,r),this.attr(i,e)}}});B(Cr,"Marker");function fo(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}var $b={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,r){return function(i){return i<0?e>0?t/e*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*(1-i)**2*t+3*i**2*(1-i)*r+i**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(r,i=!1)=>{let o=Math.floor(r*e),s=r*o%1===0;return(t==="start"||t==="both")&&++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}},ho=class{done(){return!1}},_r=class extends ho{constructor(t=oi.ease){super(),this.ease=$b[t]||t}step(t,n,r){return typeof t!="number"?r<1?t:n:t+(n-t)*this.ease(r)}},Er=class extends ho{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,r,i){return this.stepper(t,n,r,i)}};function Bb(){let e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,r=Math.PI,i=Math.log(t/100+n),o=-i/Math.sqrt(r*r+i*i),s=3.9/(o*e);this.d=2*o*s,this.k=s*s}var ul=class extends Er{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;r>100&&(r=16),r/=1e3;let o=i.velocity||0,s=-this.d*o-this.k*(t-n),l=t+o*r+s*r*r/2;return i.velocity=o+s*r,i.done=Math.abs(n-l)+Math.abs(o)<.002,i.done?n:l}};H(ul,{duration:fo("_duration",Bb),overshoot:fo("_overshoot",Bb)});var dl=class extends Er{constructor(t=.1,n=.01,r=0,i=1e3){super(),this.p(t).i(n).d(r).windup(i)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;let o=n-t,s=(i.integral||0)+o*r,l=(o-(i.error||0))/r,d=this._windup;return d!==!1&&(s=Math.max(-d,Math.min(s,d))),i.error=o,i.integral=s,i.done=Math.abs(o)<.001,i.done?n:t+(this.P*o+this.I*s+this.D*l)}};H(dl,{windup:fo("_windup"),p:fo("P"),i:fo("I"),d:fo("D")});var $T={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},qh={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Wh="mlhvqtcsaz".split("");for(let e=0,t=Wh.length;e<t;++e)qh[Wh[e]]=function(n){return function(r,i,o){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let s=0,l=r.length;s<l;++s)r[s]=r[s]+(s%2?i.y:i.x);return qh[n](r,i,o)}}(Wh[e].toUpperCase());function UT(e){let t=e.segment[0];return qh[t](e.segment.slice(1),e.p,e.p0)}function Yh(e){return e.segment.length&&e.segment.length-1===$T[e.segment[0].toUpperCase()]}function HT(e,t){e.inNumber&&ai(e,!1);let n=Os.test(t);if(n)e.segment=[t];else{let r=e.lastCommand,i=r.toLowerCase(),o=r===i;e.segment=[i==="m"?o?"l":"L":r]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function ai(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,Yh(e)&&Xh(e)}function Xh(e){e.inSegment=!1,e.absolute&&(e.segment=UT(e)),e.segments.push(e.segment)}function zT(e){if(!e.segment.length)return!1;let t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function GT(e){return e.lastToken.toUpperCase()==="E"}var WT=new Set([" ",",","	",`
`,"\r","\f"]);function Ub(e,t=!0){let n=0,r="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new Ae,p:new Ae};for(;i.lastToken=r,r=e.charAt(n++);)if(!(!i.inSegment&&HT(i,r))){if(r==="."){if(i.pointSeen||i.hasExponent){ai(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r;continue}if(!isNaN(parseInt(r))){if(i.number==="0"||zT(i)){i.inNumber=!0,i.number=r,ai(i,!0);continue}i.inNumber=!0,i.number+=r;continue}if(WT.has(r)){i.inNumber&&ai(i,!1);continue}if(r==="-"||r==="+"){if(i.inNumber&&!GT(i)){ai(i,!1),--n;continue}i.number+=r,i.inNumber=!0;continue}if(r.toUpperCase()==="E"){i.number+=r,i.hasExponent=!0;continue}if(Os.test(r)){if(i.inNumber)ai(i,!1);else if(Yh(i))Xh(i);else throw new Error("parser Error");--n}}return i.inNumber&&ai(i,!1),i.inSegment&&Yh(i)&&Xh(i),i.segments}function qT(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}var _t=class extends Ct{bbox(){return Qt().path.setAttribute("d",this.toString()),new $e(Qt.nodes.path.getBBox())}move(t,n){let r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=t,this[o][2]+=n):i==="H"?this[o][1]+=t:i==="V"?this[o][1]+=n:i==="C"||i==="S"||i==="Q"?(this[o][1]+=t,this[o][2]+=n,this[o][3]+=t,this[o][4]+=n,i==="C"&&(this[o][5]+=t,this[o][6]+=n)):i==="A"&&(this[o][6]+=t,this[o][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Ub(t)}size(t,n){let r=this.bbox(),i,o;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):o==="H"?this[i][1]=(this[i][1]-r.x)*t/r.width+r.x:o==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*t/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,o==="C"&&(this[i][5]=(this[i][5]-r.x)*t/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):o==="A"&&(this[i][1]=this[i][1]*t/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*t/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return qT(this)}};var Hb=e=>{let t=typeof e;return t==="number"?ee:t==="string"?ct.isColor(e)?ct:at.test(e)?Os.test(e)?_t:Ct:cl.test(e)?ee:po:Kh.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?Ct:t==="object"?Wn:po},fn=class{constructor(t){this._stepper=t||new _r("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(Hb(t));let n=new this._type(t);return this._type===ct&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===Wn&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}};var po=class{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}},fl=(()=>{class e{constructor(...n){this.init(...n)}init(n){return Array.isArray(n)&&(n={scaleX:n[0],scaleY:n[1],shear:n[2],rotate:n[3],translateX:n[4],translateY:n[5],originX:n[6],originY:n[7]}),Object.assign(this,e.defaults,n),this}toArray(){let n=this;return[n.scaleX,n.scaleY,n.shear,n.rotate,n.translateX,n.translateY,n.originX,n.originY]}}return e.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0},e})(),YT=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0,Wn=class{constructor(...t){this.init(...t)}align(t){let n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===t[r+1]){if(n[r+1]===ct&&t[r+7]!==n[r+7]){let l=t[r+7],d=new ct(this.values.splice(r+3,5))[l]().toArray();this.values.splice(r+3,0,...d)}r+=n[r+2]+2;continue}if(!t[r+1])return this;let o=new t[r+1]().toArray(),s=n[r+2]+3;n.splice(r,s,t[r],t[r+1],t[r+2],...o),r+=n[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};let n=[];for(let r in t){let i=Hb(t[r]),o=new i(t[r]).toArray();n.push([r,i,o.length,...o])}return n.sort(YT),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){let t={},n=this.values;for(;n.length;){let r=n.shift(),i=n.shift(),o=n.shift(),s=n.splice(0,o);t[r]=new i(s)}return t}},Kh=[po,fl,Wn];function zb(e=[]){Kh.push(...[].concat(e))}function Gb(){H(Kh,{to(e){return new fn().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,i){let o=function(s,l){return r.step(s,t[l],n,i[l],i)};return this.fromArray(e.map(o))}})}var hn=class extends Re{constructor(t,n=t){super(Q("path",t),n)}array(){return this._array||(this._array=new _t(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new _t(t))}size(t,n){let r=Kt(this,t,n);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}};hn.prototype.MorphArray=_t;F({Container:{path:ie(function(e){return this.put(new hn).plot(e||new _t)})}});B(hn,"Path");var Ls={};gi(Ls,{array:()=>XT,clear:()=>KT,move:()=>QT,plot:()=>ZT,size:()=>JT});function XT(){return this._array||(this._array=new lt(this.attr("points")))}function KT(){return delete this._array,this}function QT(e,t){return this.attr("points",this.array().move(e,t))}function ZT(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new lt(e))}function JT(e,t){let n=Kt(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}var qn=class extends Re{constructor(t,n=t){super(Q("polygon",t),n)}};F({Container:{polygon:ie(function(e){return this.put(new qn).plot(e||new lt)})}});H(qn,si);H(qn,Ls);B(qn,"Polygon");var Yn=class extends Re{constructor(t,n=t){super(Q("polyline",t),n)}};F({Container:{polyline:ie(function(e){return this.put(new Yn).plot(e||new lt)})}});H(Yn,si);H(Yn,Ls);B(Yn,"Polyline");var Sr=class extends Re{constructor(t,n=t){super(Q("rect",t),n)}};H(Sr,{rx:ks,ry:Fs});F({Container:{rect:ie(function(e,t){return this.put(new Sr).size(e,t)})}});B(Sr,"Rect");var ci=class{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){let n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){let t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}};var ke={nextDraw:null,frames:new ci,timeouts:new ci,immediates:new ci,timer:()=>J.window.performance||J.window.Date,transforms:[],frame(e){let t=ke.frames.push({run:e});return ke.nextDraw===null&&(ke.nextDraw=J.window.requestAnimationFrame(ke._draw)),t},timeout(e,t){t=t||0;let n=ke.timer().now()+t,r=ke.timeouts.push({run:e,time:n});return ke.nextDraw===null&&(ke.nextDraw=J.window.requestAnimationFrame(ke._draw)),r},immediate(e){let t=ke.immediates.push(e);return ke.nextDraw===null&&(ke.nextDraw=J.window.requestAnimationFrame(ke._draw)),t},cancelFrame(e){e!=null&&ke.frames.remove(e)},clearTimeout(e){e!=null&&ke.timeouts.remove(e)},cancelImmediate(e){e!=null&&ke.immediates.remove(e)},_draw(e){let t=null,n=ke.timeouts.last();for(;(t=ke.timeouts.shift())&&(e>=t.time?t.run():ke.timeouts.push(t),t!==n););let r=null,i=ke.frames.last();for(;r!==i&&(r=ke.frames.shift());)r.run(e);let o=null;for(;o=ke.immediates.shift();)o();ke.nextDraw=ke.timeouts.first()||ke.frames.first()?J.window.requestAnimationFrame(ke._draw):null}},li=ke;var eA=function(e){let t=e.start,n=e.runner.duration(),r=t+n;return{start:t,duration:n,end:r,runner:e.runner}},tA=function(){let e=J.window;return(e.performance||e.Date).now()},mo=class extends Zt{constructor(t=tA){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){let t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){let n=this.speed();if(t==null)return this.speed(-n);let r=Math.abs(n);return this.speed(t?-r:r)}schedule(t,n,r){if(t==null)return this._runners.map(eA);let i=0,o=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=o;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){let d=this.getRunnerInfoById(t.id);d&&(i=d.start+n,n=0)}else if(r==="with-last"){let d=this.getLastRunnerInfo();i=d?d.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);let s=t.persist(),l={persist:s===null?this._persist:s,start:i+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(l),this._runners.sort((d,h)=>d.start-h.start),this._runnerIds=this._runners.map(d=>d.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){let n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return li.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=li.frame(this._step),this)}_stepFn(t=!1){let n=this._timeSource(),r=n-this._lastSourceTime;t&&(r=0);let i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){let l=this._runners[s],d=l.runner;this._time-l.start<=0&&d.reset()}let o=!1;for(let s=0,l=this._runners.length;s<l;s++){let d=this._runners[s],h=d.runner,y=i,m=this._time-d.start;if(m<=0){o=!0;continue}else m<y&&(y=m);if(!h.active())continue;h.step(y).done?d.persist!==!0&&h.duration()-h.time()+this._time+d.persist<this._time&&(h.unschedule(),--s,--l):o=!0}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}};F({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new mo,this._timeline):(this._timeline=e,this)}}});var En=(()=>{class e extends Zt{constructor(n){super(),this.id=e.id++,n=n??oi.duration,n=typeof n=="function"?new Er(n):n,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof n=="number"&&n,this._isDeclarative=n instanceof Er,this._stepper=this._isDeclarative?n:new _r,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new oe,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(n,r,i){let o=1,s=!1,l=0;return n=n??oi.duration,r=r??oi.delay,i=i||"last",typeof n=="object"&&!(n instanceof ho)&&(r=n.delay??r,i=n.when??i,s=n.swing||s,o=n.times??o,l=n.wait??l,n=n.duration??oi.duration),{duration:n,delay:r,swing:s,times:o,wait:l,when:i}}active(n){return n==null?this.enabled:(this.enabled=n,this)}addTransform(n){return this.transforms.lmultiplyO(n),this}after(n){return this.on("finished",n)}animate(n,r,i){let o=e.sanitise(n,r,i),s=new e(o.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(o).schedule(o.delay,o.when)}clearTransform(){return this.transforms=new oe,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(n=>!n.isTransform))}delay(n){return this.animate(0,n)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(n){return this.queue(null,n)}ease(n){return this._stepper=new _r(n),this}element(n){return n==null?this._element:(this._element=n,n._prepareRunner(),this)}finish(){return this.step(1/0)}loop(n,r,i){return typeof n=="object"&&(r=n.swing,i=n.wait,n=n.times),this._times=n||1/0,this._swing=r||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(n){let r=this._duration+this._wait;if(n==null){let l=Math.floor(this._time/r),h=(this._time-l*r)/this._duration;return Math.min(l+h,this._times)}let i=Math.floor(n),o=n%1,s=r*i+this._duration*o;return this.time(s)}persist(n){return n==null?this._persist:(this._persist=n,this)}position(n){let r=this._time,i=this._duration,o=this._wait,s=this._times,l=this._swing,d=this._reverse,h;if(n==null){let _=function(T){let R=l*Math.floor(T%(2*(o+i))/(o+i)),P=R&&!d||!R&&d,fe=Math.pow(-1,P)*(T%(o+i))/i+P;return Math.max(Math.min(fe,1),0)},S=s*(o+i)-o;return h=r<=0?Math.round(_(1e-5)):r<S?_(r):Math.round(_(S-1e-5)),h}let y=Math.floor(this.loops()),m=l&&y%2===0;return h=y+(m&&!d||d&&m?n:1-n),this.loops(h)}progress(n){return n==null?Math.min(1,this._time/this.duration()):this.time(n*this.duration())}queue(n,r,i,o){return this._queue.push({initialiser:n||Rh,runner:r||Rh,retarget:i,isTransform:o,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(n){return this._reverse=n??!this._reverse,this}schedule(n,r,i){if(n instanceof mo||(i=r,r=n,n=this.timeline()),!n)throw Error("Runner cannot be scheduled without timeline");return n.schedule(this,r,i),this}step(n){if(!this.enabled)return this;n=n??16,this._time+=n;let r=this.position(),i=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;let o=this.duration(),s=this._lastTime<=0&&this._time>0,l=this._lastTime<o&&this._time>=o;this._lastTime=this._time,s&&this.fire("start",this);let d=this._isDeclarative;this.done=!d&&!l&&this._time>=o,this._reseted=!1;let h=!1;return(i||d)&&(this._initialise(i),this.transforms=new oe,h=this._run(d?n:r),this.fire("step",this)),this.done=this.done||h&&d,l&&this.fire("finished",this),this}time(n){if(n==null)return this._time;let r=n-this._time;return this.step(r),this}timeline(n){return typeof n>"u"?this._timeline:(this._timeline=n,this)}unschedule(){let n=this.timeline();return n&&n.unschedule(this),this}_initialise(n){if(!(!n&&!this._isDeclarative))for(let r=0,i=this._queue.length;r<i;++r){let o=this._queue[r],s=this._isDeclarative||!o.initialised&&n;n=!o.finished,s&&n&&(o.initialiser.call(this),o.initialised=!0)}}_rememberMorpher(n,r){if(this._history[n]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){let i=this.timeline();i&&i.play()}}_run(n){let r=!0;for(let i=0,o=this._queue.length;i<o;++i){let s=this._queue[i],l=s.runner.call(this,n);s.finished=s.finished||l===!0,r=r&&s.finished}return r}_tryRetarget(n,r,i){if(this._history[n]){if(!this._history[n].caller.initialised){let s=this._queue.indexOf(this._history[n].caller);return this._queue.splice(s,1),!1}this._history[n].caller.retarget?this._history[n].caller.retarget.call(this,r,i):this._history[n].morpher.to(r),this._history[n].caller.finished=!1;let o=this.timeline();return o&&o.play(),!0}return!1}}return e.id=0,e})();var go=class{constructor(t=new oe,n=-1,r=!0){this.transforms=t,this.id=n,this.done=r}clearTransformsFromQueue(){}};H([En,go],{mergeWith(e){return new go(e.transforms.lmultiply(this.transforms),e.id)}});var Wb=(e,t)=>e.lmultiplyO(t),qb=e=>e.transforms;function nA(){let t=this._transformationRunners.runners.map(qb).reduce(Wb,new oe);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}var Qh=class{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;let n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){let n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new go).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,n){let r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){let r=this.runners[n];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);let o=r.mergeWith(t);this.edit(t.id,o),t=o,--n}else t=r}return this}remove(t){let n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}};F({Element:{animate(e,t,n){let r=En.sanitise(e,t,n),i=this.timeline();return new En(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(qb).reduce(Wb,new oe)},_addRunner(e){this._transformationRunners.add(e),li.cancelImmediate(this._frameId),this._frameId=li.immediate(nA.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Qh().add(new go(new oe(this))))}}});var rA=(e,t)=>e.filter(n=>!t.includes(n));H(En,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let i=new fn(this._stepper).to(r),o=Object.keys(r);return this.queue(function(){i=i.from(this.element()[e](o))},function(s){return this.element()[e](i.at(s).valueOf()),i.done()},function(s){let l=Object.keys(s),d=rA(l,o);if(d.length){let y=this.element()[e](d),m=new Wn(i.from()).valueOf();Object.assign(m,y),i.from(m)}let h=new Wn(i.to()).valueOf();Object.assign(h,s),i.to(h),o=l,r=s}),this._rememberMorpher(e,i),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new fn(this._stepper).to(new ee(e));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),t),n.done()},function(r,i){t=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;let r=oe.isMatrixLike(e);n=e.affine!=null?e.affine:n??!r;let i=new fn(this._stepper).type(n?fl:oe),o,s,l,d,h;function y(){s=s||this.element(),o=o||As(e,s),h=new oe(t?void 0:s),s._addRunner(this),t||s._clearTransformRunnersBefore(this)}function m(_){t||this.clearTransform();let{x:S,y:T}=new Ae(o).transform(s._currentTransform(this)),R=new oe(Le(V({},e),{origin:[S,T]})),P=this._isDeclarative&&l?l:h;if(n){R=R.decompose(S,T),P=P.decompose(S,T);let he=R.rotate,Ne=P.rotate,I=[he-360,he,he+360],Ie=I.map(Sn=>Math.abs(Sn-Ne)),Je=Math.min(...Ie),ht=Ie.indexOf(Je);R.rotate=I[ht]}t&&(r||(R.rotate=e.rotate||0),this._isDeclarative&&d&&(P.rotate=d)),i.from(P),i.to(R);let fe=i.at(_);return d=fe.rotate,l=new oe(fe),this.addTransform(l),s._addRunner(this),i.done()}function D(_){(_.origin||"center").toString()!==(e.origin||"center").toString()&&(o=As(_,s)),e=Le(V({},_),{origin:o})}return this.queue(y,m,D,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new ee(t),this._tryRetarget(e,t))return this;let n=new fn(this._stepper).to(t),r=null;return this.queue(function(){r=this.element()[e](),n.from(r),n.to(r+t)},function(i){return this.element()[e](n.at(i)),n.done()},function(i){n.to(r+new ee(i))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;let n=new fn(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(r){return this.element()[e](n.at(r)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new ee(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(arguments.length===4)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;let i=new fn(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){i.from(this._element.array())},function(o){return this._element.plot(i.at(o)),i.done()}),this._rememberMorpher("plot",i),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new $e(e,t,n,r))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});H(En,{rx:ks,ry:Fs,from:Hh,to:zh});B(En,"Runner");var ui=class extends Fe{constructor(t,n=t){super(Q("svg",t),n),this.namespace()}defs(){return this.isRoot()?ft(this.node.querySelector("defs"))||this.put(new wr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof J.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ao,version:"1.1"}).attr("xmlns:xlink",Cn,sl):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,sl).attr("xmlns:svgjs",null,sl)}root(){return this.isRoot()?this:super.root()}};F({Container:{nested:ie(function(){return this.put(new ui)})}});B(ui,"Svg",!0);var di=class extends Fe{constructor(t,n=t){super(Q("symbol",t),n)}};F({Container:{symbol:ie(function(){return this.put(new di)})}});B(di,"Symbol");var js={};gi(js,{amove:()=>pA,ax:()=>fA,ay:()=>hA,build:()=>mA,center:()=>dA,cx:()=>lA,cy:()=>uA,length:()=>oA,move:()=>cA,plain:()=>iA,x:()=>sA,y:()=>aA});function iA(e){return this._build===!1&&this.clear(),this.node.appendChild(J.document.createTextNode(e)),this}function oA(){return this.node.getComputedTextLength()}function sA(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function aA(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function cA(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function lA(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function uA(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function dA(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function fA(e){return this.attr("x",e)}function hA(e){return this.attr("y",e)}function pA(e,t){return this.ax(e).ay(t)}function mA(e){return this._build=!!e,this}var ut=class extends Re{constructor(t,n=t){super(Q("text",t),n),this.dom.leading=this.dom.leading??new ee(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new ee(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){let n=this,r=0,i=this.dom.leading;this.each(function(o){if(Ns(this.node))return;let s=J.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=i*new ee(s);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=l:(this.attr("dy",o?l+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new ee(t.leading||1.3),this}writeDataToDom(){return ol(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){let n=this.node.childNodes,r=0;t="";for(let i=0,o=n.length;i<o;++i){if(n[i].nodeName==="textPath"||Ns(n[i])){i===0&&(r=i+1);continue}i!==r&&n[i].nodeType!==3&&ft(n[i]).dom.newLined===!0&&(t+=`
`),t+=n[i].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,r=t.length;n<r;n++)this.newLine(t[n])}return this.build(!1).rebuild()}};H(ut,js);F({Container:{text:ie(function(e=""){return this.put(new ut).text(e)}),plain:ie(function(e=""){return this.put(new ut).plain(e)})}});B(ut,"Text");var Ir=class extends Re{constructor(t,n=t){super(Q("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;let t=this.parent();if(!(t instanceof ut))return this;let n=t.index(this),r=J.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new ee(r);return this.dy(n?i:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}};H(Ir,js);F({Tspan:{tspan:ie(function(e=""){let t=new Ir;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});B(Ir,"Tspan");var vo=class extends Re{constructor(t,n=t){super(Q("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new ee(t).divide(2))}};H(vo,{x:kh,y:Fh,cx:Lh,cy:jh,width:Vh,height:Bh});F({Container:{circle:ie(function(e=0){return this.put(new vo).size(e).move(0,0)})}});B(vo,"Circle");var yo=class extends Fe{constructor(t,n=t){super(Q("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return Ft("svg [clip-path*="+this.id()+"]")}};F({Container:{clip:ie(function(){return this.defs().put(new yo)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){let t=e instanceof yo?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});B(yo,"ClipPath");var Vs=class extends qe{constructor(t,n=t){super(Q("foreignObject",t),n)}};F({Container:{foreignObject:ie(function(e,t){return this.put(new Vs).size(e,t)})}});B(Vs,"ForeignObject");var Bs={};gi(Bs,{dmove:()=>gA,dx:()=>vA,dy:()=>yA,height:()=>bA,move:()=>wA,size:()=>xA,width:()=>DA,x:()=>CA,y:()=>_A});function gA(e,t){return this.children().forEach(n=>{let r;try{r=n.node instanceof Ch().SVGSVGElement?new $e(n.attr(["x","y","width","height"])):n.bbox()}catch{return}let i=new oe(n),o=i.translate(e,t).transform(i.inverse()),s=new Ae(r.x,r.y).transform(o);n.move(s.x,s.y)}),this}function vA(e){return this.dmove(e,0)}function yA(e){return this.dmove(0,e)}function bA(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function wA(e=0,t=0,n=this.bbox()){let r=e-n.x,i=t-n.y;return this.dmove(r,i)}function xA(e,t,n=this.bbox()){let r=Kt(this,e,t,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(s=>{let l=new Ae(n).transform(new oe(s).inverse());s.scale(i,o,l.x,l.y)}),this}function DA(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function CA(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function _A(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}var bo=class extends Fe{constructor(t,n=t){super(Q("g",t),n)}};H(bo,Bs);F({Container:{group:ie(function(){return this.put(new bo)})}});B(bo,"G");var fi=class extends Fe{constructor(t,n=t){super(Q("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Cn)}};H(fi,Bs);F({Container:{link:ie(function(e){return this.put(new fi).to(e)})},Element:{unlink(){let e=this.linker();if(!e)return this;let t=e.parent();if(!t)return this.remove();let n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new fi,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){let e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});B(fi,"A");var wo=class extends Fe{constructor(t,n=t){super(Q("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return Ft("svg [mask*="+this.id()+"]")}};F({Container:{mask:ie(function(){return this.defs().put(new wo)})},Element:{masker(){return this.reference("mask")},maskWith(e){let t=e instanceof wo?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});B(wo,"Mask");var $s=class extends qe{constructor(t,n=t){super(Q("stop",t),n)}update(t){return(typeof t=="number"||t instanceof ee)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new ee(t.offset)),this}};F({Gradient:{stop:function(e,t,n){return this.put(new $s).update(e,t,n)}}});B($s,"Stop");function EA(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(let r in t)n+=mb(r)+":"+t[r]+";";return n+="}",n}var xo=class extends qe{constructor(t,n=t){super(Q("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,r={}){return this.rule("@font-face",V({fontFamily:t,src:n},r))}rule(t,n){return this.addText(EA(t,n))}};F("Dom",{style(e,t){return this.put(new xo).rule(e,t)},fontface(e,t,n){return this.put(new xo).font(e,t,n)}});B(xo,"Style");var Do=class extends ut{constructor(t,n=t){super(Q("textPath",t),n)}array(){let t=this.track();return t?t.array():null}plot(t){let n=this.track(),r=null;return n&&(r=n.plot(t)),t==null?r:this}track(){return this.reference("href")}};F({Container:{textPath:ie(function(e,t){return e instanceof ut||(e=this.text(e)),e.path(t)})},Text:{path:ie(function(e,t=!0){let n=new Do;e instanceof hn||(e=this.defs().path(e)),n.attr("href","#"+e,Cn);let r;if(t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:ie(function(e){return e instanceof ut||(e=new ut().addTo(this.parent()).text(e)),e.path(this)}),targets(){return Ft("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});Do.prototype.MorphArray=_t;B(Do,"TextPath");var Us=class extends Re{constructor(t,n=t){super(Q("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,Cn)}};F({Container:{use:ie(function(e,t){return this.put(new Us).use(e,t)})}});B(Us,"Use");var Zh=We;H([ui,di,Dr,_n,Cr],yt("viewbox"));H([Gn,Yn,qn,hn],yt("marker"));H(ut,yt("Text"));H(hn,yt("Path"));H(wr,yt("Defs"));H([ut,Ir],yt("Tspan"));H([Sr,xr,zn,En],yt("radius"));H(Zt,yt("EventTarget"));H(Jt,yt("Dom"));H(qe,yt("Element"));H(Re,yt("Shape"));H([Fe,Uh],yt("Container"));H(zn,yt("Gradient"));H(En,yt("Runner"));Hn.extend(hb());zb([ee,ct,$e,oe,Ct,lt,_t,Ae]);Gb();var Yb=(()=>{class e{constructor(n){this.graphemesService=n}export(n=[]){n.length===0&&(n=this.graphemesService.graphemes),n=n.filter(S=>!S.deleted);let r=50,i=1/0,o=1/0,s=-1/0,l=-1/0,d=NaN,h=NaN,y=0,m=0;if(n.forEach(S=>{let T=this.graphemesService.calculateRotatedGraphemeFootprintOnCanvas(S);T.minX<i&&(i=T.minX,d=i-r),T.minY<o&&(o=T.minY,h=o-r)}),n.forEach(S=>{let T=this.graphemesService.calculateRotatedGraphemeFootprintOnCanvas(S);T.maxX>s&&(s=T.maxX,y=s-i+r*2),T.maxY>l&&(l=T.maxY,m=l-o+r*2)}),m=Math.ceil(m),y=Math.ceil(y),d=Math.floor(d),y===0||m===0){let S=Zh().size(0,0);this.saveFile(S,"export.svg");return}let D=Zh().size(y,m),_=[];n.forEach((S,T)=>{_.push(this.getGraphemeSvgStream(n,T))}),Promise.all(_).then(S=>{S.sort((R,P)=>P.index-R.index);let T=S.map(R=>{let P=n[R.index],fe=D.group();fe.svg(R.stream);let he=P instanceof Se&&P.styleData.flipped||!1,Ne=0;P instanceof Oe&&(Ne=P.rotation),P instanceof Se&&(Ne=P.rotation);let I=this.generateTransformMatrix(P.x-d,P.y-h,P.offsetX,P.offsetY,Ne*(Math.PI/180),he);if(fe.transform({a:I[0],b:I[1],c:I[2],d:I[3],e:I[4],f:I[5]}),P instanceof st){let Ie=P.attachs.map(Je=>this.getAttachSvgStream(Je).then(ht=>{let Sn=D.group();Sn.svg(ht.stream);let ze=this.generateTransformMatrix(P.x-d,P.y-h,Je.offsetX,Je.offsetY,0,!1);Sn.transform({a:ze[0],b:ze[1],c:ze[2],d:ze[3],e:ze[4],f:ze[5]})}));return Promise.all(Ie)}return Promise.resolve()});Promise.all(T).then(()=>{this.saveFile(D,"export.svg")})})}createIdentity(){return[1,0,0,1,0,0]}translateMatrix(n,r){return[1,0,0,1,n,r]}rotateMatrix(n){let r=Math.cos(n),i=Math.sin(n);return[r,i,-i,r,0,0]}scaleMatrix(n,r){return[n,0,0,r,0,0]}multiplyMatrices(n,r){let[i,o,s,l,d,h]=n,[y,m,D,_,S,T]=r;return[i*y+s*m,o*y+l*m,i*D+s*_,o*D+l*_,i*S+s*T+d,o*S+l*T+h]}generateTransformMatrix(n,r,i,o,s,l){let d=this.translateMatrix(-i,-o),h=l?this.scaleMatrix(-1,1):this.createIdentity(),y=this.rotateMatrix(s),m=this.translateMatrix(n,r);return this.multiplyMatrices(m,this.multiplyMatrices(y,this.multiplyMatrices(h,d)))}getGraphemeSvgStream(n,r){return fetch(n[r].src).then(i=>i.text()).then(i=>({index:r,stream:i}))}getAttachSvgStream(n){return fetch(n.src).then(r=>r.text()).then(r=>({id:n.id,stream:r}))}saveFile(n,r="export.svg"){let i=n.svg(),o=new Blob([i],{type:"image/svg+xml"}),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)}static{this.\u0275fac=function(r){return new(r||e)(ye(oo))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var IA=["designerCanvas"],MA=["addGraphemeButton"],TA=["panelTopButtonsContainer"],AA=["addTypeMenu"],NA=["addAttachMenu"],OA=["mainSelectionBoundingBox"],RA=["addAttachToolbarButton"],PA=["panelLayerAddAttachButton"],kA=(e,t)=>({"panel-layer-main-selection":e,"panel-layer-secondary-selection":t}),Jh=e=>({"panel-layer-input-dragging":e});function FA(e,t){e&1&&K(0,"img",31)}function LA(e,t){e&1&&K(0,"img",39)}function jA(e,t){if(e&1&&K(0,"img",40),e&2){let n=L(2).$implicit;wn("src",n.src,ur)}}function VA(e,t){if(e&1){let n=Nt();W(0,"div",36)(1,"div",37),Bn(2,"rot:"),q(),W(3,"input",38),Xe("input",function(i){Ue(n);let o=L(2).index,s=L();return He(s.onLayerFieldInput(i,"rot",o))})("change",function(i){Ue(n);let o=L(2).index,s=L();return He(s.onLayerFieldChange(i,"rot",o))}),q(),W(4,"div",41),Bn(5,"\xB0"),q()()}if(e&2){let n=L(2),r=n.$implicit,i=n.index,o=L();De("inputType","rot"),G(3),wn("value",r.rotation),Z("readOnly",r.locked)("disabled",o.draggingLayerField)("ngClass",Ac(6,Jh,o.draggingLayerField)),De("index",i)}}function BA(e,t){e&1&&K(0,"img",47)}function $A(e,t){e&1&&K(0,"img",48)}function UA(e,t){if(e&1){let n=Nt();W(0,"button",43),Xe("click",function(){Ue(n);let i=L(3).index,o=L();return He(o.panelFlipButtonHandler(i))}),_e(1,BA,1,0,"img",47)(2,$A,1,0),q()}if(e&2){let n=L(3).$implicit;G(),nt(1,n.styleData.flipped?2:1)}}function HA(e,t){e&1&&K(0,"img",47)}function zA(e,t){e&1&&K(0,"img",48)}function GA(e,t){if(e&1){let n=Nt();W(0,"button",43),Xe("click",function(){Ue(n);let i=L(4).index,o=L();return He(o.panelLocationFlipButtonHandler(i))}),_e(1,HA,1,0,"img",47)(2,zA,1,0),q()}if(e&2){let n=L(4).$implicit;G(),nt(1,n.id==2||n.id===4?1:2)}}function WA(e,t){if(e&1){let n=Nt();W(0,"button",43,3),Xe("click",function(){Ue(n);let i=L(5).index,o=L();return He(o.onPanelLayerAddAttach(i))}),K(2,"img",49),q()}if(e&2){let n=L(5).index;De("index",n)}}function qA(e,t){if(e&1&&_e(0,WA,3,1,"button",42),e&2){let n=L(4).$implicit;nt(0,n.type==="head"?0:-1)}}function YA(e,t){if(e&1&&_e(0,GA,3,1,"button",42)(1,qA,1,1),e&2){let n=L(3).$implicit;nt(0,n.flippable&&n.type==="location"?0:1)}}function XA(e,t){if(e&1){let n=Nt();_e(0,UA,3,1,"button",42)(1,YA,2,1),W(2,"button",43),Xe("click",function(){Ue(n);let i=L(2).index,o=L();return He(o.panelLockButtonHandler(i))}),K(3,"img",44),q(),W(4,"button",43),Xe("click",function(){Ue(n);let i=L(2).index,o=L();return He(o.panelDuplicateButtonHandler(i))}),K(5,"img",45),q(),W(6,"button",43),Xe("click",function(){Ue(n);let i=L(2).index,o=L();return He(o.panelDeleteButtonHandler(i))}),K(7,"img",46),q()}if(e&2){let n=L(2).$implicit;nt(0,n.flippable&&n.type!=="location"?0:1)}}function KA(e,t){if(e&1){let n=Nt();W(0,"button",43),Xe("click",function(){Ue(n);let i=L(2).index,o=L();return He(o.panelLockButtonHandler(i))}),K(1,"img",50),q()}}function QA(e,t){if(e&1){let n=Nt();W(0,"div",29)(1,"div",30),_e(2,FA,1,0,"img",31)(3,LA,1,0)(4,jA,1,1),q(),W(5,"div",32)(6,"div",33)(7,"div",34),Bn(8),q()(),W(9,"div",35)(10,"div",36)(11,"div",37),Bn(12,"x:"),q(),W(13,"input",38),Xe("input",function(i){Ue(n);let o=L().index,s=L();return He(s.onLayerFieldInput(i,"x",o))})("change",function(i){Ue(n);let o=L().index,s=L();return He(s.onLayerFieldChange(i,"x",o))}),q()(),W(14,"div",36)(15,"div",37),Bn(16,"y:"),q(),W(17,"input",38),Xe("input",function(i){Ue(n);let o=L().index,s=L();return He(s.onLayerFieldInput(i,"y",o))})("change",function(i){Ue(n);let o=L().index,s=L();return He(s.onLayerFieldChange(i,"y",o))}),q()(),_e(18,VA,6,8,"div",36)(19,XA,8,1)(20,KA,2,0),q()()()}if(e&2){let n=L(),r=n.$implicit,i=n.index,o=L();Z("ngClass",Ly(18,kA,o.mainSelection==i,o.mainSelection!=i&&o.selectedGraphemes.includes(i))),De("index",i),G(2),nt(2,r.type==="movement"&&r.id===1?2:r.type==="movement"&&r.id===2?3:4),G(6),os(" ",r.name," "),G(2),De("inputType","x"),G(3),wn("value",r.x),Z("readOnly",r.locked)("disabled",o.draggingLayerField)("ngClass",Ac(21,Jh,o.draggingLayerField)),De("index",i),G(),De("inputType","y"),G(3),wn("value",r.y),Z("readOnly",r.locked)("disabled",o.draggingLayerField)("ngClass",Ac(23,Jh,o.draggingLayerField)),De("index",i),G(),nt(18,r.rotatable?18:-1),G(),nt(19,r.locked?20:19)}}function ZA(e,t){if(e&1&&(Ui(0),_e(1,QA,21,25,"div",28),Hi()),e&2){let n=t.$implicit;G(),Z("ngIf",!n.deleted)}}function JA(e,t){if(e&1&&(av(),W(0,"svg",51),K(1,"path",52),q()),e&2){let n=L();Z("ngStyle",n.rotationLineStyle),De("height",n.rotationLineHeight),G(),De("d","M 1,0 V "+n.rotationLineHeight)}}function eN(e,t){if(e&1&&(W(0,"div",55),K(1,"img",56),q()),e&2){let n=L(),r=n.$implicit,i=n.index;Z("ngStyle",r.style),De("index",i),G(),wn("src",r.src,ur),De("index",i)}}function tN(e,t){if(e&1&&(Ui(0),W(1,"div",57),K(2,"img",56),q(),Hi()),e&2){let n=t.$implicit,r=L(2).index;G(),Z("ngStyle",n.style),De("index",r)("attachId",n.id),G(),wn("src",n.src,ur),De("index",r)}}function nN(e,t){if(e&1&&(Ui(0),_e(1,tN,3,5,"ng-container",21),Hi()),e&2){let n=L().$implicit;G(),Z("ngForOf",n.attachs)}}function rN(e,t){if(e&1&&(Ui(0,null,4),_e(2,eN,2,4,"div",53)(3,nN,2,1,"ng-container",54),Hi()),e&2){let n=t.$implicit;G(2),Z("ngIf",!n.deleted),G(),Z("ngIf",!n.deleted&&n.type==="head")}}function iN(e,t){if(e&1&&K(0,"div",58),e&2){let n=L();Z("ngStyle",n.xAxisStyle)}}function oN(e,t){if(e&1&&K(0,"div",59),e&2){let n=L();Z("ngStyle",n.yAxisStyle)}}function sN(e,t){if(e&1&&K(0,"div",60,5),e&2){let n=L(2),r=n.$implicit,i=n.index;Z("ngStyle",r.selectionBoundingBox),De("index",i)}}function aN(e,t){if(e&1&&_e(0,sN,2,2,"div",63),e&2){let n=L().$implicit;Z("ngIf",!n.deleted)}}function cN(e,t){if(e&1&&K(0,"div",64),e&2){let n=L(3),r=n.$implicit,i=n.index;Z("ngStyle",r.selectionBoundingBox),De("index",i)}}function lN(e,t){if(e&1&&_e(0,cN,1,2,"div",65),e&2){let n=L(2).$implicit;Z("ngIf",!n.deleted)}}function uN(e,t){if(e&1&&_e(0,lN,1,1,"div",64),e&2){let n=L().index,r=L();nt(0,r.selectedGraphemes.includes(n)?0:-1)}}function dN(e,t){e&1&&K(0,"div")}function fN(e,t){if(e&1&&(W(0,"div",68,8),K(2,"img",69),q(),W(3,"div",70),K(4,"img",71),q(),W(5,"div",72),K(6,"img",73),q(),W(7,"div",74),K(8,"img",75),q()),e&2){let n=L(4).index;De("index",n),G(3),De("index",n),G(2),De("index",n),G(2),De("index",n)}}function hN(e,t){if(e&1&&(W(0,"div",76),K(1,"img",77),q()),e&2){let n=L(5).index;De("index",n)}}function pN(e,t){if(e&1&&(W(0,"div",78),K(1,"img",79),q()),e&2){let n=L(6).index;De("index",n)}}function mN(e,t){if(e&1&&(W(0,"div",78),K(1,"img",80),q()),e&2){let n=L(6).index;De("index",n)}}function gN(e,t){if(e&1&&_e(0,pN,2,1,"div",78)(1,mN,2,1),e&2){let n=L(5).$implicit;nt(0,n.styleData.flipped?1:0)}}function vN(e,t){if(e&1&&(_e(0,hN,2,1,"div",76)(1,gN,2,1),W(2,"div",70),K(3,"img",71),q(),W(4,"div",72),K(5,"img",73),q(),W(6,"div",74),K(7,"img",75),q()),e&2){let n=L(4),r=n.$implicit,i=n.index;nt(0,r.rotatable?0:-1),G(),nt(1,r.flippable?1:-1),G(),De("index",i),G(2),De("index",i),G(2),De("index",i)}}function yN(e,t){if(e&1&&_e(0,fN,9,4)(1,vN,8,5),e&2){let n=L(3).$implicit;nt(0,n.type==="head"?0:1)}}function bN(e,t){if(e&1&&(W(0,"div",81),K(1,"img",75),q()),e&2){let n=L(3).index;De("index",n)}}function wN(e,t){if(e&1&&_e(0,yN,2,1)(1,bN,2,1),e&2){let n=L(3);nt(0,n.attachSelection===-1?0:1)}}function xN(e,t){if(e&1&&(W(0,"div",70),K(1,"img",82),q()),e&2){let n=L(2).index;De("index",n)}}function DN(e,t){if(e&1&&(W(0,"div",66),_e(1,dN,1,0,"div",67)(2,wN,2,1,"ng-template",null,6,cf)(4,xN,2,1,"ng-template",null,7,cf),q()),e&2){let n=af(3),r=af(5),i=L(),o=i.$implicit,s=i.index;Z("ngStyle",o.toolbar),De("index",s),G(),Z("ngIf",!o.locked)("ngIfThen",n)("ngIfElse",r)}}function CN(e,t){if(e&1&&(W(0,"div",83),K(1,"img",84),q()),e&2){let n=L(),r=n.$implicit,i=n.index;Z("ngStyle",r.center),De("index",i),G(),De("index",i)}}function _N(e,t){if(e&1&&(W(0,"div"),_e(1,aN,1,1,"div",60)(2,uN,1,1)(3,DN,6,5,"div",61)(4,CN,2,3,"div",62),q()),e&2){let n=t.$implicit,r=t.index,i=L();G(),nt(1,r===i.mainSelection?1:2),G(2),Z("ngIf",i.mainSelection==r&&!i.keyboardTransformMode),G(),Z("ngIf",i.mainSelection==r&&n.rotatable)}}function EN(e,t){if(e&1&&(W(0,"div",85,9),K(2,"app-add-type",86),q()),e&2){let n=L();Z("ngStyle",n.addMenuStyle),G(2),Z("onAdd",n.onMenuAddGrapheme)("width",n.addMenuWidth+"px")}}function SN(e,t){if(e&1&&(W(0,"div",85,10),K(2,"app-add-menu",87),q()),e&2){let n=L();Z("ngStyle",n.addMenuStyle),G(2),Z("onAdd",n.onMenuAddAttach)("width",n.addMenuWidth+"px")("height",n.addAttachMenuHeight+"px")("type","attach")}}var Xb=(()=>{class e{onResize(){this.renderUI(),this.cdr.detectChanges(),this.adaptCanvasToView(),this.panCanvasCenterTo(this.canvasCenterX,this.canvasCenterY),this.renderAllGraphemes()}constructor(n,r,i,o,s){this.graphemesService=n,this.undoService=r,this.exportService=i,this.renderer2=o,this.cdr=s,this.title="ser-libras-sign-designer",this.mainSelection=-1,this.attachSelection=-1,this.selectedGraphemes=[],this.scale=1,this.canvasViewOffsetX=0,this.canvasViewOffsetY=0,this.canvasCenterX=NaN,this.canvasCenterY=NaN,this.preferredPanelSize=NaN,this.rotating=!1,this.actions=[],this.addGraphemeMenuOpen=!1,this.addAttachMenuOpen=!1,this.draggingLayerField=!1,this.addAttachMenuHeight=NaN,this.unlisteners=[],this.mouseX=0,this.mouseY=0,this.allowXMotion=!0,this.allowYMotion=!0,this.unconstrainedX=0,this.unconstrainedY=0,this.xAxisStyle={top:"0px"},this.yAxisStyle={left:"0px"},this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.keyboardRotating=!1,this.rotationSnapKeyDownUnlistener=null,this.rotationSnapKeyUpUnlistener=null,this.canvasStyle={width:"auto",height:"auto",top:"auto",left:"auto",bottom:"auto"},this.panelStyle={width:"auto",height:"auto",top:"auto",left:"auto",right:"auto",bottom:"auto","box-shadow":"none",display:"none"},this.panelResizeBorderStyle={width:"auto",height:"auto",top:"auto",right:"auto",bottom:"auto",cursor:"auto"},this.panelLayersStyle={height:"auto"},this.panelMode="",this.lastPanelButtonPress=0,this.addMenuStyle={top:"auto",left:"auto",right:"auto"},this.addMenuWidth=300,this.onMenuAddGrapheme=(l,d)=>{switch(d){case"handconf":this.addHandconfGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY,0,!1),this.selectLastGrapheme();break;case"faceexp":this.addFaceexpHeadGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"location":this.graphemesService.locationAddList[l].type==="location"?this.addLocationGraphemeWithUndo(this.graphemesService.locationAddList[l].id,this.canvasCenterX,this.canvasCenterY):this.addLocationHeadGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"movement":this.addMovementGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"plane":this.addPlaneGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"attach":this.onMenuAddAttach(l,d);break;default:throw new Error("Invalid grapheme type.")}this.renderAllGraphemes(),this.closeAddGraphemeMenu()},this.onMenuAddAttach=(l,d)=>{if(d!=="attach")throw new Error("Can only add attach on onMenuAddAttach method.");this.addAttachWithUndo(this.mainSelection,l),this.renderMainSelection(),this.closeAddAttachMenu()},this.rotationLineHeight=0,this.rotationLineStyle={transform:"rotate(0deg)",top:"0px",left:"0px"},this.originalCanvasWidth=-1,this.originalCanvasHeight=-1}ngOnInit(){if(typeof document<"u"){window.addEventListener("contextmenu",m=>{m.preventDefault(),m.stopPropagation()});let n=!1;(0,Lt.default)(".draggable").draggable({listeners:{start:m=>{n=!0;let D=parseInt(m.target.getAttribute("index"));this.graphemesService.graphemes[D].locked||(this.selectedGraphemes.includes(D)||m.ctrlKey?this.selectMultipleGraphemes(D,!1):this.selectOneGrapheme(D,!1),this.actions=[],this.selectedGraphemes.forEach(_=>{this.graphemesService.graphemes[_].locked||this.actions.push({index:_,type:"move",data:{fromX:this.graphemesService.graphemes[_].x,fromY:this.graphemesService.graphemes[_].y,toX:NaN,toY:NaN}})}))},move:m=>{let D=parseInt(m.target.getAttribute("index"));this.graphemesService.graphemes[D].locked?(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.renderAllGraphemes()):this.selectedGraphemes.forEach((_,S)=>{if(this.graphemesService.graphemes[_].locked)this.deselectGrapheme(_);else{let T=this.graphemesService.graphemes[_].x,R=this.graphemesService.graphemes[_].y;T+=m.dx/this.scale,R+=m.dy/this.scale,this.graphemesService.graphemes[_].move(T,R),this.renderGrapheme(_)}})},end:m=>{n=!1,this.actions.forEach(D=>{"fromX"in D.data&&"fromY"in D.data&&(D.data.toX=this.graphemesService.graphemes[D.index].x,D.data.toY=this.graphemesService.graphemes[D.index].y)}),this.undoService.push(this.actions),this.actions=[]}}}).on("tap",m=>{if(!this.keyboardTransformMode&&m.dt<500){let D=parseInt(m.target.getAttribute("index")),_=-1;if(m.ctrlKey?(_=this.mainSelection,this.selectMultipleGraphemes(D)):(_=this.mainSelection,this.selectOneGrapheme(D)),m.target.closest(".attach")!==null){if(_===this.mainSelection){let S=parseInt(m.target.closest(".attach").getAttribute("attachId"));this.attachSelection!==S||this.mainSelection!==D?this.attachSelection=S:this.attachSelection=-1,this.renderGrapheme(D)}}else this.attachSelection=-1,this.renderGrapheme(D)}m.stopPropagation()}).on("hold",m=>{let D=parseInt(m.target.getAttribute("index"));this.selectMultipleGraphemes(D),m.stopPropagation(),m.preventDefault()}).gesturable({listeners:{move:m=>{n||(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.zoom(1+m.ds,m.clientX,m.clientY),this.renderAllGraphemes()),m.preventDefault(),m.stopPropagation()}}});let r={x:0,y:0},i=0,o=0;(0,Lt.default)(".rotation-handle").draggable({listeners:{start:m=>{n=!0,this.rotating=!0,this.actions=[],this.selectedGraphemes.forEach(D=>{let _=this.graphemesService.graphemes[D];_.rotatable&&!_.locked&&this.actions.push({index:D,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[D].rotation,newAngle:NaN}})}),r=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y),i=Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI,this.renderRotationLine(m.clientX,m.clientY,r.x,r.y),this.rotationSnapKeyDownUnlistener=this.renderer2.listen("document","keydown",D=>{this.keyDownRotationHandler(D,i,r)}),this.rotationSnapKeyUpUnlistener=this.renderer2.listen("document","keyup",D=>{this.keyUpRotationHandler(D,i,r)}),m.stopPropagation()},move:m=>{let D=0,_=NaN;m.ctrlKey?_=5:m.shiftKey&&(_=45),isNaN(_)?D=Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI:D=Math.round(Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI/_)*_,o=D-i,this.actions.forEach(S=>{"oldAngle"in S.data&&!this.graphemesService.graphemes[S.index].locked&&(this.graphemesService.graphemes[S.index]instanceof Se?this.graphemesService.graphemes[S.index].setRotation(S.data.oldAngle+o):this.graphemesService.graphemes[S.index]instanceof Oe&&this.graphemesService.graphemes[S.index].setRotation(S.data.oldAngle+o)),this.renderGrapheme(S.index)}),this.renderRotationLine(m.clientX,m.clientY,r.x,r.y),m.stopPropagation()},end:m=>{n=!1,this.rotating=!1,this.actions.forEach(D=>{"oldAngle"in D.data&&(D.data.newAngle=this.graphemesService.graphemes[D.index].rotation)}),this.undoService.push(this.actions),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.(),m.stopPropagation()}}}).on("tap",m=>{m.dt<500&&(this.actions=[],this.selectedGraphemes.forEach(D=>{if(this.graphemesService.graphemes[D].rotatable&&!this.graphemesService.graphemes[D].locked){let _=this.graphemesService.graphemes[D].rotation,S=NaN;m.shiftKey?S=45:S=5;let T=Math.floor((_+S)/S)*S;if(this.graphemesService.graphemes[D]instanceof Se)this.graphemesService.graphemes[D].setRotation(T);else if(this.graphemesService.graphemes[D]instanceof Oe)this.graphemesService.graphemes[D].setRotation(T);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(D),this.actions.push({index:D,type:"changeAngle",data:{oldAngle:_,newAngle:T}})}}),this.undoService.push(this.actions),this.actions=[]),m.stopPropagation()}).on("hold",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{if(this.graphemesService.graphemes[D].rotatable&&!this.graphemesService.graphemes[D].locked){let _=this.graphemesService.graphemes[D].rotation,S=Math.floor((_+45)/45)*45;if(this.graphemesService.graphemes[D]instanceof Se)this.graphemesService.graphemes[D].setRotation(S);else if(this.graphemesService.graphemes[D]instanceof Oe)this.graphemesService.graphemes[D].setRotation(S);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(D),this.actions.push({index:D,type:"changeAngle",data:{oldAngle:_,newAngle:S}})}}),this.undoService.push(this.actions),this.actions=[]}).styleCursor(!1),(0,Lt.default)(".flip-button").on("tap",m=>{this.flipSelectedGraphemesWithUndo(),this.renderAllGraphemes(),m.stopPropagation()}).styleCursor(!1),(0,Lt.default)(".lock-button").on("tap",m=>{this.actions=[];let D=this.graphemesService.graphemes[this.mainSelection].toggleLocked();this.renderGrapheme(this.mainSelection),this.actions.push({index:this.mainSelection,type:"lock",data:{newLock:D}}),this.selectedGraphemes.forEach(_=>{_!==this.mainSelection&&(this.graphemesService.graphemes[_].setLocked(D),this.renderGrapheme(_),this.actions.push({index:_,type:"lock",data:{newLock:D}}))}),this.undoService.push(this.actions),this.actions=[],m.stopPropagation()}).styleCursor(!1),(0,Lt.default)(".duplicate-button").on("tap",m=>{this.duplicateSelectedGraphemesWithUndo(),this.renderAllGraphemes(),m.stopPropagation()}).styleCursor(!1),(0,Lt.default)(".delete-button").on("tap",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{this.graphemesService.graphemes[D].locked||(this.graphemesService.deleteGrapheme(D),this.actions.push({type:"delete",index:D,data:{replacedBy:-1}}),this.deselectGrapheme(D),this.designerCanvas.nativeElement.focus())}),this.undoService.push(this.actions),this.actions=[]}).styleCursor(!1),(0,Lt.default)(".add-attach-button").on("tap",m=>{if(m.stopPropagation(),this.addAttachMenuOpen)this.closeAddAttachMenu();else{let D=this.addAttachToolbarButton.nativeElement.getBoundingClientRect();this.openAddAttachMenu(D.right,D.top)}this.cdr.detectChanges()}).styleCursor(!1),(0,Lt.default)(".delete-attach-button").on("tap",m=>{this.removeAttachWithUndo(this.mainSelection,this.attachSelection),this.attachSelection=-1,this.renderMainSelection(),m.stopPropagation()}).styleCursor(!1),(0,Lt.default)(".designer-canvas").draggable({listeners:{move:m=>{!n&&!this.keyboardTransformMode&&(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.renderAllGraphemes())}}}).on("tap",m=>{this.keyboardTransformMode||(this.selectOneGrapheme(-1),window.focus())}).gesturable({listeners:{move:m=>{n||(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.zoom(1+m.ds,m.clientX,m.clientY),this.renderAllGraphemes())}}}).styleCursor(!1),(0,Lt.default)(".panel-resize-border").draggable({listeners:{start:m=>{n=!0},move:m=>{this.panelMode==="portrait"?this.preferredPanelSize-=m.dy:this.panelMode==="landscape"&&(this.preferredPanelSize-=m.dx),this.renderUI(),this.cdr.detectChanges(),this.adaptCanvasToView(),this.renderAllGraphemes()},end:m=>{n=!1}}}).styleCursor(!1),(0,Lt.default)(".panel-layer").on("tap",m=>{if(!this.keyboardTransformMode&&m.dt<500){let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));m.ctrlKey?this.selectMultipleGraphemes(D):this.selectOneGrapheme(D)}}).on("hold",m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));this.selectMultipleGraphemes(D)}).on("doubletap",m=>{if(Date.now()-this.lastPanelButtonPress>500){let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));this.lookAtGrapheme(D)}}).styleCursor(!1);let s=NaN,l=NaN,d=NaN,h=NaN,y;(0,Lt.default)(".panel-layer-field").draggable({listeners:{start:m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));n=!0,this.draggingLayerField=!0,this.graphemesService.graphemes[D].locked||(y=m.target.getAttribute("inputType"),l=this.graphemesService.graphemes[D].x,d=this.graphemesService.graphemes[D].y,h=this.graphemesService.graphemes[D].rotation,s=m.clientX,this.selectOneGrapheme(D),this.actions=[],y==="x"||y==="y"?this.actions=[{index:D,type:"move",data:{fromX:l,fromY:d,toX:NaN,toY:NaN}}]:y==="rot"&&(this.actions=[{index:D,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[D].rotation,newAngle:NaN}}]))},move:m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));if(!this.graphemesService.graphemes[D].locked){if(y==="x"||y==="y")y==="x"?this.graphemesService.graphemes[D].move(l+(m.clientX-s)/this.scale,d):y==="y"&&this.graphemesService.graphemes[D].move(l,d+(m.clientX-s)/this.scale),"fromX"in this.actions[0].data&&"fromY"in this.actions[0].data&&(y==="x"?(this.actions[0].data.toX=this.graphemesService.graphemes[D].x,this.actions[0].data.toY=d):y==="y"&&(this.actions[0].data.toY=this.graphemesService.graphemes[D].y,this.actions[0].data.toX=l));else if(y==="rot"){let _=h+(m.clientX-s)/5;if(this.graphemesService.graphemes[D]instanceof Se)this.graphemesService.graphemes[D].setRotation(_);else if(this.graphemesService.graphemes[D]instanceof Oe)this.graphemesService.graphemes[D].setRotation(_);else throw new Error("Only handconf and movement graphemes can be rotated.");"oldAngle"in this.actions[0].data&&(this.actions[0].data.newAngle=_)}this.renderGrapheme(D)}},end:m=>{n=!1,this.draggingLayerField=!1,this.graphemesService.graphemes[this.mainSelection].locked||(y==="x"||y==="y"?"toX"in this.actions[0].data&&"fromX"in this.actions[0].data&&"toY"in this.actions[0].data&&"fromY"in this.actions[0].data&&(this.actions[0].data.toX!=this.actions[0].data.fromX||this.actions[0].data.toY!=this.actions[0].data.fromY)&&this.undoService.push(this.actions):y==="rot"&&"oldAngle"in this.actions[0].data&&"newAngle"in this.actions[0].data&&this.actions[0].data.oldAngle!=this.actions[0].data.newAngle&&this.undoService.push(this.actions),this.actions=[])}}}).styleCursor(!1)}}ngAfterViewInit(){typeof document<"u"&&(window.innerHeight>window.innerWidth?this.preferredPanelSize=window.innerHeight*.6:this.preferredPanelSize=window.innerWidth*.3,this.renderUI(),this.adaptCanvasToView(),this.panCanvasTo(0,0),this.addHandconfGraphemeWithUndo(2,400,this.canvasCenterY,0,!1),this.addHandconfGraphemeWithUndo(12,1100,this.canvasCenterY,0,!0),this.addHandconfGraphemeWithUndo(14,1600,this.canvasCenterY,0,!1)),this.renderAllGraphemes();let n=r=>{!this.addGraphemeMenuOpen&&!this.addAttachMenuOpen&&this.clientCoordinateOverCanvas(r.clientX,r.clientY)&&(r.ctrlKey?(this.zoom(r.deltaY>0?.95:1.05,r.clientX,r.clientY),this.renderAllGraphemes()):r.shiftKey?(this.panCanvas(-r.deltaY/this.scale,0),this.renderAllGraphemes()):(this.panCanvas(-r.deltaX/this.scale,-r.deltaY/this.scale),this.renderAllGraphemes()),r.preventDefault())};if(typeof document<"u"){document?.addEventListener("wheel",n,{passive:!1}),this.unlisteners.push(()=>{document?.removeEventListener("wheel",n)});let r=!1,i=0,o=0;this.unlisteners.push(this.renderer2.listen("document","mousedown",h=>{h.button===1&&this.clientCoordinateOverCanvas(h.clientX,h.clientY)&&(r=!0,i=h.clientX,o=h.clientY,h.preventDefault())}));let s=0,l=0,d=0;this.unlisteners.push(this.renderer2.listen("document","mousemove",h=>{if(r&&(this.panCanvas((h.clientX-i)/this.scale,(h.clientY-o)/this.scale),i=h.clientX,o=h.clientY,this.renderAllGraphemes()),this.mouseX=h.clientX,this.mouseY=h.clientY,this.keyboardRotating){let y=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y),D=Math.atan2(this.mouseY-y.y,this.mouseX-y.x)*180/Math.PI-s;this.actions.forEach(_=>{if(!this.graphemesService.graphemes[_.index].locked&&"oldAngle"in _.data){let S=0;if(h.ctrlKey?S=Math.round((_.data.oldAngle+D)/5)*5:h.shiftKey?S=Math.round((_.data.oldAngle+D)/45)*45:S=_.data.oldAngle+D,this.graphemesService.graphemes[_.index]instanceof Se)this.graphemesService.graphemes[_.index].setRotation(S);else if(this.graphemesService.graphemes[_.index]instanceof Oe)this.graphemesService.graphemes[_.index].setRotation(S);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(_.index)}}),this.renderRotationLine(this.mouseX,this.mouseY,y.x,y.y)}if(this.keyboardMoving){let y=this.mouseX-l,m=this.mouseY-d;this.actions.forEach(D=>{this.graphemesService.graphemes[D.index].locked||(this.moveGraphemeWithConstraints(D,y,m),this.renderGrapheme(D.index))})}})),this.unlisteners.push(this.renderer2.listen("document","mouseup",h=>{h.button===1&&r&&(r=!1),this.keyboardRotating&&(h.button===2?(this.cancelKeyboardRotation(),h.preventDefault(),h.stopPropagation()):h.button===0&&(this.applyKeyboardRotation(),h.preventDefault(),h.stopPropagation())),this.keyboardMoving&&(h.button===2?(this.cancelKeyboardMoving(),h.preventDefault(),h.stopPropagation()):h.button===0&&(this.applyKeyboardMoving(),h.preventDefault(),h.stopPropagation())),h.button===0&&(this.addGraphemeMenuOpen&&!this.addGraphemeButton.nativeElement.contains(h.target)&&!this.addTypeMenu.nativeElement.contains(h.target)&&this.closeAddGraphemeMenu(),this.addAttachMenuOpen&&!this.addAttachMenu.nativeElement.contains(h.target)&&h.target.closest(".add-attach-button")===null&&this.closeAddAttachMenu())})),this.unlisteners.push(this.renderer2.listen("document","keyup",h=>{if(h.target===document.body)if(h.key==="g"||h.key==="G"||h.key==="m"||h.key==="M")this.selectedGraphemes.length>0&&(this.keyboardRotating&&this.cancelKeyboardRotation(),this.keyboardTransformMode=!0,this.keyboardMoving=!0,this.allowXMotion=!0,this.allowYMotion=!0,l=this.mouseX,d=this.mouseY,this.actions=[],this.selectedGraphemes.forEach(y=>{this.actions.push({index:y,type:"move",data:{fromX:this.graphemesService.graphemes[y].x,fromY:this.graphemesService.graphemes[y].y,toX:NaN,toY:NaN}})}));else if(h.key==="x"||h.key==="X")this.keyboardTransformMode&&this.keyboardMoving&&(this.allowXMotion&&this.allowYMotion?(this.allowXMotion=!0,this.allowYMotion=!1):this.allowXMotion&&!this.allowYMotion?(this.allowXMotion=!0,this.allowYMotion=!0):!this.allowXMotion&&this.allowYMotion&&(this.allowXMotion=!0,this.allowYMotion=!1),this.actions.forEach(y=>{this.moveGraphemeWithConstraints(y,this.mouseX-l,this.mouseY-d),this.renderGrapheme(y.index)}));else if(h.key==="y"||h.key==="Y")this.keyboardTransformMode&&this.keyboardMoving&&(this.allowXMotion&&this.allowYMotion?(this.allowXMotion=!1,this.allowYMotion=!0):this.allowXMotion&&!this.allowYMotion?(this.allowXMotion=!1,this.allowYMotion=!0):!this.allowXMotion&&this.allowYMotion&&(this.allowXMotion=!0,this.allowYMotion=!0),this.actions.forEach(y=>{this.moveGraphemeWithConstraints(y,this.mouseX-l,this.mouseY-d),this.renderGrapheme(y.index)}));else if(h.key==="r"||h.key==="R"){if(this.selectedGraphemes.length>0&&!this.rotating&&this.graphemesService.graphemes[this.mainSelection].rotatable){this.keyboardMoving&&this.cancelKeyboardMoving(),this.keyboardTransformMode=!0,this.keyboardRotating=!0,this.rotating=!0,this.actions=[];let y=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y);s=Math.atan2(this.mouseY-y.y,this.mouseX-y.x)*180/Math.PI,this.renderRotationLine(this.mouseX,this.mouseY,y.x,y.y),this.selectedGraphemes.forEach(m=>{this.graphemesService.graphemes[m].rotatable&&this.actions.push({index:m,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[m].rotation,newAngle:NaN}})}),this.rotationSnapKeyDownUnlistener=this.renderer2.listen("document","keydown",m=>{this.keyDownRotationHandler(m,s,y)}),this.rotationSnapKeyUpUnlistener=this.renderer2.listen("document","keyup",m=>{this.keyUpRotationHandler(m,s,y)})}}else if(h.key=="f"||h.key=="F")this.flipSelectedGraphemesWithUndo(),this.renderAllGraphemes();else if(h.key=="l"||h.key=="L"){this.actions=[];let y=this.graphemesService.graphemes[this.mainSelection].toggleLocked();this.renderGrapheme(this.mainSelection),this.actions.push({index:this.mainSelection,type:"lock",data:{newLock:y}}),this.selectedGraphemes.forEach(m=>{m!==this.mainSelection&&(this.graphemesService.graphemes[m].setLocked(y),this.renderGrapheme(m),this.actions.push({index:m,type:"lock",data:{newLock:y}}))}),this.undoService.push(this.actions),this.actions=[]}else h.key==="Delete"&&this.selectedGraphemes.length>0?(this.selectedGraphemes.forEach(y=>{this.graphemesService.graphemes[y].locked||(this.graphemesService.deleteGrapheme(y),this.actions.push({type:"delete",index:y,data:{replacedBy:-1}}),this.designerCanvas.nativeElement.focus())}),this.undoService.push(this.actions),this.actions=[],this.selectOneGrapheme(-1),this.renderAllGraphemes()):h.key==="Enter"?this.keyboardTransformMode&&(this.keyboardRotating&&this.applyKeyboardRotation(),this.keyboardMoving&&this.applyKeyboardMoving()):h.key==="Escape"?(this.keyboardTransformMode&&(this.keyboardRotating&&this.cancelKeyboardRotation(),this.keyboardMoving&&this.cancelKeyboardMoving()),this.addGraphemeMenuOpen&&this.closeAddGraphemeMenu(),this.addAttachMenu&&this.closeAddAttachMenu()):(h.code==="NumpadDecimal"||h.code=="Period")&&this.mainSelection!=-1&&this.lookAtGrapheme(this.mainSelection)})),this.unlisteners.push(this.renderer2.listen("document","keydown",h=>{if(h.ctrlKey&&(h.key==="+"||h.key==="="))h.preventDefault(),this.zoom(1.25),this.renderAllGraphemes();else if(h.key==="-")h.preventDefault(),this.zoom(.75),this.renderAllGraphemes();else if(h.ctrlKey&&(h.key==="z"||h.key=="Z")&&!h.shiftKey){if(h.target===document.body){h.preventDefault();let y=this.undoService.undo();y&&y.forEach(m=>{if(m.type=="move"&&"fromX"in m.data&&"fromY"in m.data)this.graphemesService.graphemes[m.index].move(m.data.fromX,m.data.fromY),this.renderGrapheme(m.index);else if(m.type=="changeAngle"&&"oldAngle"in m.data){if(this.graphemesService.graphemes[m.index]instanceof Se)this.graphemesService.graphemes[m.index].setRotation(m.data.oldAngle);else if(this.graphemesService.graphemes[m.index]instanceof Oe)this.graphemesService.graphemes[m.index].setRotation(m.data.oldAngle);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(m.index)}else if(m.type=="flip"&&"newFlip"in m.data){if(this.graphemesService.graphemes[m.index]instanceof Se)this.graphemesService.graphemes[m.index].setFlipped(!m.data.newFlip);else if(this.graphemesService.graphemes[m.index]instanceof Oe)this.graphemesService.graphemes[m.index].setFlipped(!m.data.newFlip);else throw new Error("Only handconf and movement graphemes can be flipped.");this.renderGrapheme(m.index)}else m.type=="lock"&&"newLock"in m.data?(this.graphemesService.graphemes[m.index].setLocked(!m.data.newLock),this.renderGrapheme(m.index)):m.type=="delete"?(this.graphemesService.graphemes[m.index].deleted=!1,"replacedBy"in m.data&&this.selectedGraphemes.includes(m.data.replacedBy)&&this.selectMultipleGraphemes(m.index,!1)):m.type=="add"?(this.graphemesService.deleteGrapheme(m.index),this.selectedGraphemes.includes(m.index)&&(this.deselectGrapheme(m.index),"replaces"in m.data&&m.data.replaces!=-1&&this.selectMultipleGraphemes(m.data.replaces,!1)),this.renderAllGraphemes()):m.type=="addAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"?(this.graphemesService.graphemes[m.index].removeAttach(m.data.attachId),this.renderGrapheme(m.index)):m.type=="removeAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"&&(this.graphemesService.graphemes[m.index].addAttach(m.data.attachId),this.renderGrapheme(m.index))})}}else if(h.ctrlKey&&(h.key==="y"||h.key==="Y")||h.shiftKey&&h.ctrlKey&&(h.key==="z"||h.key==="Z")){if(h.target===document.body){h.preventDefault();let y=this.undoService.redo();y&&y.forEach(m=>{if(m.type=="move"&&"toX"in m.data&&"toY"in m.data)this.graphemesService.graphemes[m.index].move(m.data.toX,m.data.toY);else if(m.type=="changeAngle"&&"newAngle"in m.data)if(this.graphemesService.graphemes[m.index]instanceof Se)this.graphemesService.graphemes[m.index].setRotation(m.data.newAngle);else if(this.graphemesService.graphemes[m.index]instanceof Oe)this.graphemesService.graphemes[m.index].setRotation(m.data.newAngle);else throw new Error("Only handconf and movement graphemes can be rotated.");else if(m.type=="flip"&&"newFlip"in m.data)if(this.graphemesService.graphemes[m.index]instanceof Se)this.graphemesService.graphemes[m.index].setFlipped(m.data.newFlip);else if(this.graphemesService.graphemes[m.index]instanceof Oe)this.graphemesService.graphemes[m.index].setFlipped(m.data.newFlip);else throw new Error("Only handconf and movement graphemes can be flipped.");else m.type=="lock"&&"newLock"in m.data?this.graphemesService.graphemes[m.index].setLocked(m.data.newLock):m.type=="delete"?(this.graphemesService.deleteGrapheme(m.index),"replacedBy"in m.data&&(m.data.replacedBy!=-1&&this.selectedGraphemes.includes(m.index)&&this.selectMultipleGraphemes(m.index,!1),this.deselectGrapheme(m.index))):m.type=="add"?(this.graphemesService.graphemes[m.index].deleted=!1,"replaces"in m.data&&m.data.replaces!=-1&&this.selectedGraphemes.includes(m.data.replaces)&&this.selectMultipleGraphemes(m.index,!1)):m.type=="addAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"?this.graphemesService.graphemes[m.index].addAttach(m.data.attachId):m.type=="removeAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"&&this.graphemesService.graphemes[m.index].removeAttach(m.data.attachId);this.renderGrapheme(m.index)})}}else h.key==="a"||h.key==="A"?(h.ctrlKey&&h.shiftKey?this.deselectAllGraphemes():h.ctrlKey?this.selectAllGraphemes():h.shiftKey&&(this.graphemesService.graphemes[this.mainSelection]instanceof st&&this.clientCoordinateOverMainSelectionGrapheme(this.mouseX,this.mouseY)&&!this.graphemesService.graphemes[this.mainSelection].locked?(this.closeAddGraphemeMenu(),this.openAddAttachMenu(this.mouseX,this.mouseY)):(this.closeAddAttachMenu(),this.setAddMenuStyle(this.mouseX,this.mouseY),this.openAddGraphemeMenu()),this.cdr.detectChanges()),this.renderAllGraphemes(),h.preventDefault()):h.key==="i"||h.key==="I"?(this.invertSelection(),this.renderAllGraphemes(),h.preventDefault()):(h.key==="d"||h.key==="D")&&h.ctrlKey&&(this.duplicateSelectedGraphemesWithUndo(),this.renderAllGraphemes(),h.preventDefault());(h.key==="z"||h.key==="Z"||h.key==="y"||h.key==="Y")&&h.target===document.body&&h.preventDefault()}))}}duplicateSelectedGraphemesWithUndo(){this.actions=[];let n=50,r=NaN,i=this.selectedGraphemes.slice(),o=this.mainSelection;i.forEach(s=>{let l=this.graphemesService.graphemes[s];if(!this.graphemesService.graphemes[s].locked){if(l instanceof Se)this.graphemesService.addHandconfGrapheme(l.id,l.x+n,l.y+n,l.rotation,l.styleData.flipped);else if(l instanceof Oe)this.graphemesService.addMovementGrapheme(l.id,l.x+n,l.y+n,l.rotation);else if(l instanceof yr)this.graphemesService.addLocationGrapheme(l.id,l.x+n,l.y+n);else if(l instanceof ro)this.graphemesService.addPlaneGrapheme(l.id,l.x+n,l.y+n);else if(l instanceof st){this.graphemesService.addHeadGrapheme(l.x+n,l.y+n);let d=this.graphemesService.graphemes[this.graphemesService.graphemes.length-1];l.attachs.forEach(h=>{if(d instanceof st)d.addAttach(h.id);else throw new Error("Only head graphemes can have attachs.")})}}s===o&&(r=this.graphemesService.graphemes.length-1),this.selectMultipleGraphemes(this.graphemesService.graphemes.length-1),this.deselectGrapheme(s),this.actions.push({type:"add",index:this.graphemesService.graphemes.length-1,data:{replaces:-1}})}),this.selectMultipleGraphemes(r,!1),this.undoService.push(this.actions)}duplicateGraphemeWithUndo(n){this.selectOneGrapheme(n),this.duplicateSelectedGraphemesWithUndo()}renderUI(){window.innerHeight>window.innerWidth?(this.panelMode="portrait",this.panelStyle={width:"100%",height:`${this.preferredPanelSize}px`,top:"auto",left:"auto",right:"0px",bottom:"0px","box-shadow":"0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)",display:"flex"},this.panelResizeBorderStyle={width:"100%",height:"1rem",top:"auto",right:"0px",bottom:`calc(${this.preferredPanelSize}px - 0.5rem)`,cursor:"ns-resize"},this.canvasStyle={width:"100%",height:`calc(100vh - ${this.preferredPanelSize}px - 3rem)`,top:"3rem",left:"0px",bottom:"auto"}):(this.panelMode="landscape",this.panelStyle={width:`${this.preferredPanelSize}px`,height:"calc(100% - 3rem)",top:"auto",left:"auto",right:"0px",bottom:"0px","box-shadow":"2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0 rgba(0, 0, 0, 0.14), 1px 0px 10px 0 rgba(0, 0, 0, 0.12)",display:"flex"},this.panelResizeBorderStyle={width:"1rem",height:"calc(100% - 3rem)",top:"auto",right:`calc(${this.preferredPanelSize}px - 0.5rem)`,bottom:"0px",cursor:"ew-resize"},this.canvasStyle={width:`calc(100% - ${this.preferredPanelSize}px)`,height:"calc(100vh - 3rem)",top:"auto",left:"0px",bottom:"0px"}),this.cdr.detectChanges();let n=this.panelTopButtonsContainer.nativeElement.getBoundingClientRect();this.panelLayersStyle={height:`${window.innerHeight-n.bottom}px`}}addGraphemeButtonHandler(){let n=this.addGraphemeButton.nativeElement.getBoundingClientRect(),r=window.innerWidth;n.left+this.addMenuWidth>r?this.addMenuStyle={top:`calc(${n.bottom}px + 0.25rem)`,left:"auto",right:"0px"}:this.addMenuStyle={top:`calc(${n.bottom}px + 0.25rem)`,left:`${n.left}px`,right:"auto"},this.addGraphemeMenuOpen?this.closeAddGraphemeMenu():this.openAddGraphemeMenu()}closeAddGraphemeMenu(){this.addGraphemeMenuOpen=!1}openAddGraphemeMenu(){this.addGraphemeMenuOpen=!0}openAddAttachMenu(n=NaN,r=NaN,i=300,o=750){isNaN(n)||(n+this.addMenuWidth>window.innerWidth?(this.addMenuStyle.left="auto",this.addMenuStyle.right="0px"):(this.addMenuStyle.left=`${n}px`,this.addMenuStyle.right="auto")),isNaN(r)||(r+i>window.innerHeight?(window.innerHeight>=o?this.addAttachMenuHeight=o:this.addAttachMenuHeight=window.innerHeight,this.addMenuStyle.top=`${window.innerHeight-this.addAttachMenuHeight}px`):r+o<=window.innerHeight?(this.addAttachMenuHeight=o,this.addMenuStyle.top=`${r}px`):(this.addAttachMenuHeight=window.innerHeight-r,this.addMenuStyle.top=`${r}px`)),this.addAttachMenuOpen=!0}closeAddAttachMenu(){this.addAttachMenuOpen=!1}keyDownRotationHandler(n,r,i){if(!n.repeat&&(n.key==="Control"||n.key==="Shift")){let s=Math.atan2(this.mouseY-i.y,this.mouseX-i.x)*180/Math.PI-r,l=NaN;n.ctrlKey?l=5:n.shiftKey&&(l=45),this.actions.forEach(d=>{if(!this.graphemesService.graphemes[d.index].locked)if(this.graphemesService.graphemes[d.index]instanceof Se){if("oldAngle"in d.data){let h=Math.round((d.data.oldAngle+s)/l)*l;this.graphemesService.graphemes[d.index].setRotation(h),this.renderGrapheme(d.index)}}else if(this.graphemesService.graphemes[d.index]instanceof Oe){if("oldAngle"in d.data){let h=Math.round((d.data.oldAngle+s)/l)*l;this.graphemesService.graphemes[d.index].setRotation(h),this.renderGrapheme(d.index)}}else throw new Error("Only handconf and movement graphemes can be rotated.")})}}onLayerFieldInput(n,r,i){if(!this.graphemesService.graphemes[i].locked){if(r==="x"||r==="y")this.actions.length===0&&this.actions.push({index:i,type:"move",data:{fromX:this.graphemesService.graphemes[i].x,fromY:this.graphemesService.graphemes[i].y,toX:NaN,toY:NaN}}),r==="x"?this.graphemesService.graphemes[i].move(n.target.value,this.graphemesService.graphemes[i].y):r==="y"&&this.graphemesService.graphemes[i].move(this.graphemesService.graphemes[i].x,n.target.value);else if(r==="rot"){if(this.actions.length===0)if(this.graphemesService.graphemes[i].rotatable)this.actions.push({index:i,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[i].rotation,newAngle:NaN}});else throw new Error("Grapheme is not rotatable.");if(this.graphemesService.graphemes[i]instanceof Se)this.graphemesService.graphemes[i].setRotation(n.target.value,!1,!1);else if(this.graphemesService.graphemes[i]instanceof Oe)this.graphemesService.graphemes[i].setRotation(n.target.value,!1,!1);else throw new Error("Only handconf and movement graphemes can be rotated.")}this.renderGrapheme(i)}}onLayerFieldChange(n,r,i){if(!this.graphemesService.graphemes[i].locked){if(r==="x")"toX"in this.actions[0].data&&"toY"in this.actions[0].data&&(this.actions[0].data.toX=n.target.value,this.actions[0].data.toY=this.graphemesService.graphemes[i].y);else if(r==="y")"toX"in this.actions[0].data&&"toY"in this.actions[0].data&&(this.actions[0].data.toX=this.graphemesService.graphemes[i].x,this.actions[0].data.toY=n.target.value);else if(r==="rot"&&(this.graphemesService.graphemes[i]instanceof Se||this.graphemesService.graphemes[i]instanceof Oe)){if(this.graphemesService.graphemes[i]instanceof Se)this.graphemesService.graphemes[i].setRotation(n.target.value,!0,!0);else if(this.graphemesService.graphemes[i]instanceof Oe)this.graphemesService.graphemes[i].setRotation(n.target.value,!0,!0);else throw new Error("Only handconf and movement graphemes can be rotated.");"newAngle"in this.actions[0].data&&(this.actions[0].data.newAngle=this.graphemesService.graphemes[i].rotation)}this.undoService.push(this.actions),this.actions=[]}}onPanelLayerAddAttach(n){let r;if(r=this.panelLayerAddAttachButtons.find(i=>parseInt(i.nativeElement.getAttribute("index"))===n),r===void 0)throw new Error("Add attach panel layer button not found in the DOM.");{let i=r.nativeElement.getBoundingClientRect();this.openAddAttachMenu(i.left,i.top)}this.lastPanelButtonPress=Date.now()}keyUpRotationHandler(n,r,i){if(!n.repeat&&(n.key==="Control"||n.key==="Shift")){let s=Math.atan2(this.mouseY-i.y,this.mouseX-i.x)*180/Math.PI-r;this.actions.forEach(l=>{if(!this.graphemesService.graphemes[l.index].locked&&"oldAngle"in l.data&&this.graphemesService.graphemes[l.index].rotatable){let d=l.data.oldAngle+s;if(this.graphemesService.graphemes[l.index]instanceof Se)this.graphemesService.graphemes[l.index].setRotation(d);else if(this.graphemesService.graphemes[l.index]instanceof Oe)this.graphemesService.graphemes[l.index].setRotation(d);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(l.index)}})}}exportButtonHandler(){this.exportService.export(this.graphemesService.graphemes)}applyKeyboardMoving(){this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.actions.forEach(n=>{"fromX"in n.data&&"fromY"in n.data&&(n.data.toX=this.graphemesService.graphemes[n.index].x,n.data.toY=this.graphemesService.graphemes[n.index].y)}),this.undoService.push(this.actions),this.actions=[]}cancelKeyboardMoving(){this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.actions.forEach(n=>{"fromX"in n.data&&"fromY"in n.data&&(this.graphemesService.graphemes[n.index].move(n.data.fromX,n.data.fromY),this.renderGrapheme(n.index))}),this.actions=[]}panelFlipButtonHandler(n){this.toggleGraphemeFlipWithUndo(n),this.renderGrapheme(n),this.lastPanelButtonPress=Date.now()}panelLocationFlipButtonHandler(n){this.toggleLocationGraphemeFlipWithUndo(n),this.renderGrapheme(n),this.lastPanelButtonPress=Date.now()}panelLockButtonHandler(n){this.toggleGraphemeLockWithUndo(n),this.renderGrapheme(n),this.lastPanelButtonPress=Date.now()}panelDuplicateButtonHandler(n){this.duplicateGraphemeWithUndo(n),this.renderAllGraphemes(),this.lastPanelButtonPress=Date.now()}panelDeleteButtonHandler(n){this.deleteGraphemeWithUndo(n),this.renderAllGraphemes(),this.lastPanelButtonPress=Date.now()}applyKeyboardRotation(){this.keyboardTransformMode=!1,this.keyboardRotating=!1,this.rotating=!1,this.actions.forEach(n=>{if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Se)n.data.newAngle=this.graphemesService.graphemes[n.index].rotation;else if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Oe)n.data.newAngle=this.graphemesService.graphemes[n.index].rotation;else throw new Error("Only handconf and movement graphemes can be rotated.")}),this.undoService.push(this.actions),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.()}cancelKeyboardRotation(){this.keyboardTransformMode=!1,this.keyboardRotating=!1,this.rotating=!1,this.actions.forEach(n=>{if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Se)this.graphemesService.graphemes[n.index].setRotation(n.data.oldAngle),this.renderGrapheme(n.index);else if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Oe)this.graphemesService.graphemes[n.index].setRotation(n.data.oldAngle),this.renderGrapheme(n.index);else throw new Error("Only handconf and movement graphemes can be rotated.")}),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.()}lookAtGrapheme(n,r=!0){let i=this.graphemesService.graphemes[n],o=this.scale,s=this.graphemesService.calculateRotatedGraphemeCenter(i),l=this.graphemesService.calculateRotatedGraphemeFootprint(i),d=l.maxX-l.minX,h=l.maxY-l.minY,y=this.designerCanvas.nativeElement.getBoundingClientRect?.();y.width>y.height?o=y.width/d/2:o=y.height/h/2,!isNaN(this.scale)&&!(this.scale/o>4)&&!(this.scale/o<.25)&&(o=this.scale);let m=i.x+s.x-y.width/2/o,D=i.y+s.y-y.height/2/o;if(r){let _=this.canvasViewOffsetX,S=this.canvasViewOffsetY,T=this.scale,R=250,P=NaN,fe=he=>{isNaN(P)&&(P=he);let Ne=he-P,I=Math.min(Ne/R,1),Ie=1-Math.pow(1-I,3);this.panCanvasTo(_+(m-_)*Ie,S+(D-S)*Ie),this.scale=T+(o-T)*Ie,this.renderAllGraphemes(),Ne<R?requestAnimationFrame(fe):(this.panCanvasTo(m,D),this.scale=o,this.renderAllGraphemes())};requestAnimationFrame(fe)}else this.panCanvasTo(m,D),this.scale=o,this.renderAllGraphemes()}moveGraphemeWithConstraints(n,r,i){let o=0,s=0;if("fromX"in n.data&&"fromY"in n.data&&(this.unconstrainedX=n.data.fromX+r/this.scale,this.unconstrainedY=n.data.fromY+i/this.scale,this.allowXMotion?o=this.unconstrainedX:o=n.data.fromX,this.allowYMotion?s=this.unconstrainedY:s=n.data.fromY),this.graphemesService.graphemes[n.index].move(o,s),"fromX"in n.data&&"fromY"in n.data){let l=this.graphemeCoordinatesToClientCoordinates(n.data.fromX,n.data.fromY),d=this.clientCoordinatesToCanvasCoordinates(l.x,l.y);this.xAxisStyle={top:`${d.y-1}px`},this.yAxisStyle={left:`${d.x-1}px`}}}ngOnDestroy(){this.unlisteners?.forEach(n=>n())}addHandconfGraphemeWithUndo(n,r,i,o=0,s=!1){this.graphemesService.addHandconfGrapheme(n,r,i,o,s),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}addLocationGraphemeWithUndo(n,r,i){this.graphemesService.addLocationGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}addMovementGraphemeWithUndo(n,r,i,o=0){this.graphemesService.addMovementGrapheme(n,r,i,o),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}addPlaneGraphemeWithUndo(n,r,i){this.graphemesService.addPlaneGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}addAttachWithUndo(n,r){if(!(this.graphemesService.graphemes[n]instanceof st))throw new Error("Can only add attachs to head graphemes.");this.graphemesService.graphemes[n].addAttach(r),this.undoService.push([{index:n,type:"addAttach",data:{attachId:r}}])}removeAttachWithUndo(n,r){if(!(this.graphemesService.graphemes[n]instanceof st))throw new Error("Can only remove attachs from head graphemes.");this.graphemesService.graphemes[n].removeAttach(r),this.undoService.push([{index:n,type:"removeAttach",data:{attachId:r}}])}addFaceexpHeadGrapheme(n,r,i){this.graphemesService.addHeadGrapheme(r,i),this.graphemesService.faceexpAddList[n].attachs.forEach(o=>{this.graphemesService.graphemes[this.graphemesService.graphemes.length-1].addAttach(o)})}addFaceexpHeadGraphemeWithUndo(n,r,i){this.addFaceexpHeadGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}addLocationHeadGrapheme(n,r,i){this.graphemesService.addHeadGrapheme(r,i),this.graphemesService.locationAddList[n].attachs.forEach(o=>{this.graphemesService.graphemes[this.graphemesService.graphemes.length-1].addAttach(o)})}addLocationHeadGraphemeWithUndo(n,r,i){this.addLocationHeadGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:-1}}])}toggleGraphemeFlipWithUndo(n){if(!this.graphemesService.graphemes[n].locked)if(this.graphemesService.graphemes[n]instanceof Se)this.graphemesService.graphemes[n].toggleFlipped(),this.undoService.push([{index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped||!1}}]);else if(this.graphemesService.graphemes[n]instanceof Oe)this.graphemesService.graphemes[n].toggleFlipped(),this.undoService.push([{index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped||!1}}]);else throw new Error("Only handconf and movement graphemes can be flipped.")}toggleLocationGraphemeFlip(n){let r=this.graphemesService.graphemes[n],i=NaN;if(r instanceof yr){if(r.id==2)i=3;else if(r.id==3)i=2;else if(r.id==4)i=5;else if(r.id==5)i=4;else throw new Error(`Location grapheme with id ${r.id} cannot be flipped.`);if(this.graphemesService.addLocationGrapheme(i,r.x,r.y),this.graphemesService.deleteGrapheme(n),this.selectedGraphemes.includes(n))if(this.deselectGrapheme(n),this.mainSelection!==n){let o=this.mainSelection;this.selectLastGrapheme(!1),this.selectMultipleGraphemes(o,!1)}else this.selectLastGrapheme(!1);this.renderGrapheme(this.graphemesService.graphemes.length-1),this.renderGrapheme(n)}else throw new Error("Invalid location grapheme flip.");return[{index:this.graphemesService.graphemes.length-1,type:"add",data:{replaces:n}},{index:n,type:"delete",data:{replacedBy:this.graphemesService.graphemes.length-1}}]}toggleLocationGraphemeFlipWithUndo(n){this.actions=this.toggleLocationGraphemeFlip(n),this.undoService.push(this.actions)}toggleGraphemeLockWithUndo(n){this.graphemesService.graphemes[n].toggleLocked(),this.undoService.push([{index:n,type:"lock",data:{newLock:this.graphemesService.graphemes[n].locked}}])}flipSelectedGraphemesWithUndo(){this.actions=[],this.selectedGraphemes.forEach(n=>{if(!this.graphemesService.graphemes[n].locked&&this.graphemesService.graphemes[n].flippable)if(this.graphemesService.graphemes[n]instanceof Se)this.graphemesService.graphemes[n].toggleFlipped(),this.actions.push({index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped||!1}});else if(this.graphemesService.graphemes[n]instanceof Oe)this.graphemesService.graphemes[n].toggleFlipped(),this.actions.push({index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped||!1}});else if(this.graphemesService.graphemes[n]instanceof yr)this.actions.push(...this.toggleLocationGraphemeFlip(n)),this.renderGrapheme(this.graphemesService.graphemes.length-1);else throw new Error("Only handconf and movement graphemes can be flipped directly and locations graphemes with grapheme replacement.")}),this.undoService.push(this.actions),this.actions=[]}deleteGraphemeWithUndo(n){this.graphemesService.deleteGrapheme(n),this.undoService.push([{index:n,type:"delete",data:{replaces:-1}}]),this.deselectGrapheme(n)}renderAllGraphemes(){for(let n=0;n<this.graphemesService.graphemes.length;n++)this.renderGrapheme(n)}renderMainSelection(){this.mainSelection!==-1&&this.renderGrapheme(this.mainSelection)}renderAllSelectedGraphemes(){this.selectedGraphemes.forEach(n=>{this.renderGrapheme(n)})}renderRotationLine(n,r,i,o){let s=this.clientCoordinatesToCanvasCoordinates(n,r),l=this.clientCoordinatesToCanvasCoordinates(i,o),d=Math.atan2(l.y-s.y,l.x-s.x)*180/Math.PI-90,h=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2));this.rotationLineHeight=h-5,this.rotationLineHeight<0&&(this.rotationLineHeight=0);let y=Math.cos(d*Math.PI/180)*2/2/2,m=Math.sin(d*Math.PI/180)*2/2/2;this.rotationLineStyle={transform:`rotate(${d}deg)`,top:`${r-m}px`,left:`${n-y}px`}}panCanvas(n,r){this.canvasViewOffsetX-=n,this.canvasViewOffsetY-=r;let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.canvasCenterX=this.canvasViewOffsetX+i.width/2/this.scale,this.canvasCenterY=this.canvasViewOffsetY+i.height/2/this.scale,{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}panCanvasTo(n,r){this.canvasViewOffsetX=n,this.canvasViewOffsetY=r,isNaN(this.canvasViewOffsetX)&&(this.canvasViewOffsetX=0),isNaN(this.canvasViewOffsetY)&&(this.canvasViewOffsetY=0);let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.canvasCenterX=this.canvasViewOffsetX+i.width/2/this.scale,this.canvasCenterY=this.canvasViewOffsetY+i.height/2/this.scale,{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}panCanvasCenterTo(n,r){let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.panCanvasTo(n-i.width/2/this.scale,r-i.height/2/this.scale),{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}zoom(n,r=NaN,i=NaN){this.scale*=n,(this.scale<=0||isNaN(this.scale)||this.scale===1/0||this.scale===-1/0)&&(this.scale=.01);let o=this.designerCanvas.nativeElement.getBoundingClientRect?.();if(Number.isNaN(r)||Number.isNaN(i))this.panCanvasTo(this.canvasCenterX-o.width/2/this.scale,this.canvasCenterY-o.height/2/this.scale);else{let s=this.clientCoordinatesToGraphemeCoordinates(r,i);this.panCanvasTo(s.x-(s.x-this.canvasViewOffsetX)/n,s.y-(s.y-this.canvasViewOffsetY)/n)}}renderGrapheme(n){if(this.graphemesService.graphemes[n].deleted)return;let r=this.graphemesService.graphemes[n],i=r.getMaxFootprint(),o=i.right-i.left,s=i.bottom-i.top,l=this.graphemeCoordinatesToCanvasCoordinates(r.x,r.y),d=this.graphemesService.graphemes[n].offsetY,h=r.flippable?this.graphemesService.graphemes[n].styleData.flipped:!1;if(r.styleData.top=(r.y-r.offsetY/this.scale-this.canvasViewOffsetY)*this.scale,r.styleData.left=(r.x-r.offsetX/this.scale-this.canvasViewOffsetX)*this.scale,r.style.top=`${r.styleData.top}px`,r.style.left=`${r.styleData.left}px`,r instanceof st&&r.attachs.forEach(_=>{_.style.top=`${(r.y-_.offsetY/this.scale-this.canvasViewOffsetY)*this.scale}px`,_.style.left=`${(r.x-_.offsetX/this.scale-this.canvasViewOffsetX)*this.scale}px`}),r instanceof st?(r.style.transform=`scale(${this.scale})`,r.attachs.forEach(_=>{_.style.transform=`scale(${this.scale})`})):r.rotatable&&r.flippable?r.style.transform=`rotate(${r.rotation}deg) scale(${this.scale}) scaleX(${r.styleData.flipped?-1:1})`:r.rotatable?r.style.transform=`rotate(${r.rotation}deg) scale(${this.scale})`:r.flippable?r.style.transform=`scale(${this.scale}) scaleX(${r.styleData.flipped?-1:1})`:r.style.transform=`scale(${this.scale})`,this.attachSelection===-1){let _=r.toolbarItems(),S={minX:(h?-i.right:i.left)*this.scale,minY:i.top*this.scale,maxX:(h?-i.left:i.right)*this.scale,maxY:i.bottom*this.scale},{x:T,y:R}=this.calculateToolbarPosition(S.minX,S.minY,S.maxX,S.maxY,r.rotatable?r.rotation:0);r.toolbar.top=`calc(${R+l.y}px - 3rem)`,r.toolbar.left=`calc(${T+l.x}px - ${(2*_+.5*(_-1))/2}rem)`,r.toolbar.width=`${2*_+.5*(_-1)}rem`}else if(r instanceof st){let _=r.getAttachMaxFootprint(this.attachSelection),S=(_.left+_.right)/2,T=r.x+S,R=_.top+r.y,P=this.graphemeCoordinatesToCanvasCoordinates(T,R);r.toolbar.top=`calc(${P.y}px - 3rem)`,r.toolbar.left=`calc(${P.x}px - 1rem)`,r.toolbar.width="2rem"}let y=o,m=s,D=i;if(r instanceof st){let _=this.graphemesService.getHeadSpec(),S=this.graphemesService.getAttachSpec();this.graphemesService.graphemes[n].attachs.forEach(T=>{if(T.id===2){let R=Math.abs(S[r.idNumberToKey(2)].max.right-_.max.right);y+=R}else if(T.id===3){let R=Math.abs(S[r.idNumberToKey(3)].max.left-_.max.left);y+=R,D=V({},D),D.left-=R}else if(T.id===25){let R=Math.abs(S[r.idNumberToKey(25)].max.bottom-_.max.bottom);m+=R}})}r.selectionBoundingBox.top=`${l.y-d*this.scale}px`,r.selectionBoundingBox.left=`${l.x-(h?D.right:-D.left)*this.scale}px`,r.selectionBoundingBox.width=`${y*this.scale}px`,r.selectionBoundingBox.height=`${m*this.scale}px`,r.rotatable&&(r.selectionBoundingBox["transform-origin"]=`${(h?D.right:-D.left)*this.scale}px ${d*this.scale}px`,r.selectionBoundingBox.transform=`rotate(${r.rotation}deg)`),r.rotatable&&(r.center.top=`calc(${l.y}px - 0.5rem)`,r.center.left=`calc(${l.x}px - 0.5rem)`)}selectOneGrapheme(n,r=!0){n===-1&&r?(this.mainSelection=-1,this.selectedGraphemes=[],this.attachSelection=-1):this.mainSelection!==n?(this.mainSelection=n,this.selectedGraphemes=[n],this.attachSelection=-1):this.mainSelection===n&&(this.selectedGraphemes=[n])}selectLastGrapheme(n=!0){this.selectMultipleGraphemes(this.graphemesService.graphemes.length-1,n)}selectMultipleGraphemes(n,r=!0){this.selectedGraphemes.includes(n)?this.mainSelection===n&&r?(this.selectedGraphemes=this.selectedGraphemes.filter(i=>i!==n),this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1):(this.selectedGraphemes=this.selectedGraphemes.filter(i=>i!==n),this.selectedGraphemes.push(n),this.mainSelection=n):(this.selectedGraphemes.push(n),this.mainSelection=n)}deselectGrapheme(n){this.selectedGraphemes=this.selectedGraphemes.filter(r=>r!==n),this.mainSelection===n&&(this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1)}deselectAllGraphemes(){this.selectedGraphemes=[],this.mainSelection=-1}selectAllGraphemes(){this.selectedGraphemes=[],this.graphemesService.graphemes.forEach((n,r)=>{n.deleted||this.selectedGraphemes.push(r)}),this.mainSelection==-1&&(this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1])}invertSelection(){let n=[];this.graphemesService.graphemes.forEach((r,i)=>{!r.deleted&&!this.selectedGraphemes.includes(i)&&n.push(i)}),this.selectedGraphemes=n,this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1}calculateToolbarPosition(n,r,i,o,s){let l=Math.cos(s*Math.PI/180),d=Math.sin(s*Math.PI/180),h=[{x:n*l-r*d,y:n*d+r*l},{x:i*l-r*d,y:i*d+r*l},{x:n*l-o*d,y:n*d+o*l},{x:i*l-o*d,y:i*d+o*l}],y=h.reduce((_,S)=>S.x<_.x?S:_),m=h.reduce((_,S)=>S.x>_.x?S:_),D=h.reduce((_,S)=>S.y<_.y?S:_);return{x:(y.x+m.x)/2,y:D.y}}calculateSelectionToolbarPosition(){let n=[];this.selectedGraphemes.forEach(s=>{let l=this.graphemesService.graphemes[s],d=this.graphemesService.calculateRotatedGraphemeFootprintOnCanvas(l);d.minX=this.graphemeCoordinatesToClientCoordinates(d.minX,d.minY).x,d.minY=this.graphemeCoordinatesToClientCoordinates(d.minX,d.minY).y,d.maxX=this.graphemeCoordinatesToClientCoordinates(d.maxX,d.maxY).x,d.maxY=this.graphemeCoordinatesToClientCoordinates(d.maxX,d.maxY).y,n.push(d)});let r=Math.min(...n.map(s=>s.minX)),i=Math.max(...n.map(s=>s.maxX)),o=Math.min(...n.map(s=>s.minY));return{x:(r+i)/2,y:o}}adaptCanvasToView(){let n=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,r=this.designerCanvas.nativeElement.getBoundingClientRect?.().height;this.originalCanvasWidth===-1||this.originalCanvasHeight===-1?this.scaleCanvasToPrintWidth(2048):n<r?(this.panCanvasTo(this.canvasCenterX-n/2/this.scale,this.canvasCenterY-r/2/this.scale),this.scaleCanvasToPrintWidth(this.originalCanvasWidth/this.scale)):(this.panCanvasTo(this.canvasCenterX-n/2/this.scale,this.canvasCenterY-r/2/this.scale),this.scaleCanvasToPrintHeight(this.originalCanvasHeight/this.scale)),this.originalCanvasWidth=n,this.originalCanvasHeight=r}scaleCanvasToPrintWidth(n){this.originalCanvasWidth=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,this.originalCanvasHeight=this.designerCanvas.nativeElement.getBoundingClientRect?.().height,this.scale=this.originalCanvasWidth/n}scaleCanvasToPrintHeight(n){this.originalCanvasWidth=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,this.originalCanvasHeight=this.designerCanvas.nativeElement.getBoundingClientRect?.().height,this.scale=this.originalCanvasHeight/n}graphemeCoordinatesToClientCoordinates(n,r){return{x:n*this.scale-this.canvasViewOffsetX*this.scale+this.designerCanvas.nativeElement.getBoundingClientRect?.().left,y:r*this.scale-this.canvasViewOffsetY*this.scale+this.designerCanvas.nativeElement.getBoundingClientRect?.().top}}clientCoordinatesToGraphemeCoordinates(n,r){let i=this.clientCoordinatesToCanvasCoordinates(n,r);return{x:i.x/this.scale+this.canvasViewOffsetX,y:i.y/this.scale+this.canvasViewOffsetY}}clientCoordinatesToCanvasCoordinates(n,r){return{x:n-this.designerCanvas.nativeElement.getBoundingClientRect?.().left,y:r-this.designerCanvas.nativeElement.getBoundingClientRect?.().top}}graphemeCoordinatesToCanvasCoordinates(n,r){return{x:n*this.scale-this.canvasViewOffsetX*this.scale,y:r*this.scale-this.canvasViewOffsetY*this.scale}}setAddMenuStyle(n,r){n+this.addMenuWidth>window.innerWidth?this.addMenuStyle={top:`${r}px`,left:"auto",right:"0px"}:this.addMenuStyle={top:`${r}px`,left:`${n}px`,right:"auto"}}clientCoordinateOverCanvas(n,r){let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom}clientCoordinateOverMainSelectionGrapheme(n,r){let i=this.mainSelectionBoundingBox.nativeElement.getBoundingClientRect?.();return n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom}static{this.\u0275fac=function(r){return new(r||e)(Ve(oo),Ve(db),Ve(Yb),Ve(Vn),Ve($n))}}static{this.\u0275cmp=ar({type:e,selectors:[["app-root"]],viewQuery:function(r,i){if(r&1&&(Ot(IA,5),Ot(MA,5),Ot(TA,5),Ot(AA,5),Ot(NA,5),Ot(OA,5),Ot(RA,5),Ot(PA,5)),r&2){let o;xt(o=Dt())&&(i.designerCanvas=o.first),xt(o=Dt())&&(i.addGraphemeButton=o.first),xt(o=Dt())&&(i.panelTopButtonsContainer=o.first),xt(o=Dt())&&(i.addTypeMenu=o.first),xt(o=Dt())&&(i.addAttachMenu=o.first),xt(o=Dt())&&(i.mainSelectionBoundingBox=o.first),xt(o=Dt())&&(i.addAttachToolbarButton=o.first),xt(o=Dt())&&(i.panelLayerAddAttachButtons=o)}},hostBindings:function(r,i){r&1&&Xe("resize",function(s){return i.onResize(s)},!1,$v)},standalone:!0,features:[hr],decls:25,vars:12,consts:[["panelTopButtonsContainer",""],["addGraphemeButton",""],["designerCanvas",""],["panelLayerAddAttachButton",""],["graphemes",""],["mainSelectionBoundingBox",""],["graphemeUnlocked",""],["graphemeLocked",""],["addAttachToolbarButton",""],["addTypeMenu",""],["addAttachMenu",""],["id","panel-resize-border",1,"panel-resize-border","uninteractive",3,"ngStyle"],[1,"panel","uninteractive",3,"ngStyle"],[1,"panel-content-container"],["id","panel-top-buttons-container",1,"panel-top-buttons-container"],["id","panel-add-button",1,"panel-add-button","panel-content",3,"click"],["src","../assets/add-outline.svg",1,"add-icon"],[1,"add-text"],[1,"export-button","panel-content",3,"click"],["src","../assets/arrow-up-circle-outline.svg",1,"export-icon"],[1,"panel-layers-container",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"header"],["id","rotation-line","class","rotation-line","width","2","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["id","designer-canvas",1,"designer-canvas","uninteractive",3,"ngStyle"],["class","x-axis",3,"ngStyle",4,"ngIf"],["class","y-axis",3,"ngStyle",4,"ngIf"],["class","add-menu",3,"ngStyle",4,"ngIf"],["class","panel-layer panel-content",3,"ngClass",4,"ngIf"],[1,"panel-layer","panel-content",3,"ngClass"],[1,"panel-layer-icon-container"],["inert","","src","assets/params/precomposed/movement/01.svg",1,"panel-layer-icon","uninteractive"],[1,"panel-layer-content"],[1,"panel-layer-text-container"],[1,"panel-layer-text"],[1,"panel-layer-properties-container"],[1,"panel-layer-field"],[1,"panel-layer-label"],["type","number",1,"panel-layer-input","uninteractive",3,"input","change","readOnly","value","disabled","ngClass"],["inert","","src","assets/params/precomposed/movement/02.svg",1,"panel-layer-icon","uninteractive"],["inert","",1,"panel-layer-icon","uninteractive",3,"src"],[1,"panel-layer-input-rotation-suffix","uninteractive"],[1,"panel-layer-button"],[1,"panel-layer-button",3,"click"],["inert","","src","assets/unlocked_large.svg",1,"icon"],["inert","","src","assets/duplicate_large.svg",1,"icon"],["inert","","src","assets/delete_large.svg",1,"icon"],["inert","","src","assets/flip_large_unflipped.svg",1,"icon"],["inert","","src","assets/flip_large_flipped.svg",1,"icon"],["inert","","src","assets/add_large.svg",1,"icon"],["inert","","src","assets/locked_large.svg",1,"icon"],["id","rotation-line","width","2","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"rotation-line",3,"ngStyle"],["id","rotation-line-path",2,"fill","none","stroke","#000000","stroke-width","2","stroke-dasharray","6, 3"],["class","grapheme draggable uninteractive",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"grapheme","draggable","uninteractive",3,"ngStyle"],["inert","",3,"src"],[1,"grapheme","attach","draggable","uninteractive",3,"ngStyle"],[1,"x-axis",3,"ngStyle"],[1,"y-axis",3,"ngStyle"],[1,"grapheme-selection-bounding-box","draggable","uninteractive","main-selection",3,"ngStyle"],["class","grapheme-toolbar uninteractive",3,"ngStyle",4,"ngIf"],["class","grapheme-center draggable uninteractive",3,"ngStyle",4,"ngIf"],["class","grapheme-selection-bounding-box draggable uninteractive main-selection",3,"ngStyle",4,"ngIf"],[1,"grapheme-selection-bounding-box","draggable","uninteractive","secondary-selection",3,"ngStyle"],["class","grapheme-selection-bounding-box draggable uninteractive secondary-selection",3,"ngStyle",4,"ngIf"],[1,"grapheme-toolbar","uninteractive",3,"ngStyle"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"toolbar-item","add-attach-button","uninteractive"],["inert","","src","assets/add.svg",1,"icon"],[1,"toolbar-item","lock-button","uninteractive"],["inert","","src","assets/unlocked.svg",1,"icon"],[1,"toolbar-item","duplicate-button","uninteractive"],["inert","","src","assets/duplicate.svg",1,"icon"],[1,"toolbar-item","delete-button","uninteractive"],["inert","","src","assets/delete.svg",1,"icon"],[1,"toolbar-item","rotation-handle","uninteractive"],["inert","","src","assets/rotate.svg",1,"icon"],[1,"toolbar-item","flip-button","uninteractive"],["inert","","src","assets/flip_unflipped.svg",1,"icon"],["inert","","src","assets/flip_flipped.svg",1,"icon"],[1,"toolbar-item","delete-attach-button","uninteractive"],["inert","","src","assets/locked.svg",1,"icon"],[1,"grapheme-center","draggable","uninteractive",3,"ngStyle"],["inert","","src","assets/center.svg"],[1,"add-menu",3,"ngStyle"],[3,"onAdd","width"],[3,"onAdd","width","height","type"]],template:function(r,i){if(r&1){let o=Nt();K(0,"div",11),W(1,"div",12)(2,"div",13)(3,"div",14,0)(5,"button",15,1),Xe("click",function(){return Ue(o),He(i.addGraphemeButtonHandler())}),K(7,"img",16),W(8,"div",17),Bn(9,"Adicionar"),q()(),W(10,"button",18),Xe("click",function(){return Ue(o),He(i.exportButtonHandler())}),K(11,"img",19),q()(),W(12,"div",20),_e(13,ZA,2,1,"ng-container",21),q()()(),K(14,"header",22),_e(15,JA,2,3,"svg",23),W(16,"div",24,2),_e(18,rN,4,2,"ng-container",21)(19,iN,1,1,"div",25)(20,oN,1,1,"div",26)(21,_N,5,3,"div",21),q(),_e(22,EN,3,3,"div",27)(23,SN,3,5,"div",27),K(24,"router-outlet")}r&2&&(Z("ngStyle",i.panelResizeBorderStyle),G(),Z("ngStyle",i.panelStyle),G(11),Z("ngStyle",i.panelLayersStyle),G(),Z("ngForOf",i.graphemesService.graphemes),G(2),Z("ngIf",i.rotating),G(),Z("ngStyle",i.canvasStyle),G(2),Z("ngForOf",i.graphemesService.graphemes),G(),Z("ngIf",!i.allowYMotion&&i.keyboardMoving),G(),Z("ngIf",!i.allowXMotion&&i.keyboardMoving),G(),Z("ngForOf",i.graphemesService.graphemes),G(),Z("ngIf",i.addGraphemeMenuOpen),G(),Z("ngIf",i.addAttachMenuOpen))},dependencies:[ch,Kr,r0,Wi,kc,qi,ub,rl],styles:[".header[_ngcontent-%COMP%]{position:relative;width:100%;height:3rem;background-color:#0049c7;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;z-index:2}.panel[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;position:absolute;background-color:#42525b;z-index:2}.panel-content-container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.panel-top-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:5rem}.panel-add-button[_ngcontent-%COMP%]{width:calc(100% - 3.5rem);height:3rem;border-radius:.25rem;background-color:#1dd584;border-color:#0b665a;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d}.add-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.add-text[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:700;font-size:1rem;width:calc(100% - 2rem)}.export-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:.25rem;background-color:#455d6b;border-color:#7b7b7b;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d}.export-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.panel-layers-container[_ngcontent-%COMP%]{display:box;overflow-y:auto;scrollbar-color:#7b7b7b #455d6b;scrollbar-width:thin}.panel-layer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;align-items:center;height:4rem;border:2px solid #7b7b7b;border-radius:.5rem;margin-bottom:.25rem;background-color:#1b2329}.panel-layer-main-selection[_ngcontent-%COMP%]{border:2px solid white!important;background-color:#12486b!important}.panel-layer-secondary-selection[_ngcontent-%COMP%]{border:2px solid #bbbbbb!important;background-color:#575e63!important}.panel-layer[_ngcontent-%COMP%]:last-child{margin-bottom:0}.panel-layer-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#fff;border-radius:calc(.5rem - 2px) 0 0 calc(.5rem - 2px);border-right:2px solid #7b7b7b}.panel-layer-icon[_ngcontent-%COMP%]{height:4rem;width:4rem}.panel-layer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:calc(100% - 4rem);height:100%;padding:0 .25rem}.panel-layer-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1rem;padding:.125rem .25rem;width:calc(100% - .5rem);background-color:#2c373d;color:#cfcfcf;border:1px solid #7b7b7b;font-family:sans-serif;border-radius:.25rem}.panel-layer-properties-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:end;width:100%;font-family:sans-serif}.panel-layer-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;height:1.25rem;border-radius:.25rem;background-color:#2c373d;border:1px solid #7b7b7b;padding:.25rem;font-size:1rem;margin-right:.125rem;cursor:ew-resize}.panel-layer-field[_ngcontent-%COMP%]:focus-within{cursor:text}.panel-layer-label[_ngcontent-%COMP%]{color:#7b7b7b}.panel-layer-input[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#cfcfcf;width:calc(100% - 1rem);appearance:textfield;-moz-appearance:textfield;cursor:ew-resize}.panel-layer-input[_ngcontent-%COMP%]::selection{background-color:#7b7b7b;color:#fff}.panel-layer-input-dragging[_ngcontent-%COMP%]{cursor:ew-resize}.panel-layer-input-dragging[_ngcontent-%COMP%]::selection{background-color:transparent!important}.panel-layer-input[_ngcontent-%COMP%]:focus{outline:none;cursor:text}.panel-layer-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}.panel-layer-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.panel-layer-input-rotation-suffix[_ngcontent-%COMP%]{color:#7b7b7b}.panel-layer-button[_ngcontent-%COMP%]{height:100%;aspect-ratio:1/1;padding:.25rem;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:.25rem;background-color:#2c373d;border:1px solid #7b7b7b;margin-right:.125rem}.panel-layer-button[_ngcontent-%COMP%]:last-child{margin-right:0}.panel-resize-border[_ngcontent-%COMP%]{position:absolute;background-color:transparent;z-index:4}.add-menu[_ngcontent-%COMP%]{position:absolute;z-index:7}.grapheme[_ngcontent-%COMP%]{position:absolute;z-index:2}.attach[_ngcontent-%COMP%]{z-index:4}.grapheme-toolbar[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;justify-content:space-between;height:2rem;padding:.125rem;border-radius:1000rem;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d;z-index:5;background-color:#fff}.toolbar-item[_ngcontent-%COMP%]{width:2rem;height:2rem}.designer-canvas[_ngcontent-%COMP%]{position:absolute;background-color:#fff;overflow:hidden;z-index:1}.grapheme-selection-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:3}.main-selection[_ngcontent-%COMP%]{outline:2px solid blue}.secondary-selection[_ngcontent-%COMP%]{outline:2px solid rgba(0,0,255,.4980392157)}.grapheme-center[_ngcontent-%COMP%]{position:absolute;z-index:5;width:1rem;height:1rem}.x-axis[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:2px;background-color:red}.y-axis[_ngcontent-%COMP%]{position:absolute;z-index:1;height:100%;width:2px;background-color:#0f0}.rotation-line[_ngcontent-%COMP%]{position:absolute;z-index:6;transform-origin:0px 0px}"]})}}return e})();D0(Xb,ab).catch(e=>console.error(e));
