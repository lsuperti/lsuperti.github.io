var ux=Object.create;var oa=Object.defineProperty,dx=Object.defineProperties,fx=Object.getOwnPropertyDescriptor,hx=Object.getOwnPropertyDescriptors,px=Object.getOwnPropertyNames,ia=Object.getOwnPropertySymbols,mx=Object.getPrototypeOf,Ul=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable;var Zp=(e,t,n)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,j=(e,t)=>{for(var n in t||={})Ul.call(t,n)&&Zp(e,n,t[n]);if(ia)for(var n of ia(t))Jp.call(t,n)&&Zp(e,n,t[n]);return e},Le=(e,t)=>dx(e,hx(t));var em=(e,t)=>{var n={};for(var r in e)Ul.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&ia)for(var r of ia(e))t.indexOf(r)<0&&Jp.call(e,r)&&(n[r]=e[r]);return n};var gx=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),vi=(e,t)=>{for(var n in t)oa(e,n,{get:t[n],enumerable:!0})},vx=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of px(t))!Ul.call(e,i)&&i!==n&&oa(e,i,{get:()=>t[i],enumerable:!(r=fx(t,i))||r.enumerable});return e};var yx=(e,t,n)=>(n=e!=null?ux(mx(e)):{},vx(t||!e||!e.__esModule?oa(n,"default",{value:e,enumerable:!0}):n,e));var lb=gx((vh,ni)=>{"use strict";(function(e,t){typeof vh=="object"&&typeof ni<"u"?ni.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).interact=t()})(vh,function(){"use strict";function e(c,a){var u=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);a&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable})),u.push.apply(u,f)}return u}function t(c){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?e(Object(u),!0).forEach(function(f){s(c,f,u[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(u)):e(Object(u)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(u,f))})}return c}function n(c){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},n(c)}function r(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")}function i(c,a){for(var u=0;u<a.length;u++){var f=a[u];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,_(f.key),f)}}function o(c,a,u){return a&&i(c.prototype,a),u&&i(c,u),Object.defineProperty(c,"prototype",{writable:!1}),c}function s(c,a,u){return(a=_(a))in c?Object.defineProperty(c,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):c[a]=u,c}function l(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),a&&h(c,a)}function d(c){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},d(c)}function h(c,a){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(u,f){return u.__proto__=f,u},h(c,a)}function v(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function m(c){var a=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,f=d(c);if(a){var p=d(this).constructor;u=Reflect.construct(f,arguments,p)}else u=f.apply(this,arguments);return function(g,y){if(y&&(typeof y=="object"||typeof y=="function"))return y;if(y!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(g)}(this,u)}}function D(){return D=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,a,u){var f=function(g,y){for(;!Object.prototype.hasOwnProperty.call(g,y)&&(g=d(g))!==null;);return g}(c,a);if(f){var p=Object.getOwnPropertyDescriptor(f,a);return p.get?p.get.call(arguments.length<3?c:u):p.value}},D.apply(this,arguments)}function _(c){var a=function(u,f){if(typeof u!="object"||u===null)return u;var p=u[Symbol.toPrimitive];if(p!==void 0){var g=p.call(u,f||"default");if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(f==="string"?String:Number)(u)}(c,"string");return typeof a=="symbol"?a:a+""}var S=function(c){return!(!c||!c.Window)&&c instanceof c.Window},T=void 0,k=void 0;function R(c){T=c;var a=c.document.createTextNode("");a.ownerDocument!==c.document&&typeof c.wrap=="function"&&c.wrap(a)===a&&(c=c.wrap(c)),k=c}function fe(c){return S(c)?c:(c.ownerDocument||c).defaultView||k.window}typeof window<"u"&&window&&R(window);var pe=function(c){return!!c&&n(c)==="object"},Oe=function(c){return typeof c=="function"},I={window:function(c){return c===k||S(c)},docFrag:function(c){return pe(c)&&c.nodeType===11},object:pe,func:Oe,number:function(c){return typeof c=="number"},bool:function(c){return typeof c=="boolean"},string:function(c){return typeof c=="string"},element:function(c){if(!c||n(c)!=="object")return!1;var a=fe(c)||k;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?c instanceof Element||c instanceof a.Element:c.nodeType===1&&typeof c.nodeName=="string"},plainObject:function(c){return pe(c)&&!!c.constructor&&/function Object\b/.test(c.constructor.toString())},array:function(c){return pe(c)&&c.length!==void 0&&Oe(c.splice)}};function Se(c){var a=c.interaction;if(a.prepared.name==="drag"){var u=a.prepared.axis;u==="x"?(a.coords.cur.page.y=a.coords.start.page.y,a.coords.cur.client.y=a.coords.start.client.y,a.coords.velocity.client.y=0,a.coords.velocity.page.y=0):u==="y"&&(a.coords.cur.page.x=a.coords.start.page.x,a.coords.cur.client.x=a.coords.start.client.x,a.coords.velocity.client.x=0,a.coords.velocity.page.x=0)}}function Je(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="drag"){var f=u.prepared.axis;if(f==="x"||f==="y"){var p=f==="x"?"y":"x";a.page[p]=u.coords.start.page[p],a.client[p]=u.coords.start.client[p],a.delta[p]=0}}}var ht={id:"actions/drag",install:function(c){var a=c.actions,u=c.Interactable,f=c.defaults;u.prototype.draggable=ht.draggable,a.map.drag=ht,a.methodDict.drag="draggable",f.actions.drag=ht.defaults},listeners:{"interactions:before-action-move":Se,"interactions:action-resume":Se,"interactions:action-move":Je,"auto-start:check":function(c){var a=c.interaction,u=c.interactable,f=c.buttons,p=u.options.drag;if(p&&p.enabled&&(!a.pointerIsDown||!/mouse|pointer/.test(a.pointerType)||f&u.options.drag.mouseButtons))return c.action={name:"drag",axis:p.lockAxis==="start"?p.startAxis:p.lockAxis},!1}},draggable:function(c){return I.object(c)?(this.options.drag.enabled=c.enabled!==!1,this.setPerAction("drag",c),this.setOnEvents("drag",c),/^(xy|x|y|start)$/.test(c.lockAxis)&&(this.options.drag.lockAxis=c.lockAxis),/^(xy|x|y)$/.test(c.startAxis)&&(this.options.drag.startAxis=c.startAxis),this):I.bool(c)?(this.options.drag.enabled=c,this):this.options.drag},beforeMove:Se,move:Je,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(c){return c.search("drag")===0}},In=ht,Ue={init:function(c){var a=c;Ue.document=a.document,Ue.DocumentFragment=a.DocumentFragment||pi,Ue.SVGElement=a.SVGElement||pi,Ue.SVGSVGElement=a.SVGSVGElement||pi,Ue.SVGElementInstance=a.SVGElementInstance||pi,Ue.Element=a.Element||pi,Ue.HTMLElement=a.HTMLElement||Ue.Element,Ue.Event=a.Event,Ue.Touch=a.Touch||pi,Ue.PointerEvent=a.PointerEvent||a.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function pi(){}var ut=Ue,Rt={init:function(c){var a=ut.Element,u=c.navigator||{};Rt.supportsTouch="ontouchstart"in c||I.func(c.DocumentTouch)&&ut.document instanceof c.DocumentTouch,Rt.supportsPointerEvent=u.pointerEnabled!==!1&&!!ut.PointerEvent,Rt.isIOS=/iP(hone|od|ad)/.test(u.platform),Rt.isIOS7=/iP(hone|od|ad)/.test(u.platform)&&/OS 7[^\d]/.test(u.appVersion),Rt.isIe9=/MSIE 9/.test(u.userAgent),Rt.isOperaMobile=u.appName==="Opera"&&Rt.supportsTouch&&/Presto/.test(u.userAgent),Rt.prefixedMatchesSelector="matches"in a.prototype?"matches":"webkitMatchesSelector"in a.prototype?"webkitMatchesSelector":"mozMatchesSelector"in a.prototype?"mozMatchesSelector":"oMatchesSelector"in a.prototype?"oMatchesSelector":"msMatchesSelector",Rt.pEventTypes=Rt.supportsPointerEvent?ut.PointerEvent===c.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,Rt.wheelEvent=ut.document&&"onmousewheel"in ut.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},Jt=Rt;function Mr(c,a){if(c.contains)return c.contains(a);for(;a;){if(a===c)return!0;a=a.parentNode}return!1}function np(c,a){for(;I.element(c);){if(Kn(c,a))return c;c=Mn(c)}return null}function Mn(c){var a=c.parentNode;if(I.docFrag(a)){for(;(a=a.host)&&I.docFrag(a););return a}return a}function Kn(c,a){return k!==T&&(a=a.replace(/\/deep\//g," ")),c[Jt.prefixedMatchesSelector](a)}var ml=function(c){return c.parentNode||c.host};function rp(c,a){for(var u,f=[],p=c;(u=ml(p))&&p!==a&&u!==p.ownerDocument;)f.unshift(p),p=u;return f}function gl(c,a,u){for(;I.element(c);){if(Kn(c,a))return!0;if((c=Mn(c))===u)return Kn(c,a)}return!1}function ip(c){return c.correspondingUseElement||c}function vl(c){var a=c instanceof ut.SVGElement?c.getBoundingClientRect():c.getClientRects()[0];return a&&{left:a.left,right:a.right,top:a.top,bottom:a.bottom,width:a.width||a.right-a.left,height:a.height||a.bottom-a.top}}function yl(c){var a,u=vl(c);if(!Jt.isIOS7&&u){var f={x:(a=(a=fe(c))||k).scrollX||a.document.documentElement.scrollLeft,y:a.scrollY||a.document.documentElement.scrollTop};u.left+=f.x,u.right+=f.x,u.top+=f.y,u.bottom+=f.y}return u}function op(c){for(var a=[];c;)a.push(c),c=Mn(c);return a}function sp(c){return!!I.string(c)&&(ut.document.querySelector(c),!0)}function G(c,a){for(var u in a)c[u]=a[u];return c}function ap(c,a,u){return c==="parent"?Mn(u):c==="self"?a.getRect(u):np(u,c)}function Co(c,a,u,f){var p=c;return I.string(p)?p=ap(p,a,u):I.func(p)&&(p=p.apply(void 0,f)),I.element(p)&&(p=yl(p)),p}function Hs(c){return c&&{x:"x"in c?c.x:c.left,y:"y"in c?c.y:c.top}}function bl(c){return!c||"x"in c&&"y"in c||((c=G({},c)).x=c.left||0,c.y=c.top||0,c.width=c.width||(c.right||0)-c.x,c.height=c.height||(c.bottom||0)-c.y),c}function zs(c,a,u){c.left&&(a.left+=u.x),c.right&&(a.right+=u.x),c.top&&(a.top+=u.y),c.bottom&&(a.bottom+=u.y),a.width=a.right-a.left,a.height=a.bottom-a.top}function _o(c,a,u){var f=u&&c.options[u];return Hs(Co(f&&f.origin||c.options.origin,c,a,[c&&a]))||{x:0,y:0}}function Tr(c,a){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(w){return!0},f=arguments.length>3?arguments[3]:void 0;if(f=f||{},I.string(c)&&c.search(" ")!==-1&&(c=cp(c)),I.array(c))return c.forEach(function(w){return Tr(w,a,u,f)}),f;if(I.object(c)&&(a=c,c=""),I.func(a)&&u(c))f[c]=f[c]||[],f[c].push(a);else if(I.array(a))for(var p=0,g=a;p<g.length;p++){var y=g[p];Tr(c,y,u,f)}else if(I.object(a))for(var b in a)Tr(cp(b).map(function(w){return"".concat(c).concat(w)}),a[b],u,f);return f}function cp(c){return c.trim().split(/ +/)}var Eo=function(c,a){return Math.sqrt(c*c+a*a)},Qb=["webkit","moz"];function Gs(c,a){c.__set||(c.__set={});var u=function(p){if(Qb.some(function(g){return p.indexOf(g)===0}))return 1;typeof c[p]!="function"&&p!=="__set"&&Object.defineProperty(c,p,{get:function(){return p in c.__set?c.__set[p]:c.__set[p]=a[p]},set:function(g){c.__set[p]=g},configurable:!0})};for(var f in a)u(f);return c}function Ws(c,a){c.page=c.page||{},c.page.x=a.page.x,c.page.y=a.page.y,c.client=c.client||{},c.client.x=a.client.x,c.client.y=a.client.y,c.timeStamp=a.timeStamp}function lp(c){c.page.x=0,c.page.y=0,c.client.x=0,c.client.y=0}function up(c){return c instanceof ut.Event||c instanceof ut.Touch}function qs(c,a,u){return c=c||"page",(u=u||{}).x=a[c+"X"],u.y=a[c+"Y"],u}function dp(c,a){return a=a||{x:0,y:0},Jt.isOperaMobile&&up(c)?(qs("screen",c,a),a.x+=window.scrollX,a.y+=window.scrollY):qs("page",c,a),a}function So(c){return I.number(c.pointerId)?c.pointerId:c.identifier}function Zb(c,a,u){var f=a.length>1?fp(a):a[0];dp(f,c.page),function(p,g){g=g||{},Jt.isOperaMobile&&up(p)?qs("screen",p,g):qs("client",p,g)}(f,c.client),c.timeStamp=u}function wl(c){var a=[];return I.array(c)?(a[0]=c[0],a[1]=c[1]):c.type==="touchend"?c.touches.length===1?(a[0]=c.touches[0],a[1]=c.changedTouches[0]):c.touches.length===0&&(a[0]=c.changedTouches[0],a[1]=c.changedTouches[1]):(a[0]=c.touches[0],a[1]=c.touches[1]),a}function fp(c){for(var a={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},u=0;u<c.length;u++){var f=c[u];for(var p in a)a[p]+=f[p]}for(var g in a)a[g]/=c.length;return a}function xl(c){if(!c.length)return null;var a=wl(c),u=Math.min(a[0].pageX,a[1].pageX),f=Math.min(a[0].pageY,a[1].pageY),p=Math.max(a[0].pageX,a[1].pageX),g=Math.max(a[0].pageY,a[1].pageY);return{x:u,y:f,left:u,top:f,right:p,bottom:g,width:p-u,height:g-f}}function Dl(c,a){var u=a+"X",f=a+"Y",p=wl(c),g=p[0][u]-p[1][u],y=p[0][f]-p[1][f];return Eo(g,y)}function Cl(c,a){var u=a+"X",f=a+"Y",p=wl(c),g=p[1][u]-p[0][u],y=p[1][f]-p[0][f];return 180*Math.atan2(y,g)/Math.PI}function hp(c){return I.string(c.pointerType)?c.pointerType:I.number(c.pointerType)?[void 0,void 0,"touch","pen","mouse"][c.pointerType]:/touch/.test(c.type||"")||c instanceof ut.Touch?"touch":"mouse"}function pp(c){var a=I.func(c.composedPath)?c.composedPath():c.path;return[ip(a?a[0]:c.target),ip(c.currentTarget)]}var Ys=function(){function c(a){r(this,c),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=a}return o(c,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),c}();Object.defineProperty(Ys.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var mp=function(c,a){for(var u=0;u<a.length;u++){var f=a[u];c.push(f)}return c},gp=function(c){return mp([],c)},Io=function(c,a){for(var u=0;u<c.length;u++)if(a(c[u],u,c))return u;return-1},Mo=function(c,a){return c[Io(c,a)]},mi=function(c){l(u,c);var a=m(u);function u(f,p,g){var y;r(this,u),(y=a.call(this,p._interaction)).dropzone=void 0,y.dragEvent=void 0,y.relatedTarget=void 0,y.draggable=void 0,y.propagationStopped=!1,y.immediatePropagationStopped=!1;var b=g==="dragleave"?f.prev:f.cur,w=b.element,C=b.dropzone;return y.type=g,y.target=w,y.currentTarget=w,y.dropzone=C,y.dragEvent=p,y.relatedTarget=p.target,y.draggable=p.interactable,y.timeStamp=p.timeStamp,y}return o(u,[{key:"reject",value:function(){var f=this,p=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&p.cur.dropzone===this.dropzone&&p.cur.element===this.target)if(p.prev.dropzone=this.dropzone,p.prev.element=this.target,p.rejected=!0,p.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var g=p.activeDrops,y=Io(g,function(w){var C=w.dropzone,x=w.element;return C===f.dropzone&&x===f.target});p.activeDrops.splice(y,1);var b=new u(p,this.dragEvent,"dropdeactivate");b.dropzone=this.dropzone,b.target=this.target,this.dropzone.fire(b)}else this.dropzone.fire(new u(p,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),u}(Ys);function vp(c,a){for(var u=0,f=c.slice();u<f.length;u++){var p=f[u],g=p.dropzone,y=p.element;a.dropzone=g,a.target=y,g.fire(a),a.propagationStopped=a.immediatePropagationStopped=!1}}function _l(c,a){for(var u=function(g,y){for(var b=[],w=0,C=g.interactables.list;w<C.length;w++){var x=C[w];if(x.options.drop.enabled){var E=x.options.drop.accept;if(!(I.element(E)&&E!==y||I.string(E)&&!Kn(y,E)||I.func(E)&&!E({dropzone:x,draggableElement:y})))for(var M=0,N=x.getAllElements();M<N.length;M++){var A=N[M];A!==y&&b.push({dropzone:x,element:A,rect:x.getRect(A)})}}}return b}(c,a),f=0;f<u.length;f++){var p=u[f];p.rect=p.dropzone.getRect(p.element)}return u}function yp(c,a,u){for(var f=c.dropState,p=c.interactable,g=c.element,y=[],b=0,w=f.activeDrops;b<w.length;b++){var C=w[b],x=C.dropzone,E=C.element,M=C.rect,N=x.dropCheck(a,u,p,g,E,M);y.push(N?E:null)}var A=function(O){for(var U,L,H,ce=[],ve=0;ve<O.length;ve++){var ee=O[ve],ue=O[U];if(ee&&ve!==U)if(ue){var mt=ml(ee),je=ml(ue);if(mt!==ee.ownerDocument)if(je!==ee.ownerDocument)if(mt!==je){ce=ce.length?ce:rp(ue);var _t=void 0;if(ue instanceof ut.HTMLElement&&ee instanceof ut.SVGElement&&!(ee instanceof ut.SVGSVGElement)){if(ee===je)continue;_t=ee.ownerSVGElement}else _t=ee;for(var en=rp(_t,ue.ownerDocument),Nn=0;en[Nn]&&en[Nn]===ce[Nn];)Nn++;var ra=[en[Nn-1],en[Nn],ce[Nn]];if(ra[0])for(var Ro=ra[0].lastChild;Ro;){if(Ro===ra[1]){U=ve,ce=en;break}if(Ro===ra[2])break;Ro=Ro.previousSibling}}else H=ue,(parseInt(fe(L=ee).getComputedStyle(L).zIndex,10)||0)>=(parseInt(fe(H).getComputedStyle(H).zIndex,10)||0)&&(U=ve);else U=ve}else U=ve}return U}(y);return f.activeDrops[A]||null}function El(c,a,u){var f=c.dropState,p={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return u.type==="dragstart"&&(p.activate=new mi(f,u,"dropactivate"),p.activate.target=null,p.activate.dropzone=null),u.type==="dragend"&&(p.deactivate=new mi(f,u,"dropdeactivate"),p.deactivate.target=null,p.deactivate.dropzone=null),f.rejected||(f.cur.element!==f.prev.element&&(f.prev.dropzone&&(p.leave=new mi(f,u,"dragleave"),u.dragLeave=p.leave.target=f.prev.element,u.prevDropzone=p.leave.dropzone=f.prev.dropzone),f.cur.dropzone&&(p.enter=new mi(f,u,"dragenter"),u.dragEnter=f.cur.element,u.dropzone=f.cur.dropzone)),u.type==="dragend"&&f.cur.dropzone&&(p.drop=new mi(f,u,"drop"),u.dropzone=f.cur.dropzone,u.relatedTarget=f.cur.element),u.type==="dragmove"&&f.cur.dropzone&&(p.move=new mi(f,u,"dropmove"),u.dropzone=f.cur.dropzone)),p}function Sl(c,a){var u=c.dropState,f=u.activeDrops,p=u.cur,g=u.prev;a.leave&&g.dropzone.fire(a.leave),a.enter&&p.dropzone.fire(a.enter),a.move&&p.dropzone.fire(a.move),a.drop&&p.dropzone.fire(a.drop),a.deactivate&&vp(f,a.deactivate),u.prev.dropzone=p.dropzone,u.prev.element=p.element}function bp(c,a){var u=c.interaction,f=c.iEvent,p=c.event;if(f.type==="dragmove"||f.type==="dragend"){var g=u.dropState;a.dynamicDrop&&(g.activeDrops=_l(a,u.element));var y=f,b=yp(u,y,p);g.rejected=g.rejected&&!!b&&b.dropzone===g.cur.dropzone&&b.element===g.cur.element,g.cur.dropzone=b&&b.dropzone,g.cur.element=b&&b.element,g.events=El(u,0,y)}}var wp={id:"actions/drop",install:function(c){var a=c.actions,u=c.interactStatic,f=c.Interactable,p=c.defaults;c.usePlugin(In),f.prototype.dropzone=function(g){return function(y,b){if(I.object(b)){if(y.options.drop.enabled=b.enabled!==!1,b.listeners){var w=Tr(b.listeners),C=Object.keys(w).reduce(function(E,M){return E[/^(enter|leave)/.test(M)?"drag".concat(M):/^(activate|deactivate|move)/.test(M)?"drop".concat(M):M]=w[M],E},{}),x=y.options.drop.listeners;x&&y.off(x),y.on(C),y.options.drop.listeners=C}return I.func(b.ondrop)&&y.on("drop",b.ondrop),I.func(b.ondropactivate)&&y.on("dropactivate",b.ondropactivate),I.func(b.ondropdeactivate)&&y.on("dropdeactivate",b.ondropdeactivate),I.func(b.ondragenter)&&y.on("dragenter",b.ondragenter),I.func(b.ondragleave)&&y.on("dragleave",b.ondragleave),I.func(b.ondropmove)&&y.on("dropmove",b.ondropmove),/^(pointer|center)$/.test(b.overlap)?y.options.drop.overlap=b.overlap:I.number(b.overlap)&&(y.options.drop.overlap=Math.max(Math.min(1,b.overlap),0)),"accept"in b&&(y.options.drop.accept=b.accept),"checker"in b&&(y.options.drop.checker=b.checker),y}return I.bool(b)?(y.options.drop.enabled=b,y):y.options.drop}(this,g)},f.prototype.dropCheck=function(g,y,b,w,C,x){return function(E,M,N,A,O,U,L){var H=!1;if(!(L=L||E.getRect(U)))return!!E.options.drop.checker&&E.options.drop.checker(M,N,H,E,U,A,O);var ce=E.options.drop.overlap;if(ce==="pointer"){var ve=_o(A,O,"drag"),ee=dp(M);ee.x+=ve.x,ee.y+=ve.y;var ue=ee.x>L.left&&ee.x<L.right,mt=ee.y>L.top&&ee.y<L.bottom;H=ue&&mt}var je=A.getRect(O);if(je&&ce==="center"){var _t=je.left+je.width/2,en=je.top+je.height/2;H=_t>=L.left&&_t<=L.right&&en>=L.top&&en<=L.bottom}return je&&I.number(ce)&&(H=Math.max(0,Math.min(L.right,je.right)-Math.max(L.left,je.left))*Math.max(0,Math.min(L.bottom,je.bottom)-Math.max(L.top,je.top))/(je.width*je.height)>=ce),E.options.drop.checker&&(H=E.options.drop.checker(M,N,H,E,U,A,O)),H}(this,g,y,b,w,C,x)},u.dynamicDrop=function(g){return I.bool(g)?(c.dynamicDrop=g,u):c.dynamicDrop},G(a.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),a.methodDict.drop="dropzone",c.dynamicDrop=!1,p.actions.drop=wp.defaults},listeners:{"interactions:before-action-start":function(c){var a=c.interaction;a.prepared.name==="drag"&&(a.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(c,a){var u=c.interaction,f=(c.event,c.iEvent);if(u.prepared.name==="drag"){var p=u.dropState;p.activeDrops=[],p.events={},p.activeDrops=_l(a,u.element),p.events=El(u,0,f),p.events.activate&&(vp(p.activeDrops,p.events.activate),a.fire("actions/drop:start",{interaction:u,dragEvent:f}))}},"interactions:action-move":bp,"interactions:after-action-move":function(c,a){var u=c.interaction,f=c.iEvent;if(u.prepared.name==="drag"){var p=u.dropState;Sl(u,p.events),a.fire("actions/drop:move",{interaction:u,dragEvent:f}),p.events={}}},"interactions:action-end":function(c,a){if(c.interaction.prepared.name==="drag"){var u=c.interaction,f=c.iEvent;bp(c,a),Sl(u,u.dropState.events),a.fire("actions/drop:end",{interaction:u,dragEvent:f})}},"interactions:stop":function(c){var a=c.interaction;if(a.prepared.name==="drag"){var u=a.dropState;u&&(u.activeDrops=null,u.events=null,u.cur.dropzone=null,u.cur.element=null,u.prev.dropzone=null,u.prev.element=null,u.rejected=!1)}}},getActiveDrops:_l,getDrop:yp,getDropEvents:El,fireDropEvents:Sl,filterEventType:function(c){return c.search("drag")===0||c.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Jb=wp;function Il(c){var a=c.interaction,u=c.iEvent,f=c.phase;if(a.prepared.name==="gesture"){var p=a.pointers.map(function(C){return C.pointer}),g=f==="start",y=f==="end",b=a.interactable.options.deltaSource;if(u.touches=[p[0],p[1]],g)u.distance=Dl(p,b),u.box=xl(p),u.scale=1,u.ds=0,u.angle=Cl(p,b),u.da=0,a.gesture.startDistance=u.distance,a.gesture.startAngle=u.angle;else if(y||a.pointers.length<2){var w=a.prevEvent;u.distance=w.distance,u.box=w.box,u.scale=w.scale,u.ds=0,u.angle=w.angle,u.da=0}else u.distance=Dl(p,b),u.box=xl(p),u.scale=u.distance/a.gesture.startDistance,u.angle=Cl(p,b),u.ds=u.scale-a.gesture.scale,u.da=u.angle-a.gesture.angle;a.gesture.distance=u.distance,a.gesture.angle=u.angle,I.number(u.scale)&&u.scale!==1/0&&!isNaN(u.scale)&&(a.gesture.scale=u.scale)}}var Ml={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(c){var a=c.actions,u=c.Interactable,f=c.defaults;u.prototype.gesturable=function(p){return I.object(p)?(this.options.gesture.enabled=p.enabled!==!1,this.setPerAction("gesture",p),this.setOnEvents("gesture",p),this):I.bool(p)?(this.options.gesture.enabled=p,this):this.options.gesture},a.map.gesture=Ml,a.methodDict.gesture="gesturable",f.actions.gesture=Ml.defaults},listeners:{"interactions:action-start":Il,"interactions:action-move":Il,"interactions:action-end":Il,"interactions:new":function(c){c.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(c){if(!(c.interaction.pointers.length<2)){var a=c.interactable.options.gesture;if(a&&a.enabled)return c.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(c){return c.search("gesture")===0}},ew=Ml;function tw(c,a,u,f,p,g,y){if(!a)return!1;if(a===!0){var b=I.number(g.width)?g.width:g.right-g.left,w=I.number(g.height)?g.height:g.bottom-g.top;if(y=Math.min(y,Math.abs((c==="left"||c==="right"?b:w)/2)),b<0&&(c==="left"?c="right":c==="right"&&(c="left")),w<0&&(c==="top"?c="bottom":c==="bottom"&&(c="top")),c==="left"){var C=b>=0?g.left:g.right;return u.x<C+y}if(c==="top"){var x=w>=0?g.top:g.bottom;return u.y<x+y}if(c==="right")return u.x>(b>=0?g.right:g.left)-y;if(c==="bottom")return u.y>(w>=0?g.bottom:g.top)-y}return!!I.element(f)&&(I.element(a)?a===f:gl(f,a,p))}function xp(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="resize"&&u.resizeAxes){var f=a;u.interactable.options.resize.square?(u.resizeAxes==="y"?f.delta.x=f.delta.y:f.delta.y=f.delta.x,f.axes="xy"):(f.axes=u.resizeAxes,u.resizeAxes==="x"?f.delta.y=0:u.resizeAxes==="y"&&(f.delta.x=0))}}var Tn,Ar,An={id:"actions/resize",before:["actions/drag"],install:function(c){var a=c.actions,u=c.browser,f=c.Interactable,p=c.defaults;An.cursors=function(g){return g.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(u),An.defaultMargin=u.supportsTouch||u.supportsPointerEvent?20:10,f.prototype.resizable=function(g){return function(y,b,w){return I.object(b)?(y.options.resize.enabled=b.enabled!==!1,y.setPerAction("resize",b),y.setOnEvents("resize",b),I.string(b.axis)&&/^x$|^y$|^xy$/.test(b.axis)?y.options.resize.axis=b.axis:b.axis===null&&(y.options.resize.axis=w.defaults.actions.resize.axis),I.bool(b.preserveAspectRatio)?y.options.resize.preserveAspectRatio=b.preserveAspectRatio:I.bool(b.square)&&(y.options.resize.square=b.square),y):I.bool(b)?(y.options.resize.enabled=b,y):y.options.resize}(this,g,c)},a.map.resize=An,a.methodDict.resize="resizable",p.actions.resize=An.defaults},listeners:{"interactions:new":function(c){c.interaction.resizeAxes="xy"},"interactions:action-start":function(c){(function(a){var u=a.iEvent,f=a.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=u,g=f.rect;f._rects={start:G({},g),corrected:G({},g),previous:G({},g),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},p.edges=f.prepared.edges,p.rect=f._rects.corrected,p.deltaRect=f._rects.delta}})(c),xp(c)},"interactions:action-move":function(c){(function(a){var u=a.iEvent,f=a.interaction;if(f.prepared.name==="resize"&&f.prepared.edges){var p=u,g=f.interactable.options.resize.invert,y=g==="reposition"||g==="negate",b=f.rect,w=f._rects,C=w.start,x=w.corrected,E=w.delta,M=w.previous;if(G(M,x),y){if(G(x,b),g==="reposition"){if(x.top>x.bottom){var N=x.top;x.top=x.bottom,x.bottom=N}if(x.left>x.right){var A=x.left;x.left=x.right,x.right=A}}}else x.top=Math.min(b.top,C.bottom),x.bottom=Math.max(b.bottom,C.top),x.left=Math.min(b.left,C.right),x.right=Math.max(b.right,C.left);for(var O in x.width=x.right-x.left,x.height=x.bottom-x.top,x)E[O]=x[O]-M[O];p.edges=f.prepared.edges,p.rect=x,p.deltaRect=E}})(c),xp(c)},"interactions:action-end":function(c){var a=c.iEvent,u=c.interaction;if(u.prepared.name==="resize"&&u.prepared.edges){var f=a;f.edges=u.prepared.edges,f.rect=u._rects.corrected,f.deltaRect=u._rects.delta}},"auto-start:check":function(c){var a=c.interaction,u=c.interactable,f=c.element,p=c.rect,g=c.buttons;if(p){var y=G({},a.coords.cur.page),b=u.options.resize;if(b&&b.enabled&&(!a.pointerIsDown||!/mouse|pointer/.test(a.pointerType)||g&b.mouseButtons)){if(I.object(b.edges)){var w={left:!1,right:!1,top:!1,bottom:!1};for(var C in w)w[C]=tw(C,b.edges[C],y,a._latestPointer.eventTarget,f,p,b.margin||An.defaultMargin);w.left=w.left&&!w.right,w.top=w.top&&!w.bottom,(w.left||w.right||w.top||w.bottom)&&(c.action={name:"resize",edges:w})}else{var x=b.axis!=="y"&&y.x>p.right-An.defaultMargin,E=b.axis!=="x"&&y.y>p.bottom-An.defaultMargin;(x||E)&&(c.action={name:"resize",axes:(x?"x":"")+(E?"y":"")})}return!c.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(c){var a=c.edges,u=c.axis,f=c.name,p=An.cursors,g=null;if(u)g=p[f+u];else if(a){for(var y="",b=0,w=["top","bottom","left","right"];b<w.length;b++){var C=w[b];a[C]&&(y+=C)}g=p[y]}return g},filterEventType:function(c){return c.search("resize")===0},defaultMargin:null},nw=An,rw={id:"actions",install:function(c){c.usePlugin(ew),c.usePlugin(nw),c.usePlugin(In),c.usePlugin(Jb)}},Dp=0,Qn={request:function(c){return Tn(c)},cancel:function(c){return Ar(c)},init:function(c){if(Tn=c.requestAnimationFrame,Ar=c.cancelAnimationFrame,!Tn)for(var a=["ms","moz","webkit","o"],u=0;u<a.length;u++){var f=a[u];Tn=c["".concat(f,"RequestAnimationFrame")],Ar=c["".concat(f,"CancelAnimationFrame")]||c["".concat(f,"CancelRequestAnimationFrame")]}Tn=Tn&&Tn.bind(c),Ar=Ar&&Ar.bind(c),Tn||(Tn=function(p){var g=Date.now(),y=Math.max(0,16-(g-Dp)),b=c.setTimeout(function(){p(g+y)},y);return Dp=g+y,b},Ar=function(p){return clearTimeout(p)})}},te={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(c){te.isScrolling=!0,Qn.cancel(te.i),c.autoScroll=te,te.interaction=c,te.prevTime=te.now(),te.i=Qn.request(te.scroll)},stop:function(){te.isScrolling=!1,te.interaction&&(te.interaction.autoScroll=null),Qn.cancel(te.i)},scroll:function(){var c=te.interaction,a=c.interactable,u=c.element,f=c.prepared.name,p=a.options[f].autoScroll,g=Cp(p.container,a,u),y=te.now(),b=(y-te.prevTime)/1e3,w=p.speed*b;if(w>=1){var C={x:te.x*w,y:te.y*w};if(C.x||C.y){var x=_p(g);I.window(g)?g.scrollBy(C.x,C.y):g&&(g.scrollLeft+=C.x,g.scrollTop+=C.y);var E=_p(g),M={x:E.x-x.x,y:E.y-x.y};(M.x||M.y)&&a.fire({type:"autoscroll",target:u,interactable:a,delta:M,interaction:c,container:g})}te.prevTime=y}te.isScrolling&&(Qn.cancel(te.i),te.i=Qn.request(te.scroll))},check:function(c,a){var u;return(u=c.options[a].autoScroll)==null?void 0:u.enabled},onInteractionMove:function(c){var a=c.interaction,u=c.pointer;if(a.interacting()&&te.check(a.interactable,a.prepared.name))if(a.simulation)te.x=te.y=0;else{var f,p,g,y,b=a.interactable,w=a.element,C=a.prepared.name,x=b.options[C].autoScroll,E=Cp(x.container,b,w);if(I.window(E))y=u.clientX<te.margin,f=u.clientY<te.margin,p=u.clientX>E.innerWidth-te.margin,g=u.clientY>E.innerHeight-te.margin;else{var M=vl(E);y=u.clientX<M.left+te.margin,f=u.clientY<M.top+te.margin,p=u.clientX>M.right-te.margin,g=u.clientY>M.bottom-te.margin}te.x=p?1:y?-1:0,te.y=g?1:f?-1:0,te.isScrolling||(te.margin=x.margin,te.speed=x.speed,te.start(a))}}};function Cp(c,a,u){return(I.string(c)?ap(c,a,u):c)||fe(u)}function _p(c){return I.window(c)&&(c=window.document.body),{x:c.scrollLeft,y:c.scrollTop}}var iw={id:"auto-scroll",install:function(c){var a=c.defaults,u=c.actions;c.autoScroll=te,te.now=function(){return c.now()},u.phaselessTypes.autoscroll=!0,a.perAction.autoScroll=te.defaults},listeners:{"interactions:new":function(c){c.interaction.autoScroll=null},"interactions:destroy":function(c){c.interaction.autoScroll=null,te.stop(),te.interaction&&(te.interaction=null)},"interactions:stop":te.stop,"interactions:action-move":function(c){return te.onInteractionMove(c)}}},ow=iw;function To(c,a){var u=!1;return function(){return u||(k.console.warn(a),u=!0),c.apply(this,arguments)}}function Tl(c,a){return c.name=a.name,c.axis=a.axis,c.edges=a.edges,c}function sw(c){return I.bool(c)?(this.options.styleCursor=c,this):c===null?(delete this.options.styleCursor,this):this.options.styleCursor}function aw(c){return I.func(c)?(this.options.actionChecker=c,this):c===null?(delete this.options.actionChecker,this):this.options.actionChecker}var cw={id:"auto-start/interactableMethods",install:function(c){var a=c.Interactable;a.prototype.getAction=function(u,f,p,g){var y=function(b,w,C,x,E){var M=b.getRect(x),N=w.buttons||{0:1,1:4,3:8,4:16}[w.button],A={action:null,interactable:b,interaction:C,element:x,rect:M,buttons:N};return E.fire("auto-start:check",A),A.action}(this,f,p,g,c);return this.options.actionChecker?this.options.actionChecker(u,f,y,this,g,p):y},a.prototype.ignoreFrom=To(function(u){return this._backCompatOption("ignoreFrom",u)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),a.prototype.allowFrom=To(function(u){return this._backCompatOption("allowFrom",u)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),a.prototype.actionChecker=aw,a.prototype.styleCursor=sw}};function Ep(c,a,u,f,p){return a.testIgnoreAllow(a.options[c.name],u,f)&&a.options[c.name].enabled&&Xs(a,u,c,p)?c:null}function lw(c,a,u,f,p,g,y){for(var b=0,w=f.length;b<w;b++){var C=f[b],x=p[b],E=C.getAction(a,u,c,x);if(E){var M=Ep(E,C,x,g,y);if(M)return{action:M,interactable:C,element:x}}}return{action:null,interactable:null,element:null}}function Sp(c,a,u,f,p){var g=[],y=[],b=f;function w(x){g.push(x),y.push(b)}for(;I.element(b);){g=[],y=[],p.interactables.forEachMatch(b,w);var C=lw(c,a,u,g,y,f,p);if(C.action&&!C.interactable.options[C.action.name].manualStart)return C;b=Mn(b)}return{action:null,interactable:null,element:null}}function Ip(c,a,u){var f=a.action,p=a.interactable,g=a.element;f=f||{name:null},c.interactable=p,c.element=g,Tl(c.prepared,f),c.rect=p&&f.name?p.getRect(g):null,Tp(c,u),u.fire("autoStart:prepared",{interaction:c})}function Xs(c,a,u,f){var p=c.options,g=p[u.name].max,y=p[u.name].maxPerElement,b=f.autoStart.maxInteractions,w=0,C=0,x=0;if(!(g&&y&&b))return!1;for(var E=0,M=f.interactions.list;E<M.length;E++){var N=M[E],A=N.prepared.name;if(N.interacting()&&(++w>=b||N.interactable===c&&((C+=A===u.name?1:0)>=g||N.element===a&&(x++,A===u.name&&x>=y))))return!1}return b>0}function Mp(c,a){return I.number(c)?(a.autoStart.maxInteractions=c,this):a.autoStart.maxInteractions}function Al(c,a,u){var f=u.autoStart.cursorElement;f&&f!==c&&(f.style.cursor=""),c.ownerDocument.documentElement.style.cursor=a,c.style.cursor=a,u.autoStart.cursorElement=a?c:null}function Tp(c,a){var u=c.interactable,f=c.element,p=c.prepared;if(c.pointerType==="mouse"&&u&&u.options.styleCursor){var g="";if(p.name){var y=u.options[p.name].cursorChecker;g=I.func(y)?y(p,u,f,c._interacting):a.actions.map[p.name].getCursor(p)}Al(c.element,g||"",a)}else a.autoStart.cursorElement&&Al(a.autoStart.cursorElement,"",a)}var uw={id:"auto-start/base",before:["actions"],install:function(c){var a=c.interactStatic,u=c.defaults;c.usePlugin(cw),u.base.actionChecker=null,u.base.styleCursor=!0,G(u.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),a.maxInteractions=function(f){return Mp(f,c)},c.autoStart={maxInteractions:1/0,withinInteractionLimit:Xs,cursorElement:null}},listeners:{"interactions:down":function(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget;u.interacting()||Ip(u,Sp(u,f,p,g,a),a)},"interactions:move":function(c,a){(function(u,f){var p=u.interaction,g=u.pointer,y=u.event,b=u.eventTarget;p.pointerType!=="mouse"||p.pointerIsDown||p.interacting()||Ip(p,Sp(p,g,y,b,f),f)})(c,a),function(u,f){var p=u.interaction;if(p.pointerIsDown&&!p.interacting()&&p.pointerWasMoved&&p.prepared.name){f.fire("autoStart:before-start",u);var g=p.interactable,y=p.prepared.name;y&&g&&(g.options[y].manualStart||!Xs(g,p.element,p.prepared,f)?p.stop():(p.start(p.prepared,g,p.element),Tp(p,f)))}}(c,a)},"interactions:stop":function(c,a){var u=c.interaction,f=u.interactable;f&&f.options.styleCursor&&Al(u.element,"",a)}},maxInteractions:Mp,withinInteractionLimit:Xs,validateAction:Ep},Nl=uw,dw={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(c,a){var u=c.interaction,f=c.eventTarget,p=c.dx,g=c.dy;if(u.prepared.name==="drag"){var y=Math.abs(p),b=Math.abs(g),w=u.interactable.options.drag,C=w.startAxis,x=y>b?"x":y<b?"y":"xy";if(u.prepared.axis=w.lockAxis==="start"?x[0]:w.lockAxis,x!=="xy"&&C!=="xy"&&C!==x){u.prepared.name=null;for(var E=f,M=function(A){if(A!==u.interactable){var O=u.interactable.options.drag;if(!O.manualStart&&A.testIgnoreAllow(O,E,f)){var U=A.getAction(u.downPointer,u.downEvent,u,E);if(U&&U.name==="drag"&&function(L,H){if(!H)return!1;var ce=H.options.drag.startAxis;return L==="xy"||ce==="xy"||ce===L}(x,A)&&Nl.validateAction(U,A,E,f,a))return A}}};I.element(E);){var N=a.interactables.forEachMatch(E,M);if(N){u.prepared.name="drag",u.interactable=N,u.element=E;break}E=Mn(E)}}}}}};function Ol(c){var a=c.prepared&&c.prepared.name;if(!a)return null;var u=c.interactable.options;return u[a].hold||u[a].delay}var fw={id:"auto-start/hold",install:function(c){var a=c.defaults;c.usePlugin(Nl),a.perAction.hold=0,a.perAction.delay=0},listeners:{"interactions:new":function(c){c.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(c){var a=c.interaction,u=Ol(a);u>0&&(a.autoStartHoldTimer=setTimeout(function(){a.start(a.prepared,a.interactable,a.element)},u))},"interactions:move":function(c){var a=c.interaction,u=c.duplicate;a.autoStartHoldTimer&&a.pointerWasMoved&&!u&&(clearTimeout(a.autoStartHoldTimer),a.autoStartHoldTimer=null)},"autoStart:before-start":function(c){var a=c.interaction;Ol(a)>0&&(a.prepared.name=null)}},getHoldDuration:Ol},hw=fw,pw={id:"auto-start",install:function(c){c.usePlugin(Nl),c.usePlugin(hw),c.usePlugin(dw)}},mw=function(c){return/^(always|never|auto)$/.test(c)?(this.options.preventDefault=c,this):I.bool(c)?(this.options.preventDefault=c?"always":"never",this):this.options.preventDefault};function gw(c){var a=c.interaction,u=c.event;a.interactable&&a.interactable.checkAndPreventDefault(u)}var Ap={id:"core/interactablePreventDefault",install:function(c){var a=c.Interactable;a.prototype.preventDefault=mw,a.prototype.checkAndPreventDefault=function(u){return function(f,p,g){var y=f.options.preventDefault;if(y!=="never")if(y!=="always"){if(p.events.supportsPassive&&/^touch(start|move)$/.test(g.type)){var b=fe(g.target).document,w=p.getDocOptions(b);if(!w||!w.events||w.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(g.type)||I.element(g.target)&&Kn(g.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||g.preventDefault()}else g.preventDefault()}(this,c,u)},c.interactions.docEvents.push({type:"dragstart",listener:function(u){for(var f=0,p=c.interactions.list;f<p.length;f++){var g=p[f];if(g.element&&(g.element===u.target||Mr(g.element,u.target)))return void g.interactable.checkAndPreventDefault(u)}}})},listeners:["down","move","up","cancel"].reduce(function(c,a){return c["interactions:".concat(a)]=gw,c},{})};function Ks(c,a){if(a.phaselessTypes[c])return!0;for(var u in a.map)if(c.indexOf(u)===0&&c.substr(u.length)in a.phases)return!0;return!1}function gi(c){var a={};for(var u in c){var f=c[u];I.plainObject(f)?a[u]=gi(f):I.array(f)?a[u]=gp(f):a[u]=f}return a}var kl=function(){function c(a){r(this,c),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=a,this.result=Qs(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return o(c,[{key:"start",value:function(a,u){var f,p,g=a.phase,y=this.interaction,b=function(C){var x=C.interactable.options[C.prepared.name],E=x.modifiers;return E&&E.length?E:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(M){var N=x[M];return N&&N.enabled&&{options:N,methods:N._methods}}).filter(function(M){return!!M})}(y);this.prepareStates(b),this.startEdges=G({},y.edges),this.edges=G({},this.startEdges),this.startOffset=(f=y.rect,p=u,f?{left:p.x-f.left,top:p.y-f.top,right:f.right-p.x,bottom:f.bottom-p.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var w=this.fillArg({phase:g,pageCoords:u,preEnd:!1});return this.result=Qs(),this.startAll(w),this.result=this.setAll(w)}},{key:"fillArg",value:function(a){var u=this.interaction;return a.interaction=u,a.interactable=u.interactable,a.element=u.element,a.rect||(a.rect=u.rect),a.edges||(a.edges=this.startEdges),a.startOffset=this.startOffset,a}},{key:"startAll",value:function(a){for(var u=0,f=this.states;u<f.length;u++){var p=f[u];p.methods.start&&(a.state=p,p.methods.start(a))}}},{key:"setAll",value:function(a){var u=a.phase,f=a.preEnd,p=a.skipModifiers,g=a.rect,y=a.edges;a.coords=G({},a.pageCoords),a.rect=G({},g),a.edges=G({},y);for(var b=p?this.states.slice(p):this.states,w=Qs(a.coords,a.rect),C=0;C<b.length;C++){var x,E=b[C],M=E.options,N=G({},a.coords),A=null;(x=E.methods)!=null&&x.set&&this.shouldDo(M,f,u)&&(a.state=E,A=E.methods.set(a),zs(a.edges,a.rect,{x:a.coords.x-N.x,y:a.coords.y-N.y})),w.eventProps.push(A)}G(this.edges,a.edges),w.delta.x=a.coords.x-a.pageCoords.x,w.delta.y=a.coords.y-a.pageCoords.y,w.rectDelta.left=a.rect.left-g.left,w.rectDelta.right=a.rect.right-g.right,w.rectDelta.top=a.rect.top-g.top,w.rectDelta.bottom=a.rect.bottom-g.bottom;var O=this.result.coords,U=this.result.rect;if(O&&U){var L=w.rect.left!==U.left||w.rect.right!==U.right||w.rect.top!==U.top||w.rect.bottom!==U.bottom;w.changed=L||O.x!==w.coords.x||O.y!==w.coords.y}return w}},{key:"applyToInteraction",value:function(a){var u=this.interaction,f=a.phase,p=u.coords.cur,g=u.coords.start,y=this.result,b=this.startDelta,w=y.delta;f==="start"&&G(this.startDelta,y.delta);for(var C=0,x=[[g,b],[p,w]];C<x.length;C++){var E=x[C],M=E[0],N=E[1];M.page.x+=N.x,M.page.y+=N.y,M.client.x+=N.x,M.client.y+=N.y}var A=this.result.rectDelta,O=a.rect||u.rect;O.left+=A.left,O.right+=A.right,O.top+=A.top,O.bottom+=A.bottom,O.width=O.right-O.left,O.height=O.bottom-O.top}},{key:"setAndApply",value:function(a){var u=this.interaction,f=a.phase,p=a.preEnd,g=a.skipModifiers,y=this.setAll(this.fillArg({preEnd:p,phase:f,pageCoords:a.modifiedCoords||u.coords.cur.page}));if(this.result=y,!y.changed&&(!g||g<this.states.length)&&u.interacting())return!1;if(a.modifiedCoords){var b=u.coords.cur.page,w={x:a.modifiedCoords.x-b.x,y:a.modifiedCoords.y-b.y};y.coords.x+=w.x,y.coords.y+=w.y,y.delta.x+=w.x,y.delta.y+=w.y}this.applyToInteraction(a)}},{key:"beforeEnd",value:function(a){var u=a.interaction,f=a.event,p=this.states;if(p&&p.length){for(var g=!1,y=0;y<p.length;y++){var b=p[y];a.state=b;var w=b.options,C=b.methods,x=C.beforeEnd&&C.beforeEnd(a);if(x)return this.endResult=x,!1;g=g||!g&&this.shouldDo(w,!0,a.phase,!0)}g&&u.move({event:f,preEnd:!0})}}},{key:"stop",value:function(a){var u=a.interaction;if(this.states&&this.states.length){var f=G({states:this.states,interactable:u.interactable,element:u.element,rect:null},a);this.fillArg(f);for(var p=0,g=this.states;p<g.length;p++){var y=g[p];f.state=y,y.methods.stop&&y.methods.stop(f)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(a){this.states=[];for(var u=0;u<a.length;u++){var f=a[u],p=f.options,g=f.methods,y=f.name;this.states.push({options:p,methods:g,index:u,name:y})}return this.states}},{key:"restoreInteractionCoords",value:function(a){var u=a.interaction,f=u.coords,p=u.rect,g=u.modification;if(g.result){for(var y=g.startDelta,b=g.result,w=b.delta,C=b.rectDelta,x=0,E=[[f.start,y],[f.cur,w]];x<E.length;x++){var M=E[x],N=M[0],A=M[1];N.page.x-=A.x,N.page.y-=A.y,N.client.x-=A.x,N.client.y-=A.y}p.left-=C.left,p.right-=C.right,p.top-=C.top,p.bottom-=C.bottom}}},{key:"shouldDo",value:function(a,u,f,p){return!(!a||a.enabled===!1||p&&!a.endOnly||a.endOnly&&!u||f==="start"&&!a.setStart)}},{key:"copyFrom",value:function(a){this.startOffset=a.startOffset,this.startDelta=a.startDelta,this.startEdges=a.startEdges,this.edges=a.edges,this.states=a.states.map(function(u){return gi(u)}),this.result=Qs(G({},a.result.coords),G({},a.result.rect))}},{key:"destroy",value:function(){for(var a in this)this[a]=null}}]),c}();function Qs(c,a){return{rect:a,coords:c,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Zn(c,a){var u=c.defaults,f={start:c.start,set:c.set,beforeEnd:c.beforeEnd,stop:c.stop},p=function(g){var y=g||{};for(var b in y.enabled=y.enabled!==!1,u)b in y||(y[b]=u[b]);var w={options:y,methods:f,name:a,enable:function(){return y.enabled=!0,w},disable:function(){return y.enabled=!1,w}};return w};return a&&typeof a=="string"&&(p._defaults=u,p._methods=f),p}function Ao(c){var a=c.iEvent,u=c.interaction.modification.result;u&&(a.modifiers=u.eventProps)}var vw={id:"modifiers/base",before:["actions"],install:function(c){c.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(c){var a=c.interaction;a.modification=new kl(a)},"interactions:before-action-start":function(c){var a=c.interaction,u=c.interaction.modification;u.start(c,a.coords.start.page),a.edges=u.edges,u.applyToInteraction(c)},"interactions:before-action-move":function(c){var a=c.interaction,u=a.modification,f=u.setAndApply(c);return a.edges=u.edges,f},"interactions:before-action-end":function(c){var a=c.interaction,u=a.modification,f=u.beforeEnd(c);return a.edges=u.startEdges,f},"interactions:action-start":Ao,"interactions:action-move":Ao,"interactions:action-end":Ao,"interactions:after-action-start":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:after-action-move":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:stop":function(c){return c.interaction.modification.stop(c)}}},Np=vw,Op={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Rl=function(c){l(u,c);var a=m(u);function u(f,p,g,y,b,w,C){var x;r(this,u),(x=a.call(this,f)).relatedTarget=null,x.screenX=void 0,x.screenY=void 0,x.button=void 0,x.buttons=void 0,x.ctrlKey=void 0,x.shiftKey=void 0,x.altKey=void 0,x.metaKey=void 0,x.page=void 0,x.client=void 0,x.delta=void 0,x.rect=void 0,x.x0=void 0,x.y0=void 0,x.t0=void 0,x.dt=void 0,x.duration=void 0,x.clientX0=void 0,x.clientY0=void 0,x.velocity=void 0,x.speed=void 0,x.swipe=void 0,x.axes=void 0,x.preEnd=void 0,b=b||f.element;var E=f.interactable,M=(E&&E.options||Op).deltaSource,N=_o(E,b,g),A=y==="start",O=y==="end",U=A?v(x):f.prevEvent,L=A?f.coords.start:O?{page:U.page,client:U.client,timeStamp:f.coords.cur.timeStamp}:f.coords.cur;return x.page=G({},L.page),x.client=G({},L.client),x.rect=G({},f.rect),x.timeStamp=L.timeStamp,O||(x.page.x-=N.x,x.page.y-=N.y,x.client.x-=N.x,x.client.y-=N.y),x.ctrlKey=p.ctrlKey,x.altKey=p.altKey,x.shiftKey=p.shiftKey,x.metaKey=p.metaKey,x.button=p.button,x.buttons=p.buttons,x.target=b,x.currentTarget=b,x.preEnd=w,x.type=C||g+(y||""),x.interactable=E,x.t0=A?f.pointers[f.pointers.length-1].downTime:U.t0,x.x0=f.coords.start.page.x-N.x,x.y0=f.coords.start.page.y-N.y,x.clientX0=f.coords.start.client.x-N.x,x.clientY0=f.coords.start.client.y-N.y,x.delta=A||O?{x:0,y:0}:{x:x[M].x-U[M].x,y:x[M].y-U[M].y},x.dt=f.coords.delta.timeStamp,x.duration=x.timeStamp-x.t0,x.velocity=G({},f.coords.velocity[M]),x.speed=Eo(x.velocity.x,x.velocity.y),x.swipe=O||y==="inertiastart"?x.getSwipe():null,x}return o(u,[{key:"getSwipe",value:function(){var f=this._interaction;if(f.prevEvent.speed<600||this.timeStamp-f.prevEvent.timeStamp>150)return null;var p=180*Math.atan2(f.prevEvent.velocityY,f.prevEvent.velocityX)/Math.PI;p<0&&(p+=360);var g=112.5<=p&&p<247.5,y=202.5<=p&&p<337.5;return{up:y,down:!y&&22.5<=p&&p<157.5,left:g,right:!g&&(292.5<=p||p<67.5),angle:p,speed:f.prevEvent.speed,velocity:{x:f.prevEvent.velocityX,y:f.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),u}(Ys);Object.defineProperties(Rl.prototype,{pageX:{get:function(){return this.page.x},set:function(c){this.page.x=c}},pageY:{get:function(){return this.page.y},set:function(c){this.page.y=c}},clientX:{get:function(){return this.client.x},set:function(c){this.client.x=c}},clientY:{get:function(){return this.client.y},set:function(c){this.client.y=c}},dx:{get:function(){return this.delta.x},set:function(c){this.delta.x=c}},dy:{get:function(){return this.delta.y},set:function(c){this.delta.y=c}},velocityX:{get:function(){return this.velocity.x},set:function(c){this.velocity.x=c}},velocityY:{get:function(){return this.velocity.y},set:function(c){this.velocity.y=c}}});var yw=o(function c(a,u,f,p,g){r(this,c),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=a,this.pointer=u,this.event=f,this.downTime=p,this.downTarget=g}),bw=function(c){return c.interactable="",c.element="",c.prepared="",c.pointerIsDown="",c.pointerWasMoved="",c._proxy="",c}({}),kp=function(c){return c.start="",c.move="",c.end="",c.stop="",c.interacting="",c}({}),ww=0,xw=function(){function c(a){var u=this,f=a.pointerType,p=a.scopeFire;r(this,c),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=To(function(x){this.move(x)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=ww++,this._scopeFire=p,this.pointerType=f;var g=this;this._proxy={};var y=function(x){Object.defineProperty(u._proxy,x,{get:function(){return g[x]}})};for(var b in bw)y(b);var w=function(x){Object.defineProperty(u._proxy,x,{value:function(){return g[x].apply(g,arguments)}})};for(var C in kp)w(C);this._scopeFire("interactions:new",{interaction:this})}return o(c,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(a,u,f){var p=this.updatePointer(a,u,f,!0),g=this.pointers[p];this._scopeFire("interactions:down",{pointer:a,event:u,eventTarget:f,pointerIndex:p,pointerInfo:g,type:"down",interaction:this})}},{key:"start",value:function(a,u,f){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(a.name==="gesture"?2:1)||!u.options[a.name].enabled)&&(Tl(this.prepared,a),this.interactable=u,this.element=f,this.rect=u.getRect(f),this.edges=this.prepared.edges?G({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(a,u,f){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(a,u,f,!1);var p,g,y=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(p=this.coords.cur.client.x-this.coords.start.client.x,g=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Eo(p,g)>this.pointerMoveTolerance);var b,w,C,x=this.getPointerIndex(a),E={pointer:a,pointerIndex:x,pointerInfo:this.pointers[x],event:u,type:"move",eventTarget:f,dx:p,dy:g,duplicate:y,interaction:this};y||(b=this.coords.velocity,w=this.coords.delta,C=Math.max(w.timeStamp/1e3,.001),b.page.x=w.page.x/C,b.page.y=w.page.y/C,b.client.x=w.client.x/C,b.client.y=w.client.y/C,b.timeStamp=C),this._scopeFire("interactions:move",E),y||this.simulation||(this.interacting()&&(E.type=null,this.move(E)),this.pointerWasMoved&&Ws(this.coords.prev,this.coords.cur))}},{key:"move",value:function(a){a&&a.event||lp(this.coords.delta),(a=G({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},a||{})).phase="move",this._doPhase(a)}},{key:"pointerUp",value:function(a,u,f,p){var g=this.getPointerIndex(a);g===-1&&(g=this.updatePointer(a,u,f,!1));var y=/cancel$/i.test(u.type)?"cancel":"up";this._scopeFire("interactions:".concat(y),{pointer:a,pointerIndex:g,pointerInfo:this.pointers[g],event:u,eventTarget:f,type:y,curEventTarget:p,interaction:this}),this.simulation||this.end(u),this.removePointer(a,u)}},{key:"documentBlur",value:function(a){this.end(a),this._scopeFire("interactions:blur",{event:a,type:"blur",interaction:this})}},{key:"end",value:function(a){var u;this._ending=!0,a=a||this._latestPointer.event,this.interacting()&&(u=this._doPhase({event:a,interaction:this,phase:"end"})),this._ending=!1,u===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(a){var u=So(a);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Io(this.pointers,function(f){return f.id===u})}},{key:"getPointerInfo",value:function(a){return this.pointers[this.getPointerIndex(a)]}},{key:"updatePointer",value:function(a,u,f,p){var g,y,b,w=So(a),C=this.getPointerIndex(a),x=this.pointers[C];return p=p!==!1&&(p||/(down|start)$/i.test(u.type)),x?x.pointer=a:(x=new yw(w,a,u,null,null),C=this.pointers.length,this.pointers.push(x)),Zb(this.coords.cur,this.pointers.map(function(E){return E.pointer}),this._now()),g=this.coords.delta,y=this.coords.prev,b=this.coords.cur,g.page.x=b.page.x-y.page.x,g.page.y=b.page.y-y.page.y,g.client.x=b.client.x-y.client.x,g.client.y=b.client.y-y.client.y,g.timeStamp=b.timeStamp-y.timeStamp,p&&(this.pointerIsDown=!0,x.downTime=this.coords.cur.timeStamp,x.downTarget=f,Gs(this.downPointer,a),this.interacting()||(Ws(this.coords.start,this.coords.cur),Ws(this.coords.prev,this.coords.cur),this.downEvent=u,this.pointerWasMoved=!1)),this._updateLatestPointer(a,u,f),this._scopeFire("interactions:update-pointer",{pointer:a,event:u,eventTarget:f,down:p,pointerInfo:x,pointerIndex:C,interaction:this}),C}},{key:"removePointer",value:function(a,u){var f=this.getPointerIndex(a);if(f!==-1){var p=this.pointers[f];this._scopeFire("interactions:remove-pointer",{pointer:a,event:u,eventTarget:null,pointerIndex:f,pointerInfo:p,interaction:this}),this.pointers.splice(f,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(a,u,f){this._latestPointer.pointer=a,this._latestPointer.event=u,this._latestPointer.eventTarget=f}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(a,u,f,p){return new Rl(this,a,this.prepared.name,u,this.element,f,p)}},{key:"_fireEvent",value:function(a){var u;(u=this.interactable)==null||u.fire(a),(!this.prevEvent||a.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=a)}},{key:"_doPhase",value:function(a){var u=a.event,f=a.phase,p=a.preEnd,g=a.type,y=this.rect;if(y&&f==="move"&&(zs(this.edges,y,this.coords.delta[this.interactable.options.deltaSource]),y.width=y.right-y.left,y.height=y.bottom-y.top),this._scopeFire("interactions:before-action-".concat(f),a)===!1)return!1;var b=a.iEvent=this._createPreparedEvent(u,f,p,g);return this._scopeFire("interactions:action-".concat(f),a),f==="start"&&(this.prevEvent=b),this._fireEvent(b),this._scopeFire("interactions:after-action-".concat(f),a),!0}},{key:"_now",value:function(){return Date.now()}}]),c}();function Rp(c){Pp(c.interaction)}function Pp(c){if(!function(u){return!(!u.offset.pending.x&&!u.offset.pending.y)}(c))return!1;var a=c.offset.pending;return Pl(c.coords.cur,a),Pl(c.coords.delta,a),zs(c.edges,c.rect,a),a.x=0,a.y=0,!0}function Dw(c){var a=c.x,u=c.y;this.offset.pending.x+=a,this.offset.pending.y+=u,this.offset.total.x+=a,this.offset.total.y+=u}function Pl(c,a){var u=c.page,f=c.client,p=a.x,g=a.y;u.x+=p,u.y+=g,f.x+=p,f.y+=g}kp.offsetBy="";var Cw={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(c){c.Interaction.prototype.offsetBy=Dw},listeners:{"interactions:new":function(c){c.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(c){return function(a){a.pointerIsDown&&(Pl(a.coords.cur,a.offset.total),a.offset.pending.x=0,a.offset.pending.y=0)}(c.interaction)},"interactions:before-action-start":Rp,"interactions:before-action-move":Rp,"interactions:before-action-end":function(c){var a=c.interaction;if(Pp(a))return a.move({offset:!0}),a.end(),!1},"interactions:stop":function(c){var a=c.interaction;a.offset.total.x=0,a.offset.total.y=0,a.offset.pending.x=0,a.offset.pending.y=0}}},Fp=Cw,_w=function(){function c(a){r(this,c),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=a}return o(c,[{key:"start",value:function(a){var u=this.interaction,f=Zs(u);if(!f||!f.enabled)return!1;var p=u.coords.velocity.client,g=Eo(p.x,p.y),y=this.modification||(this.modification=new kl(u));if(y.copyFrom(u.modification),this.t0=u._now(),this.allowResume=f.allowResume,this.v0=g,this.currentOffset={x:0,y:0},this.startCoords=u.coords.cur.page,this.modifierArg=y.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-u.coords.cur.timeStamp<50&&g>f.minSpeed&&g>f.endSpeed)this.startInertia();else{if(y.result=y.setAll(this.modifierArg),!y.result.changed)return!1;this.startSmoothEnd()}return u.modification.result.rect=null,u.offsetBy(this.targetOffset),u._doPhase({interaction:u,event:a,phase:"inertiastart"}),u.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),u.modification.result.rect=null,this.active=!0,u.simulation=this,!0}},{key:"startInertia",value:function(){var a=this,u=this.interaction.coords.velocity.client,f=Zs(this.interaction),p=f.resistance,g=-Math.log(f.endSpeed/this.v0)/p;this.targetOffset={x:(u.x-g)/p,y:(u.y-g)/p},this.te=g,this.lambda_v0=p/this.v0,this.one_ve_v0=1-f.endSpeed/this.v0;var y=this.modification,b=this.modifierArg;b.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},y.result=y.setAll(b),y.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+y.result.delta.x,y:this.targetOffset.y+y.result.delta.y}),this.onNextFrame(function(){return a.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var a=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return a.smoothEndTick()})}},{key:"onNextFrame",value:function(a){var u=this;this.timeout=Qn.request(function(){u.active&&a()})}},{key:"inertiaTick",value:function(){var a,u,f,p,g,y,b,w=this,C=this.interaction,x=Zs(C).resistance,E=(C._now()-this.t0)/1e3;if(E<this.te){var M,N=1-(Math.exp(-x*E)-this.lambda_v0)/this.one_ve_v0;this.isModified?(a=0,u=0,f=this.targetOffset.x,p=this.targetOffset.y,g=this.modifiedOffset.x,y=this.modifiedOffset.y,M={x:Lp(b=N,a,f,g),y:Lp(b,u,p,y)}):M={x:this.targetOffset.x*N,y:this.targetOffset.y*N};var A={x:M.x-this.currentOffset.x,y:M.y-this.currentOffset.y};this.currentOffset.x+=A.x,this.currentOffset.y+=A.y,C.offsetBy(A),C.move(),this.onNextFrame(function(){return w.inertiaTick()})}else C.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var a=this,u=this.interaction,f=u._now()-this.t0,p=Zs(u).smoothEndDuration;if(f<p){var g={x:jp(f,0,this.targetOffset.x,p),y:jp(f,0,this.targetOffset.y,p)},y={x:g.x-this.currentOffset.x,y:g.y-this.currentOffset.y};this.currentOffset.x+=y.x,this.currentOffset.y+=y.y,u.offsetBy(y),u.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return a.smoothEndTick()})}else u.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(a){var u=a.pointer,f=a.event,p=a.eventTarget,g=this.interaction;g.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),g.updatePointer(u,f,p,!0),g._doPhase({interaction:g,event:f,phase:"resume"}),Ws(g.coords.prev,g.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Qn.cancel(this.timeout)}}]),c}();function Zs(c){var a=c.interactable,u=c.prepared;return a&&a.options&&u.name&&a.options[u.name].inertia}var Ew={id:"inertia",before:["modifiers","actions"],install:function(c){var a=c.defaults;c.usePlugin(Fp),c.usePlugin(Np),c.actions.phases.inertiastart=!0,c.actions.phases.resume=!0,a.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(c){var a=c.interaction;a.inertia=new _w(a)},"interactions:before-action-end":function(c){var a=c.interaction,u=c.event;return(!a._interacting||a.simulation||!a.inertia.start(u))&&null},"interactions:down":function(c){var a=c.interaction,u=c.eventTarget,f=a.inertia;if(f.active)for(var p=u;I.element(p);){if(p===a.element){f.resume(c);break}p=Mn(p)}},"interactions:stop":function(c){var a=c.interaction.inertia;a.active&&a.stop()},"interactions:before-action-resume":function(c){var a=c.interaction.modification;a.stop(c),a.start(c,c.interaction.coords.cur.page),a.applyToInteraction(c)},"interactions:before-action-inertiastart":function(c){return c.interaction.modification.setAndApply(c)},"interactions:action-resume":Ao,"interactions:action-inertiastart":Ao,"interactions:after-action-inertiastart":function(c){return c.interaction.modification.restoreInteractionCoords(c)},"interactions:after-action-resume":function(c){return c.interaction.modification.restoreInteractionCoords(c)}}};function Lp(c,a,u,f){var p=1-c;return p*p*a+2*p*c*u+c*c*f}function jp(c,a,u,f){return-u*(c/=f)*(c-2)+a}var Sw=Ew;function Vp(c,a){for(var u=0;u<a.length;u++){var f=a[u];if(c.immediatePropagationStopped)break;f(c)}}var $p=function(){function c(a){r(this,c),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=G({},a||{})}return o(c,[{key:"fire",value:function(a){var u,f=this.global;(u=this.types[a.type])&&Vp(a,u),!a.propagationStopped&&f&&(u=f[a.type])&&Vp(a,u)}},{key:"on",value:function(a,u){var f=Tr(a,u);for(a in f)this.types[a]=mp(this.types[a]||[],f[a])}},{key:"off",value:function(a,u){var f=Tr(a,u);for(a in f){var p=this.types[a];if(p&&p.length)for(var g=0,y=f[a];g<y.length;g++){var b=y[g],w=p.indexOf(b);w!==-1&&p.splice(w,1)}}}},{key:"getRect",value:function(a){return null}}]),c}(),Iw=function(){function c(a){r(this,c),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=a,Gs(this,a)}return o(c,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),c}();function No(c){return I.object(c)?{capture:!!c.capture,passive:!!c.passive}:{capture:!!c,passive:!1}}function Js(c,a){return c===a||(typeof c=="boolean"?!!a.capture===c&&!a.passive:!!c.capture==!!a.capture&&!!c.passive==!!a.passive)}var Mw={id:"events",install:function(c){var a,u=[],f={},p=[],g={add:y,remove:b,addDelegate:function(x,E,M,N,A){var O=No(A);if(!f[M]){f[M]=[];for(var U=0;U<p.length;U++){var L=p[U];y(L,M,w),y(L,M,C,!0)}}var H=f[M],ce=Mo(H,function(ve){return ve.selector===x&&ve.context===E});ce||(ce={selector:x,context:E,listeners:[]},H.push(ce)),ce.listeners.push({func:N,options:O})},removeDelegate:function(x,E,M,N,A){var O,U=No(A),L=f[M],H=!1;if(L)for(O=L.length-1;O>=0;O--){var ce=L[O];if(ce.selector===x&&ce.context===E){for(var ve=ce.listeners,ee=ve.length-1;ee>=0;ee--){var ue=ve[ee];if(ue.func===N&&Js(ue.options,U)){ve.splice(ee,1),ve.length||(L.splice(O,1),b(E,M,w),b(E,M,C,!0)),H=!0;break}}if(H)break}}},delegateListener:w,delegateUseCapture:C,delegatedEvents:f,documents:p,targets:u,supportsOptions:!1,supportsPassive:!1};function y(x,E,M,N){if(x.addEventListener){var A=No(N),O=Mo(u,function(U){return U.eventTarget===x});O||(O={eventTarget:x,events:{}},u.push(O)),O.events[E]||(O.events[E]=[]),Mo(O.events[E],function(U){return U.func===M&&Js(U.options,A)})||(x.addEventListener(E,M,g.supportsOptions?A:A.capture),O.events[E].push({func:M,options:A}))}}function b(x,E,M,N){if(x.addEventListener&&x.removeEventListener){var A=Io(u,function(mt){return mt.eventTarget===x}),O=u[A];if(O&&O.events)if(E!=="all"){var U=!1,L=O.events[E];if(L){if(M==="all"){for(var H=L.length-1;H>=0;H--){var ce=L[H];b(x,E,ce.func,ce.options)}return}for(var ve=No(N),ee=0;ee<L.length;ee++){var ue=L[ee];if(ue.func===M&&Js(ue.options,ve)){x.removeEventListener(E,M,g.supportsOptions?ve:ve.capture),L.splice(ee,1),L.length===0&&(delete O.events[E],U=!0);break}}}U&&!Object.keys(O.events).length&&u.splice(A,1)}else for(E in O.events)O.events.hasOwnProperty(E)&&b(x,E,"all")}}function w(x,E){for(var M=No(E),N=new Iw(x),A=f[x.type],O=pp(x)[0],U=O;I.element(U);){for(var L=0;L<A.length;L++){var H=A[L],ce=H.selector,ve=H.context;if(Kn(U,ce)&&Mr(ve,O)&&Mr(ve,U)){var ee=H.listeners;N.currentTarget=U;for(var ue=0;ue<ee.length;ue++){var mt=ee[ue];Js(mt.options,M)&&mt.func(N)}}}U=Mn(U)}}function C(x){return w(x,!0)}return(a=c.document)==null||a.createElement("div").addEventListener("test",null,{get capture(){return g.supportsOptions=!0},get passive(){return g.supportsPassive=!0}}),c.events=g,g}},Fl={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(c){for(var a=0,u=Fl.methodOrder;a<u.length;a++){var f=u[a],p=Fl[f](c);if(p)return p}return null},simulationResume:function(c){var a=c.pointerType,u=c.eventType,f=c.eventTarget,p=c.scope;if(!/down|start/i.test(u))return null;for(var g=0,y=p.interactions.list;g<y.length;g++){var b=y[g],w=f;if(b.simulation&&b.simulation.allowResume&&b.pointerType===a)for(;w;){if(w===b.element)return b;w=Mn(w)}}return null},mouseOrPen:function(c){var a,u=c.pointerId,f=c.pointerType,p=c.eventType,g=c.scope;if(f!=="mouse"&&f!=="pen")return null;for(var y=0,b=g.interactions.list;y<b.length;y++){var w=b[y];if(w.pointerType===f){if(w.simulation&&!Bp(w,u))continue;if(w.interacting())return w;a||(a=w)}}if(a)return a;for(var C=0,x=g.interactions.list;C<x.length;C++){var E=x[C];if(!(E.pointerType!==f||/down/i.test(p)&&E.simulation))return E}return null},hasPointer:function(c){for(var a=c.pointerId,u=0,f=c.scope.interactions.list;u<f.length;u++){var p=f[u];if(Bp(p,a))return p}return null},idle:function(c){for(var a=c.pointerType,u=0,f=c.scope.interactions.list;u<f.length;u++){var p=f[u];if(p.pointers.length===1){var g=p.interactable;if(g&&(!g.options.gesture||!g.options.gesture.enabled))continue}else if(p.pointers.length>=2)continue;if(!p.interacting()&&a===p.pointerType)return p}return null}};function Bp(c,a){return c.pointers.some(function(u){return u.id===a})}var Tw=Fl,Ll=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Up(c,a){return function(u){var f=a.interactions.list,p=hp(u),g=pp(u),y=g[0],b=g[1],w=[];if(/^touch/.test(u.type)){a.prevTouchTime=a.now();for(var C=0,x=u.changedTouches;C<x.length;C++){var E=x[C],M={pointer:E,pointerId:So(E),pointerType:p,eventType:u.type,eventTarget:y,curEventTarget:b,scope:a},N=Hp(M);w.push([M.pointer,M.eventTarget,M.curEventTarget,N])}}else{var A=!1;if(!Jt.supportsPointerEvent&&/mouse/.test(u.type)){for(var O=0;O<f.length&&!A;O++)A=f[O].pointerType!=="mouse"&&f[O].pointerIsDown;A=A||a.now()-a.prevTouchTime<500||u.timeStamp===0}if(!A){var U={pointer:u,pointerId:So(u),pointerType:p,eventType:u.type,curEventTarget:b,eventTarget:y,scope:a},L=Hp(U);w.push([U.pointer,U.eventTarget,U.curEventTarget,L])}}for(var H=0;H<w.length;H++){var ce=w[H],ve=ce[0],ee=ce[1],ue=ce[2];ce[3][c](ve,u,ee,ue)}}}function Hp(c){var a=c.pointerType,u=c.scope,f={interaction:Tw.search(c),searchDetails:c};return u.fire("interactions:find",f),f.interaction||u.interactions.new({pointerType:a})}function jl(c,a){var u=c.doc,f=c.scope,p=c.options,g=f.interactions.docEvents,y=f.events,b=y[a];for(var w in f.browser.isIOS&&!p.events&&(p.events={passive:!1}),y.delegatedEvents)b(u,w,y.delegateListener),b(u,w,y.delegateUseCapture,!0);for(var C=p&&p.events,x=0;x<g.length;x++){var E=g[x];b(u,E.type,E.listener,C)}}var Aw={id:"core/interactions",install:function(c){for(var a={},u=0;u<Ll.length;u++){var f=Ll[u];a[f]=Up(f,c)}var p,g=Jt.pEventTypes;function y(){for(var b=0,w=c.interactions.list;b<w.length;b++){var C=w[b];if(C.pointerIsDown&&C.pointerType==="touch"&&!C._interacting)for(var x=function(){var N=M[E];c.documents.some(function(A){return Mr(A.doc,N.downTarget)})||C.removePointer(N.pointer,N.event)},E=0,M=C.pointers;E<M.length;E++)x()}}(p=ut.PointerEvent?[{type:g.down,listener:y},{type:g.down,listener:a.pointerDown},{type:g.move,listener:a.pointerMove},{type:g.up,listener:a.pointerUp},{type:g.cancel,listener:a.pointerUp}]:[{type:"mousedown",listener:a.pointerDown},{type:"mousemove",listener:a.pointerMove},{type:"mouseup",listener:a.pointerUp},{type:"touchstart",listener:y},{type:"touchstart",listener:a.pointerDown},{type:"touchmove",listener:a.pointerMove},{type:"touchend",listener:a.pointerUp},{type:"touchcancel",listener:a.pointerUp}]).push({type:"blur",listener:function(b){for(var w=0,C=c.interactions.list;w<C.length;w++)C[w].documentBlur(b)}}),c.prevTouchTime=0,c.Interaction=function(b){l(C,b);var w=m(C);function C(){return r(this,C),w.apply(this,arguments)}return o(C,[{key:"pointerMoveTolerance",get:function(){return c.interactions.pointerMoveTolerance},set:function(x){c.interactions.pointerMoveTolerance=x}},{key:"_now",value:function(){return c.now()}}]),C}(xw),c.interactions={list:[],new:function(b){b.scopeFire=function(C,x){return c.fire(C,x)};var w=new c.Interaction(b);return c.interactions.list.push(w),w},listeners:a,docEvents:p,pointerMoveTolerance:1},c.usePlugin(Ap)},listeners:{"scope:add-document":function(c){return jl(c,"add")},"scope:remove-document":function(c){return jl(c,"remove")},"interactable:unset":function(c,a){for(var u=c.interactable,f=a.interactions.list.length-1;f>=0;f--){var p=a.interactions.list[f];p.interactable===u&&(p.stop(),a.fire("interactions:destroy",{interaction:p}),p.destroy(),a.interactions.list.length>2&&a.interactions.list.splice(f,1))}}},onDocSignal:jl,doOnInteractions:Up,methodNames:Ll},Nw=Aw,Jn=function(c){return c[c.On=0]="On",c[c.Off=1]="Off",c}(Jn||{}),Ow=function(){function c(a,u,f,p){r(this,c),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new $p,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=u.actions,this.target=a,this._context=u.context||f,this._win=fe(sp(a)?this._context:a),this._doc=this._win.document,this._scopeEvents=p,this.set(u)}return o(c,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(a,u){return I.func(u.onstart)&&this.on("".concat(a,"start"),u.onstart),I.func(u.onmove)&&this.on("".concat(a,"move"),u.onmove),I.func(u.onend)&&this.on("".concat(a,"end"),u.onend),I.func(u.oninertiastart)&&this.on("".concat(a,"inertiastart"),u.oninertiastart),this}},{key:"updatePerActionListeners",value:function(a,u,f){var p,g=this,y=(p=this._actions.map[a])==null?void 0:p.filterEventType,b=function(w){return(y==null||y(w))&&Ks(w,g._actions)};(I.array(u)||I.object(u))&&this._onOff(Jn.Off,a,u,void 0,b),(I.array(f)||I.object(f))&&this._onOff(Jn.On,a,f,void 0,b)}},{key:"setPerAction",value:function(a,u){var f=this._defaults;for(var p in u){var g=p,y=this.options[a],b=u[g];g==="listeners"&&this.updatePerActionListeners(a,y.listeners,b),I.array(b)?y[g]=gp(b):I.plainObject(b)?(y[g]=G(y[g]||{},gi(b)),I.object(f.perAction[g])&&"enabled"in f.perAction[g]&&(y[g].enabled=b.enabled!==!1)):I.bool(b)&&I.object(f.perAction[g])?y[g].enabled=b:y[g]=b}}},{key:"getRect",value:function(a){return a=a||(I.element(this.target)?this.target:null),I.string(this.target)&&(a=a||this._context.querySelector(this.target)),yl(a)}},{key:"rectChecker",value:function(a){var u=this;return I.func(a)?(this.getRect=function(f){var p=G({},a.apply(u,f));return"width"in p||(p.width=p.right-p.left,p.height=p.bottom-p.top),p},this):a===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(a,u){if(sp(u)||I.object(u)){for(var f in this.options[a]=u,this._actions.map)this.options[f][a]=u;return this}return this.options[a]}},{key:"origin",value:function(a){return this._backCompatOption("origin",a)}},{key:"deltaSource",value:function(a){return a==="page"||a==="client"?(this.options.deltaSource=a,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var a=this.target;return I.string(a)?Array.from(this._context.querySelectorAll(a)):I.func(a)&&a.getAllElements?a.getAllElements():I.element(a)?[a]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(a){return this._context===a.ownerDocument||Mr(this._context,a)}},{key:"testIgnoreAllow",value:function(a,u,f){return!this.testIgnore(a.ignoreFrom,u,f)&&this.testAllow(a.allowFrom,u,f)}},{key:"testAllow",value:function(a,u,f){return!a||!!I.element(f)&&(I.string(a)?gl(f,a,u):!!I.element(a)&&Mr(a,f))}},{key:"testIgnore",value:function(a,u,f){return!(!a||!I.element(f))&&(I.string(a)?gl(f,a,u):!!I.element(a)&&Mr(a,f))}},{key:"fire",value:function(a){return this.events.fire(a),this}},{key:"_onOff",value:function(a,u,f,p,g){I.object(u)&&!I.array(u)&&(p=f,f=null);var y=Tr(u,f,g);for(var b in y){b==="wheel"&&(b=Jt.wheelEvent);for(var w=0,C=y[b];w<C.length;w++){var x=C[w];Ks(b,this._actions)?this.events[a===Jn.On?"on":"off"](b,x):I.string(this.target)?this._scopeEvents[a===Jn.On?"addDelegate":"removeDelegate"](this.target,this._context,b,x,p):this._scopeEvents[a===Jn.On?"add":"remove"](this.target,b,x,p)}}return this}},{key:"on",value:function(a,u,f){return this._onOff(Jn.On,a,u,f)}},{key:"off",value:function(a,u,f){return this._onOff(Jn.Off,a,u,f)}},{key:"set",value:function(a){var u=this._defaults;for(var f in I.object(a)||(a={}),this.options=gi(u.base),this._actions.methodDict){var p=f,g=this._actions.methodDict[p];this.options[p]={},this.setPerAction(p,G(G({},u.perAction),u.actions[p])),this[g](a[p])}for(var y in a)y!=="getRect"?I.func(this[y])&&this[y](a[y]):this.rectChecker(a.getRect);return this}},{key:"unset",value:function(){if(I.string(this.target))for(var a in this._scopeEvents.delegatedEvents)for(var u=this._scopeEvents.delegatedEvents[a],f=u.length-1;f>=0;f--){var p=u[f],g=p.selector,y=p.context,b=p.listeners;g===this.target&&y===this._context&&u.splice(f,1);for(var w=b.length-1;w>=0;w--)this._scopeEvents.removeDelegate(this.target,this._context,a,b[w][0],b[w][1])}else this._scopeEvents.remove(this.target,"all")}}]),c}(),kw=function(){function c(a){var u=this;r(this,c),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=a,a.addListeners({"interactable:unset":function(f){var p=f.interactable,g=p.target,y=I.string(g)?u.selectorMap[g]:g[u.scope.id],b=Io(y,function(w){return w===p});y.splice(b,1)}})}return o(c,[{key:"new",value:function(a,u){u=G(u||{},{actions:this.scope.actions});var f=new this.scope.Interactable(a,u,this.scope.document,this.scope.events);return this.scope.addDocument(f._doc),this.list.push(f),I.string(a)?(this.selectorMap[a]||(this.selectorMap[a]=[]),this.selectorMap[a].push(f)):(f.target[this.scope.id]||Object.defineProperty(a,this.scope.id,{value:[],configurable:!0}),a[this.scope.id].push(f)),this.scope.fire("interactable:new",{target:a,options:u,interactable:f,win:this.scope._win}),f}},{key:"getExisting",value:function(a,u){var f=u&&u.context||this.scope.document,p=I.string(a),g=p?this.selectorMap[a]:a[this.scope.id];if(g)return Mo(g,function(y){return y._context===f&&(p||y.inContext(a))})}},{key:"forEachMatch",value:function(a,u){for(var f=0,p=this.list;f<p.length;f++){var g=p[f],y=void 0;if((I.string(g.target)?I.element(a)&&Kn(a,g.target):a===g.target)&&g.inContext(a)&&(y=u(g)),y!==void 0)return y}}}]),c}(),Rw=function(){function c(){var a=this;r(this,c),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=Jt,this.defaults=gi(Op),this.Eventable=$p,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(f){var p=function g(y,b){var w=f.interactables.getExisting(y,b);return w||((w=f.interactables.new(y,b)).events.global=g.globalEvents),w};return p.getPointerAverage=fp,p.getTouchBBox=xl,p.getTouchDistance=Dl,p.getTouchAngle=Cl,p.getElementRect=yl,p.getElementClientRect=vl,p.matchesSelector=Kn,p.closest=np,p.globalEvents={},p.version="1.10.27",p.scope=f,p.use=function(g,y){return this.scope.usePlugin(g,y),this},p.isSet=function(g,y){return!!this.scope.interactables.get(g,y&&y.context)},p.on=To(function(g,y,b){if(I.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),I.array(g)){for(var w=0,C=g;w<C.length;w++){var x=C[w];this.on(x,y,b)}return this}if(I.object(g)){for(var E in g)this.on(E,g[E],y);return this}return Ks(g,this.scope.actions)?this.globalEvents[g]?this.globalEvents[g].push(y):this.globalEvents[g]=[y]:this.scope.events.add(this.scope.document,g,y,{options:b}),this},"The interact.on() method is being deprecated"),p.off=To(function(g,y,b){if(I.string(g)&&g.search(" ")!==-1&&(g=g.trim().split(/ +/)),I.array(g)){for(var w=0,C=g;w<C.length;w++){var x=C[w];this.off(x,y,b)}return this}if(I.object(g)){for(var E in g)this.off(E,g[E],y);return this}var M;return Ks(g,this.scope.actions)?g in this.globalEvents&&(M=this.globalEvents[g].indexOf(y))!==-1&&this.globalEvents[g].splice(M,1):this.scope.events.remove(this.scope.document,g,y,b),this},"The interact.off() method is being deprecated"),p.debug=function(){return this.scope},p.supportsTouch=function(){return Jt.supportsTouch},p.supportsPointerEvent=function(){return Jt.supportsPointerEvent},p.stop=function(){for(var g=0,y=this.scope.interactions.list;g<y.length;g++)y[g].stop();return this},p.pointerMoveTolerance=function(g){return I.number(g)?(this.scope.interactions.pointerMoveTolerance=g,this):this.scope.interactions.pointerMoveTolerance},p.addDocument=function(g,y){this.scope.addDocument(g,y)},p.removeDocument=function(g){this.scope.removeDocument(g)},p}(this),this.InteractEvent=Rl,this.Interactable=void 0,this.interactables=new kw(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(f){return a.removeDocument(f.target)};var u=this;this.Interactable=function(f){l(g,f);var p=m(g);function g(){return r(this,g),p.apply(this,arguments)}return o(g,[{key:"_defaults",get:function(){return u.defaults}},{key:"set",value:function(y){return D(d(g.prototype),"set",this).call(this,y),u.fire("interactable:set",{options:y,interactable:this}),this}},{key:"unset",value:function(){D(d(g.prototype),"unset",this).call(this);var y=u.interactables.list.indexOf(this);y<0||(u.interactables.list.splice(y,1),u.fire("interactable:unset",{interactable:this}))}}]),g}(Ow)}return o(c,[{key:"addListeners",value:function(a,u){this.listenerMaps.push({id:u,map:a})}},{key:"fire",value:function(a,u){for(var f=0,p=this.listenerMaps;f<p.length;f++){var g=p[f].map[a];if(g&&g(u,this,a)===!1)return!1}}},{key:"init",value:function(a){return this.isInitialized?this:function(u,f){return u.isInitialized=!0,I.window(f)&&R(f),ut.init(f),Jt.init(f),Qn.init(f),u.window=f,u.document=f.document,u.usePlugin(Nw),u.usePlugin(Mw),u}(this,a)}},{key:"pluginIsInstalled",value:function(a){var u=a.id;return u?!!this._plugins.map[u]:this._plugins.list.indexOf(a)!==-1}},{key:"usePlugin",value:function(a,u){if(!this.isInitialized)return this;if(this.pluginIsInstalled(a))return this;if(a.id&&(this._plugins.map[a.id]=a),this._plugins.list.push(a),a.install&&a.install(this,u),a.listeners&&a.before){for(var f=0,p=this.listenerMaps.length,g=a.before.reduce(function(b,w){return b[w]=!0,b[zp(w)]=!0,b},{});f<p;f++){var y=this.listenerMaps[f].id;if(y&&(g[y]||g[zp(y)]))break}this.listenerMaps.splice(f,0,{id:a.id,map:a.listeners})}else a.listeners&&this.listenerMaps.push({id:a.id,map:a.listeners});return this}},{key:"addDocument",value:function(a,u){if(this.getDocIndex(a)!==-1)return!1;var f=fe(a);u=u?G({},u):{},this.documents.push({doc:a,options:u}),this.events.documents.push(a),a!==this.document&&this.events.add(f,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:a,window:f,scope:this,options:u})}},{key:"removeDocument",value:function(a){var u=this.getDocIndex(a),f=fe(a),p=this.documents[u].options;this.events.remove(f,"unload",this.onWindowUnload),this.documents.splice(u,1),this.events.documents.splice(u,1),this.fire("scope:remove-document",{doc:a,window:f,scope:this,options:p})}},{key:"getDocIndex",value:function(a){for(var u=0;u<this.documents.length;u++)if(this.documents[u].doc===a)return u;return-1}},{key:"getDocOptions",value:function(a){var u=this.getDocIndex(a);return u===-1?null:this.documents[u].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),c}();function zp(c){return c&&c.replace(/\/.*$/,"")}var Gp=new Rw,pt=Gp.interactStatic,Pw=typeof globalThis<"u"?globalThis:window;Gp.init(Pw);var Fw=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(c){var a=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(f){var p=f[0],g=f[1];return p in c||g in c}),u=function(f,p){for(var g=c.range,y=c.limits,b=y===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:y,w=c.offset,C=w===void 0?{x:0,y:0}:w,x={range:g,grid:c,x:null,y:null},E=0;E<a.length;E++){var M=a[E],N=M[0],A=M[1],O=Math.round((f-C.x)/c[N]),U=Math.round((p-C.y)/c[A]);x[N]=Math.max(b.left,Math.min(b.right,O*c[N]+C.x)),x[A]=Math.max(b.top,Math.min(b.bottom,U*c[A]+C.y))}return x};return u.grid=c,u.coordFields=a,u}}),Lw={id:"snappers",install:function(c){var a=c.interactStatic;a.snappers=G(a.snappers||{},Fw),a.createSnapGrid=a.snappers.grid}},jw=Lw,Vw={start:function(c){var a=c.state,u=c.rect,f=c.edges,p=c.pageCoords,g=a.options,y=g.ratio,b=g.enabled,w=a.options,C=w.equalDelta,x=w.modifiers;y==="preserve"&&(y=u.width/u.height),a.startCoords=G({},p),a.startRect=G({},u),a.ratio=y,a.equalDelta=C;var E=a.linkedEdges={top:f.top||f.left&&!f.bottom,left:f.left||f.top&&!f.right,bottom:f.bottom||f.right&&!f.top,right:f.right||f.bottom&&!f.left};if(a.xIsPrimaryAxis=!(!f.left&&!f.right),a.equalDelta){var M=(E.left?1:-1)*(E.top?1:-1);a.edgeSign={x:M,y:M}}else a.edgeSign={x:E.left?-1:1,y:E.top?-1:1};if(b!==!1&&G(f,E),x!=null&&x.length){var N=new kl(c.interaction);N.copyFrom(c.interaction.modification),N.prepareStates(x),a.subModification=N,N.startAll(t({},c))}},set:function(c){var a=c.state,u=c.rect,f=c.coords,p=a.linkedEdges,g=G({},f),y=a.equalDelta?$w:Bw;if(G(c.edges,p),y(a,a.xIsPrimaryAxis,f,u),!a.subModification)return null;var b=G({},u);zs(p,b,{x:f.x-g.x,y:f.y-g.y});var w=a.subModification.setAll(t(t({},c),{},{rect:b,edges:p,pageCoords:f,prevCoords:f,prevRect:b})),C=w.delta;return w.changed&&(y(a,Math.abs(C.x)>Math.abs(C.y),w.coords,w.rect),G(f,w.coords)),w.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function $w(c,a,u){var f=c.startCoords,p=c.edgeSign;a?u.y=f.y+(u.x-f.x)*p.y:u.x=f.x+(u.y-f.y)*p.x}function Bw(c,a,u,f){var p=c.startRect,g=c.startCoords,y=c.ratio,b=c.edgeSign;if(a){var w=f.width/y;u.y=g.y+(w-p.height)*b.y}else{var C=f.height*y;u.x=g.x+(C-p.width)*b.x}}var Uw=Zn(Vw,"aspectRatio"),Wp=function(){};Wp._defaults={};var ea=Wp;function Nr(c,a,u){return I.func(c)?Co(c,a.interactable,a.element,[u.x,u.y,a]):Co(c,a.interactable,a.element)}var ta={start:function(c){var a=c.rect,u=c.startOffset,f=c.state,p=c.interaction,g=c.pageCoords,y=f.options,b=y.elementRect,w=G({left:0,top:0,right:0,bottom:0},y.offset||{});if(a&&b){var C=Nr(y.restriction,p,g);if(C){var x=C.right-C.left-a.width,E=C.bottom-C.top-a.height;x<0&&(w.left+=x,w.right+=x),E<0&&(w.top+=E,w.bottom+=E)}w.left+=u.left-a.width*b.left,w.top+=u.top-a.height*b.top,w.right+=u.right-a.width*(1-b.right),w.bottom+=u.bottom-a.height*(1-b.bottom)}f.offset=w},set:function(c){var a=c.coords,u=c.interaction,f=c.state,p=f.options,g=f.offset,y=Nr(p.restriction,u,a);if(y){var b=function(w){return!w||"left"in w&&"top"in w||((w=G({},w)).left=w.x||0,w.top=w.y||0,w.right=w.right||w.left+w.width,w.bottom=w.bottom||w.top+w.height),w}(y);a.x=Math.max(Math.min(b.right-g.right,a.x),b.left+g.left),a.y=Math.max(Math.min(b.bottom-g.bottom,a.y),b.top+g.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Hw=Zn(ta,"restrict"),qp={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Yp={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Xp(c,a){for(var u=0,f=["top","left","bottom","right"];u<f.length;u++){var p=f[u];p in c||(c[p]=a[p])}return c}var Oo={noInner:qp,noOuter:Yp,start:function(c){var a,u=c.interaction,f=c.startOffset,p=c.state,g=p.options;g&&(a=Hs(Nr(g.offset,u,u.coords.start.page))),a=a||{x:0,y:0},p.offset={top:a.y+f.top,left:a.x+f.left,bottom:a.y-f.bottom,right:a.x-f.right}},set:function(c){var a=c.coords,u=c.edges,f=c.interaction,p=c.state,g=p.offset,y=p.options;if(u){var b=G({},a),w=Nr(y.inner,f,b)||{},C=Nr(y.outer,f,b)||{};Xp(w,qp),Xp(C,Yp),u.top?a.y=Math.min(Math.max(C.top+g.top,b.y),w.top+g.top):u.bottom&&(a.y=Math.max(Math.min(C.bottom+g.bottom,b.y),w.bottom+g.bottom)),u.left?a.x=Math.min(Math.max(C.left+g.left,b.x),w.left+g.left):u.right&&(a.x=Math.max(Math.min(C.right+g.right,b.x),w.right+g.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},zw=Zn(Oo,"restrictEdges"),Gw=G({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(c){}},ta.defaults),Ww=Zn({start:ta.start,set:ta.set,defaults:Gw},"restrictRect"),qw={width:-1/0,height:-1/0},Yw={width:1/0,height:1/0},Xw=Zn({start:function(c){return Oo.start(c)},set:function(c){var a=c.interaction,u=c.state,f=c.rect,p=c.edges,g=u.options;if(p){var y=bl(Nr(g.min,a,c.coords))||qw,b=bl(Nr(g.max,a,c.coords))||Yw;u.options={endOnly:g.endOnly,inner:G({},Oo.noInner),outer:G({},Oo.noOuter)},p.top?(u.options.inner.top=f.bottom-y.height,u.options.outer.top=f.bottom-b.height):p.bottom&&(u.options.inner.bottom=f.top+y.height,u.options.outer.bottom=f.top+b.height),p.left?(u.options.inner.left=f.right-y.width,u.options.outer.left=f.right-b.width):p.right&&(u.options.inner.right=f.left+y.width,u.options.outer.right=f.left+b.width),Oo.set(c),u.options=g}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Vl={start:function(c){var a,u=c.interaction,f=c.interactable,p=c.element,g=c.rect,y=c.state,b=c.startOffset,w=y.options,C=w.offsetWithOrigin?function(M){var N=M.interaction.element,A=Hs(Co(M.state.options.origin,null,null,[N])),O=A||_o(M.interactable,N,M.interaction.prepared.name);return O}(c):{x:0,y:0};if(w.offset==="startCoords")a={x:u.coords.start.page.x,y:u.coords.start.page.y};else{var x=Co(w.offset,f,p,[u]);(a=Hs(x)||{x:0,y:0}).x+=C.x,a.y+=C.y}var E=w.relativePoints;y.offsets=g&&E&&E.length?E.map(function(M,N){return{index:N,relativePoint:M,x:b.left-g.width*M.x+a.x,y:b.top-g.height*M.y+a.y}}):[{index:0,relativePoint:null,x:a.x,y:a.y}]},set:function(c){var a=c.interaction,u=c.coords,f=c.state,p=f.options,g=f.offsets,y=_o(a.interactable,a.element,a.prepared.name),b=G({},u),w=[];p.offsetWithOrigin||(b.x-=y.x,b.y-=y.y);for(var C=0,x=g;C<x.length;C++)for(var E=x[C],M=b.x-E.x,N=b.y-E.y,A=0,O=p.targets.length;A<O;A++){var U=p.targets[A],L=void 0;(L=I.func(U)?U(M,N,a._proxy,E,A):U)&&w.push({x:(I.number(L.x)?L.x:M)+E.x,y:(I.number(L.y)?L.y:N)+E.y,range:I.number(L.range)?L.range:p.range,source:U,index:A,offset:E})}for(var H={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},ce=0;ce<w.length;ce++){var ve=w[ce],ee=ve.range,ue=ve.x-b.x,mt=ve.y-b.y,je=Eo(ue,mt),_t=je<=ee;ee===1/0&&H.inRange&&H.range!==1/0&&(_t=!1),H.target&&!(_t?H.inRange&&ee!==1/0?je/ee<H.distance/H.range:ee===1/0&&H.range!==1/0||je<H.distance:!H.inRange&&je<H.distance)||(H.target=ve,H.distance=je,H.range=ee,H.inRange=_t,H.delta.x=ue,H.delta.y=mt)}return H.inRange&&(u.x=H.target.x,u.y=H.target.y),f.closest=H,H},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Kw=Zn(Vl,"snap"),na={start:function(c){var a=c.state,u=c.edges,f=a.options;if(!u)return null;c.state={options:{targets:null,relativePoints:[{x:u.left?0:1,y:u.top?0:1}],offset:f.offset||"self",origin:{x:0,y:0},range:f.range}},a.targetFields=a.targetFields||[["width","height"],["x","y"]],Vl.start(c),a.offsets=c.state.offsets,c.state=a},set:function(c){var a=c.interaction,u=c.state,f=c.coords,p=u.options,g=u.offsets,y={x:f.x-g[0].x,y:f.y-g[0].y};u.options=G({},p),u.options.targets=[];for(var b=0,w=p.targets||[];b<w.length;b++){var C=w[b],x=void 0;if(x=I.func(C)?C(y.x,y.y,a):C){for(var E=0,M=u.targetFields;E<M.length;E++){var N=M[E],A=N[0],O=N[1];if(A in x||O in x){x.x=x[A],x.y=x[O];break}}u.options.targets.push(x)}}var U=Vl.set(c);return u.options=p,U},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Qw=Zn(na,"snapSize"),$l={aspectRatio:Uw,restrictEdges:zw,restrict:Hw,restrictRect:Ww,restrictSize:Xw,snapEdges:Zn({start:function(c){var a=c.edges;return a?(c.state.targetFields=c.state.targetFields||[[a.left?"left":"right",a.top?"top":"bottom"]],na.start(c)):null},set:na.set,defaults:G(gi(na.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Kw,snapSize:Qw,spring:ea,avoid:ea,transform:ea,rubberband:ea},Zw={id:"modifiers",install:function(c){var a=c.interactStatic;for(var u in c.usePlugin(Np),c.usePlugin(jw),a.modifiers=$l,$l){var f=$l[u],p=f._defaults,g=f._methods;p._methods=g,c.defaults.perAction[u]=p}}},Jw=Zw,Kp=function(c){l(u,c);var a=m(u);function u(f,p,g,y,b,w){var C;if(r(this,u),Gs(v(C=a.call(this,b)),g),g!==p&&Gs(v(C),p),C.timeStamp=w,C.originalEvent=g,C.type=f,C.pointerId=So(p),C.pointerType=hp(p),C.target=y,C.currentTarget=null,f==="tap"){var x=b.getPointerIndex(p);C.dt=C.timeStamp-b.pointers[x].downTime;var E=C.timeStamp-b.tapTime;C.double=!!b.prevTap&&b.prevTap.type!=="doubletap"&&b.prevTap.target===C.target&&E<500}else f==="doubletap"&&(C.dt=p.timeStamp-b.tapTime,C.double=!0);return C}return o(u,[{key:"_subtractOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX-=p,this.pageY-=g,this.clientX-=p,this.clientY-=g,this}},{key:"_addOrigin",value:function(f){var p=f.x,g=f.y;return this.pageX+=p,this.pageY+=g,this.clientX+=p,this.clientY+=g,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),u}(Ys),ko={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(c){c.pointerEvents=ko,c.defaults.actions.pointerEvents=ko.defaults,G(c.actions.phaselessTypes,ko.types)},listeners:{"interactions:new":function(c){var a=c.interaction;a.prevTap=null,a.tapTime=0},"interactions:update-pointer":function(c){var a=c.down,u=c.pointerInfo;!a&&u.hold||(u.hold={duration:1/0,timeout:null})},"interactions:move":function(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget;c.duplicate||u.pointerIsDown&&!u.pointerWasMoved||(u.pointerIsDown&&Bl(c),er({interaction:u,pointer:f,event:p,eventTarget:g,type:"move"},a))},"interactions:down":function(c,a){(function(u,f){for(var p=u.interaction,g=u.pointer,y=u.event,b=u.eventTarget,w=u.pointerIndex,C=p.pointers[w].hold,x=op(b),E={interaction:p,pointer:g,event:y,eventTarget:b,type:"hold",targets:[],path:x,node:null},M=0;M<x.length;M++){var N=x[M];E.node=N,f.fire("pointerEvents:collect-targets",E)}if(E.targets.length){for(var A=1/0,O=0,U=E.targets;O<U.length;O++){var L=U[O].eventable.options.holdDuration;L<A&&(A=L)}C.duration=A,C.timeout=setTimeout(function(){er({interaction:p,eventTarget:b,pointer:g,event:y,type:"hold"},f)},A)}})(c,a),er(c,a)},"interactions:up":function(c,a){Bl(c),er(c,a),function(u,f){var p=u.interaction,g=u.pointer,y=u.event,b=u.eventTarget;p.pointerWasMoved||er({interaction:p,eventTarget:b,pointer:g,event:y,type:"tap"},f)}(c,a)},"interactions:cancel":function(c,a){Bl(c),er(c,a)}},PointerEvent:Kp,fire:er,collectEventTargets:Qp,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function er(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget,y=c.type,b=c.targets,w=b===void 0?Qp(c,a):b,C=new Kp(y,f,p,g,u,a.now());a.fire("pointerEvents:new",{pointerEvent:C});for(var x={interaction:u,pointer:f,event:p,eventTarget:g,targets:w,type:y,pointerEvent:C},E=0;E<w.length;E++){var M=w[E];for(var N in M.props||{})C[N]=M.props[N];var A=_o(M.eventable,M.node);if(C._subtractOrigin(A),C.eventable=M.eventable,C.currentTarget=M.node,M.eventable.fire(C),C._addOrigin(A),C.immediatePropagationStopped||C.propagationStopped&&E+1<w.length&&w[E+1].node!==C.currentTarget)break}if(a.fire("pointerEvents:fired",x),y==="tap"){var O=C.double?er({interaction:u,pointer:f,event:p,eventTarget:g,type:"doubletap"},a):C;u.prevTap=O,u.tapTime=O.timeStamp}return C}function Qp(c,a){var u=c.interaction,f=c.pointer,p=c.event,g=c.eventTarget,y=c.type,b=u.getPointerIndex(f),w=u.pointers[b];if(y==="tap"&&(u.pointerWasMoved||!w||w.downTarget!==g))return[];for(var C=op(g),x={interaction:u,pointer:f,event:p,eventTarget:g,type:y,path:C,targets:[],node:null},E=0;E<C.length;E++){var M=C[E];x.node=M,a.fire("pointerEvents:collect-targets",x)}return y==="hold"&&(x.targets=x.targets.filter(function(N){var A,O;return N.eventable.options.holdDuration===((A=u.pointers[b])==null||(O=A.hold)==null?void 0:O.duration)})),x.targets}function Bl(c){var a=c.interaction,u=c.pointerIndex,f=a.pointers[u].hold;f&&f.timeout&&(clearTimeout(f.timeout),f.timeout=null)}var ex=Object.freeze({__proto__:null,default:ko});function tx(c){var a=c.interaction;a.holdIntervalHandle&&(clearInterval(a.holdIntervalHandle),a.holdIntervalHandle=null)}var nx={id:"pointer-events/holdRepeat",install:function(c){c.usePlugin(ko);var a=c.pointerEvents;a.defaults.holdRepeatInterval=0,a.types.holdrepeat=c.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(c,a){return c["pointerEvents:".concat(a)]=tx,c},{"pointerEvents:new":function(c){var a=c.pointerEvent;a.type==="hold"&&(a.count=(a.count||0)+1)},"pointerEvents:fired":function(c,a){var u=c.interaction,f=c.pointerEvent,p=c.eventTarget,g=c.targets;if(f.type==="hold"&&g.length){var y=g[0].eventable.options.holdRepeatInterval;y<=0||(u.holdIntervalHandle=setTimeout(function(){a.pointerEvents.fire({interaction:u,eventTarget:p,type:"hold",pointer:f,event:f},a)},y))}}})},rx=nx,ix={id:"pointer-events/interactableTargets",install:function(c){var a=c.Interactable;a.prototype.pointerEvents=function(f){return G(this.events.options,f),this};var u=a.prototype._backCompatOption;a.prototype._backCompatOption=function(f,p){var g=u.call(this,f,p);return g===this&&(this.events.options[f]=p),g}},listeners:{"pointerEvents:collect-targets":function(c,a){var u=c.targets,f=c.node,p=c.type,g=c.eventTarget;a.interactables.forEachMatch(f,function(y){var b=y.events,w=b.options;b.types[p]&&b.types[p].length&&y.testIgnoreAllow(w,f,g)&&u.push({node:f,eventable:b,props:{interactable:y}})})},"interactable:new":function(c){var a=c.interactable;a.events.getRect=function(u){return a.getRect(u)}},"interactable:set":function(c,a){var u=c.interactable,f=c.options;G(u.events.options,a.pointerEvents.defaults),G(u.events.options,f.pointerEvents||{})}}},ox=ix,sx={id:"pointer-events",install:function(c){c.usePlugin(ex),c.usePlugin(rx),c.usePlugin(ox)}},ax=sx,cx={id:"reflow",install:function(c){var a=c.Interactable;c.actions.phases.reflow=!0,a.prototype.reflow=function(u){return function(f,p,g){for(var y=f.getAllElements(),b=g.window.Promise,w=b?[]:null,C=function(){var E=y[x],M=f.getRect(E);if(!M)return 1;var N,A=Mo(g.interactions.list,function(L){return L.interacting()&&L.interactable===f&&L.element===E&&L.prepared.name===p.name});if(A)A.move(),w&&(N=A._reflowPromise||new b(function(L){A._reflowResolve=L}));else{var O=bl(M),U=function(L){return{coords:L,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:O.x,y:O.y},client:{x:O.x,y:O.y},timeStamp:g.now()});N=function(L,H,ce,ve,ee){var ue=L.interactions.new({pointerType:"reflow"}),mt={interaction:ue,event:ee,pointer:ee,eventTarget:ce,phase:"reflow"};ue.interactable=H,ue.element=ce,ue.prevEvent=ee,ue.updatePointer(ee,ee,ce,!0),lp(ue.coords.delta),Tl(ue.prepared,ve),ue._doPhase(mt);var je=L.window,_t=je.Promise,en=_t?new _t(function(Nn){ue._reflowResolve=Nn}):void 0;return ue._reflowPromise=en,ue.start(ve,H,ce),ue._interacting?(ue.move(mt),ue.end(ee)):(ue.stop(),ue._reflowResolve()),ue.removePointer(ee,ee),en}(g,f,E,p,U)}w&&w.push(N)},x=0;x<y.length&&!C();x++);return w&&b.all(w).then(function(){return f})}(this,u,c)}},listeners:{"interactions:stop":function(c,a){var u=c.interaction;u.pointerType==="reflow"&&(u._reflowResolve&&u._reflowResolve(),function(f,p){f.splice(f.indexOf(p),1)}(a.interactions.list,u))}}},lx=cx;if(pt.use(Ap),pt.use(Fp),pt.use(ax),pt.use(Sw),pt.use(Jw),pt.use(pw),pt.use(rw),pt.use(ow),pt.use(lx),pt.default=pt,(typeof ni>"u"?"undefined":n(ni))==="object"&&ni)try{ni.exports=pt}catch{}return pt.default=pt,pt})});var tm=null;var Hl=1,nm=Symbol("SIGNAL");function De(e){let t=tm;return tm=e,t}var rm={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bx(e){if(!(Wl(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Hl)){if(!e.producerMustRecompute(e)&&!zl(e)){e.dirty=!1,e.lastCleanEpoch=Hl;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Hl}}function im(e){return e&&(e.nextProducerIndex=0),De(e)}function om(e,t){if(De(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Wl(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Gl(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function zl(e){sa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(bx(n),r!==n.version))return!0}return!1}function sm(e){if(sa(e),Wl(e))for(let t=0;t<e.producerNode.length;t++)Gl(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Gl(e,t){if(wx(e),sa(e),e.liveConsumerNode.length===1)for(let r=0;r<e.producerNode.length;r++)Gl(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];sa(i),i.producerIndexOfThis[r]=t}}function Wl(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function sa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function wx(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function xx(){throw new Error}var Dx=xx;function am(e){Dx=e}function ae(e){return typeof e=="function"}function yi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var aa=yi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Po(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ke=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){t=o instanceof aa?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cm(o)}catch(s){t=t??[],s instanceof aa?t=[...t,...s.errors]:t.push(s)}}if(t)throw new aa(t)}}add(t){var n;if(t&&t!==this)if(this.closed)cm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Po(n,t)}remove(t){let{_finalizers:n}=this;n&&Po(n,t),t instanceof e&&t._removeParent(this)}};Ke.EMPTY=(()=>{let e=new Ke;return e.closed=!0,e})();var ql=Ke.EMPTY;function ca(e){return e instanceof Ke||e&&"closed"in e&&ae(e.remove)&&ae(e.add)&&ae(e.unsubscribe)}function cm(e){ae(e)?e():e.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bi={setTimeout(e,t,...n){let{delegate:r}=bi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=bi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function la(e){bi.setTimeout(()=>{let{onUnhandledError:t}=tn;if(t)t(e);else throw e})}function Fo(){}var lm=Yl("C",void 0,void 0);function um(e){return Yl("E",void 0,e)}function dm(e){return Yl("N",e,void 0)}function Yl(e,t,n){return{kind:e,value:t,error:n}}var Or=null;function wi(e){if(tn.useDeprecatedSynchronousErrorHandling){let t=!Or;if(t&&(Or={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Or;if(Or=null,n)throw r}}else e()}function fm(e){tn.useDeprecatedSynchronousErrorHandling&&Or&&(Or.errorThrown=!0,Or.error=e)}var kr=class extends Ke{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ca(t)&&t.add(this)):this.destination=Ex}static create(t,n,r){return new xi(t,n,r)}next(t){this.isStopped?Kl(dm(t),this):this._next(t)}error(t){this.isStopped?Kl(um(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Kl(lm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Cx=Function.prototype.bind;function Xl(e,t){return Cx.call(e,t)}var Ql=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ua(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ua(r)}else ua(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ua(n)}}},xi=class extends kr{constructor(t,n,r){super();let i;if(ae(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Xl(t.next,o),error:t.error&&Xl(t.error,o),complete:t.complete&&Xl(t.complete,o)}):i=t}this.destination=new Ql(i)}};function ua(e){tn.useDeprecatedSynchronousErrorHandling?fm(e):la(e)}function _x(e){throw e}function Kl(e,t){let{onStoppedNotification:n}=tn;n&&bi.setTimeout(()=>n(e,t))}var Ex={closed:!0,next:Fo,error:_x,complete:Fo};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(e){return e}function Zl(...e){return Jl(e)}function Jl(e){return e.length===0?Et:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var Ie=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Ix(n)?n:new xi(n,r,i);return wi(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hm(r),new r((i,o)=>{let s=new xi({next:l=>{try{n(l)}catch(d){o(d),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Di](){return this}pipe(...n){return Jl(n)(this)}toPromise(n){return n=hm(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function hm(e){var t;return(t=e??tn.Promise)!==null&&t!==void 0?t:Promise}function Sx(e){return e&&ae(e.next)&&ae(e.error)&&ae(e.complete)}function Ix(e){return e&&e instanceof kr||Sx(e)&&ca(e)}function eu(e){return ae(e?.lift)}function we(e){return t=>{if(eu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(e,t,n,r,i){return new tu(e,t,n,r,i)}var tu=class extends kr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(l){try{n(l)}catch(d){t.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ci(){return we((e,t)=>{let n=null;e._refCount++;let r=xe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var _i=class extends Ie{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ke;let n=this.getSubject();t.add(this.source.subscribe(xe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ke.EMPTY)}return t}refCount(){return Ci()(this)}};var pm=yi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class e extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new da(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new pm}next(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){wi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?ql:(this.currentObservers=null,o.push(n),new Ke(()=>{this.currentObservers=null,Po(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Ie;return n.source=this,n}}return e.create=(t,n)=>new da(t,n),e})(),da=class extends gt{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:ql}};var rt=class extends gt{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var St=new Ie(e=>e.complete());function mm(e){return e&&ae(e.schedule)}function gm(e){return e[e.length-1]}function vm(e){return ae(gm(e))?e.pop():void 0}function tr(e){return mm(gm(e))?e.pop():void 0}function bm(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(v){try{h(r.next(v))}catch(m){s(m)}}function d(v){try{h(r.throw(v))}catch(m){s(m)}}function h(v){v.done?o(v.value):i(v.value).then(l,d)}h((r=r.apply(e,t||[])).next())})}function ym(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rr(e){return this instanceof Rr?(this.v=e,this):new Rr(e)}function wm(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,m)}}function l(_,S){r[_]&&(i[_]=function(T){return new Promise(function(k,R){o.push([_,T,k,R])>1||d(_,T)})},S&&(i[_]=S(i[_])))}function d(_,S){try{h(r[_](S))}catch(T){D(o[0][3],T)}}function h(_){_.value instanceof Rr?Promise.resolve(_.value.v).then(v,m):D(o[0][2],_)}function v(_){d("next",_)}function m(_){d("throw",_)}function D(_,S){_(S),o.shift(),o.length&&d(o[0][0],o[0][1])}}function xm(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ym=="function"?ym(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(l,d){s=e[o](s),i(l,d,s.done,s.value)})}}function i(o,s,l,d){Promise.resolve(d).then(function(h){o({value:h,done:l})},s)}}var fa=e=>e&&typeof e.length=="number"&&typeof e!="function";function ha(e){return ae(e?.then)}function pa(e){return ae(e[Di])}function ma(e){return Symbol.asyncIterator&&ae(e?.[Symbol.asyncIterator])}function ga(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Mx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var va=Mx();function ya(e){return ae(e?.[va])}function ba(e){return wm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Rr(n.read());if(i)return yield Rr(void 0);yield yield Rr(r)}}finally{n.releaseLock()}})}function wa(e){return ae(e?.getReader)}function et(e){if(e instanceof Ie)return e;if(e!=null){if(pa(e))return Tx(e);if(fa(e))return Ax(e);if(ha(e))return Nx(e);if(ma(e))return Dm(e);if(ya(e))return Ox(e);if(wa(e))return kx(e)}throw ga(e)}function Tx(e){return new Ie(t=>{let n=e[Di]();if(ae(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ax(e){return new Ie(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Nx(e){return new Ie(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,la)})}function Ox(e){return new Ie(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Dm(e){return new Ie(t=>{Rx(e,t).catch(n=>t.error(n))})}function kx(e){return Dm(ba(e))}function Rx(e,t){var n,r,i,o;return bm(this,void 0,void 0,function*(){try{for(n=xm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function wt(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function xa(e,t=0){return we((n,r)=>{n.subscribe(xe(r,i=>wt(r,e,()=>r.next(i),t),()=>wt(r,e,()=>r.complete(),t),i=>wt(r,e,()=>r.error(i),t)))})}function Da(e,t=0){return we((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Cm(e,t){return et(e).pipe(Da(t),xa(t))}function _m(e,t){return et(e).pipe(Da(t),xa(t))}function Em(e,t){return new Ie(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Sm(e,t){return new Ie(n=>{let r;return wt(n,t,()=>{r=e[va](),wt(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function Ca(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ie(n=>{wt(n,t,()=>{let r=e[Symbol.asyncIterator]();wt(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Im(e,t){return Ca(ba(e),t)}function Mm(e,t){if(e!=null){if(pa(e))return Cm(e,t);if(fa(e))return Em(e,t);if(ha(e))return _m(e,t);if(ma(e))return Ca(e,t);if(ya(e))return Sm(e,t);if(wa(e))return Im(e,t)}throw ga(e)}function qe(e,t){return t?Mm(e,t):et(e)}function se(...e){let t=tr(e);return qe(e,t)}function Ei(e,t){let n=ae(e)?e:()=>e,r=i=>i.error(n());return new Ie(t?i=>t.schedule(r,0,i):r)}function nu(e){return!!e&&(e instanceof Ie||ae(e.lift)&&ae(e.subscribe))}var On=yi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function be(e,t){return we((n,r)=>{let i=0;n.subscribe(xe(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:Px}=Array;function Fx(e,t){return Px(t)?e(...t):e(t)}function Tm(e){return be(t=>Fx(e,t))}var{isArray:Lx}=Array,{getPrototypeOf:jx,prototype:Vx,keys:$x}=Object;function Am(e){if(e.length===1){let t=e[0];if(Lx(t))return{args:t,keys:null};if(Bx(t)){let n=$x(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function Bx(e){return e&&typeof e=="object"&&jx(e)===Vx}function Nm(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function _a(...e){let t=tr(e),n=vm(e),{args:r,keys:i}=Am(e);if(r.length===0)return qe([],t);let o=new Ie(Ux(r,t,i?s=>Nm(i,s):Et));return n?o.pipe(Tm(n)):o}function Ux(e,t,n=Et){return r=>{Om(t,()=>{let{length:i}=e,o=new Array(i),s=i,l=i;for(let d=0;d<i;d++)Om(t,()=>{let h=qe(e[d],t),v=!1;h.subscribe(xe(r,m=>{o[d]=m,v||(v=!0,l--),l||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Om(e,t,n){e?wt(n,e,t):t()}function km(e,t,n,r,i,o,s,l){let d=[],h=0,v=0,m=!1,D=()=>{m&&!d.length&&!h&&t.complete()},_=T=>h<r?S(T):d.push(T),S=T=>{o&&t.next(T),h++;let k=!1;et(n(T,v++)).subscribe(xe(t,R=>{i?.(R),o?_(R):t.next(R)},()=>{k=!0},void 0,()=>{if(k)try{for(h--;d.length&&h<r;){let R=d.shift();s?wt(t,s,()=>S(R)):S(R)}D()}catch(R){t.error(R)}}))};return e.subscribe(xe(t,_,()=>{m=!0,D()})),()=>{l?.()}}function Qe(e,t,n=1/0){return ae(t)?Qe((r,i)=>be((o,s)=>t(r,o,i,s))(et(e(r,i))),n):(typeof t=="number"&&(n=t),we((r,i)=>km(r,i,e,n)))}function ru(e=1/0){return Qe(Et,e)}function Rm(){return ru(1)}function Si(...e){return Rm()(qe(e,tr(e)))}function Ea(e){return new Ie(t=>{et(e()).subscribe(t)})}function Pt(e,t){return we((n,r)=>{let i=0;n.subscribe(xe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function nr(e){return we((t,n)=>{let r=null,i=!1,o;r=t.subscribe(xe(n,void 0,void 0,s=>{o=et(e(s,nr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Pm(e,t,n,r,i){return(o,s)=>{let l=n,d=t,h=0;o.subscribe(xe(s,v=>{let m=h++;d=l?e(d,v,m):(l=!0,v),r&&s.next(d)},i&&(()=>{l&&s.next(d),s.complete()})))}}function Pr(e,t){return ae(t)?Qe(e,t,1):Qe(e,1)}function rr(e){return we((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function kn(e){return e<=0?()=>St:we((t,n)=>{let r=0;t.subscribe(xe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function iu(e){return be(()=>e)}function Sa(e=Hx){return we((t,n)=>{let r=!1;t.subscribe(xe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Hx(){return new On}function Ii(e){return we((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function nn(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Pt((i,o)=>e(i,o,r)):Et,kn(1),n?rr(t):Sa(()=>new On))}function Mi(e){return e<=0?()=>St:we((t,n)=>{let r=[];t.subscribe(xe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ou(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Pt((i,o)=>e(i,o,r)):Et,Mi(1),n?rr(t):Sa(()=>new On))}function su(e,t){return we(Pm(e,t,arguments.length>=2,!0))}function au(...e){let t=tr(e);return we((n,r)=>{(t?Si(e,n,t):Si(e,n)).subscribe(r)})}function Ft(e,t){return we((n,r)=>{let i=null,o=0,s=!1,l=()=>s&&!i&&r.complete();n.subscribe(xe(r,d=>{i?.unsubscribe();let h=0,v=o++;et(e(d,v)).subscribe(i=xe(r,m=>r.next(t?t(d,m,v,h++):m),()=>{i=null,l()}))},()=>{s=!0,l()}))})}function cu(e){return we((t,n)=>{et(e).subscribe(xe(n,()=>n.complete(),Fo)),!n.closed&&t.subscribe(n)})}function Ze(e,t,n){let r=ae(e)||t||n?{next:e,error:t,complete:n}:e;return r?we((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;i.subscribe(xe(o,d=>{var h;(h=r.next)===null||h===void 0||h.call(r,d),o.next(d)},()=>{var d;l=!1,(d=r.complete)===null||d===void 0||d.call(r),o.complete()},d=>{var h;l=!1,(h=r.error)===null||h===void 0||h.call(r,d),o.error(d)},()=>{var d,h;l&&((d=r.unsubscribe)===null||d===void 0||d.call(r)),(h=r.finalize)===null||h===void 0||h.call(r)}))}):Et}var yg="https://g.co/ng/security#xss",Y=class extends Error{constructor(t,n){super(rc(t,n)),this.code=t}};function rc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function Qo(e){return{toString:e}.toString()}var Ia="__parameters__";function zx(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function bg(e,t,n){return Qo(()=>{let r=zx(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return l.annotation=s,l;function l(d,h,v){let m=d.hasOwnProperty(Ia)?d[Ia]:Object.defineProperty(d,Ia,{value:[]})[Ia];for(;m.length<=v;)m.push(null);return(m[v]=m[v]||[]).push(s),d}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Lo=globalThis;function Re(e){for(let t in e)if(e[t]===Re)return t;throw Error("Could not find renamed property on target object.")}function xt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(xt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Fm(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Gx=Re({__forward_ref__:Re});function wg(e){return e.__forward_ref__=wg,e.toString=function(){return xt(this())},e}function jt(e){return xg(e)?e():e}function xg(e){return typeof e=="function"&&e.hasOwnProperty(Gx)&&e.__forward_ref__===wg}function X(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ic(e){return{providers:e.providers||[],imports:e.imports||[]}}function oc(e){return Lm(e,Cg)||Lm(e,_g)}function Dg(e){return oc(e)!==null}function Lm(e,t){return e.hasOwnProperty(t)?e[t]:null}function Wx(e){let t=e&&(e[Cg]||e[_g]);return t||null}function jm(e){return e&&(e.hasOwnProperty(Vm)||e.hasOwnProperty(qx))?e[Vm]:null}var Cg=Re({\u0275prov:Re}),Vm=Re({\u0275inj:Re}),_g=Re({ngInjectableDef:Re}),qx=Re({ngInjectorDef:Re}),me=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=X({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Eg(e){return e&&!!e.\u0275providers}var Yx=Re({\u0275cmp:Re}),Xx=Re({\u0275dir:Re}),Kx=Re({\u0275pipe:Re}),Qx=Re({\u0275mod:Re}),La=Re({\u0275fac:Re}),jo=Re({__NG_ELEMENT_ID__:Re}),$m=Re({__NG_ENV_ID__:Re});function sc(e){return typeof e=="string"?e:e==null?"":String(e)}function Zx(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():sc(e)}function Jx(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Y(-200,e)}function md(e,t){throw new Y(-201,!1)}var ge=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ge||{}),xu;function Sg(){return xu}function Lt(e){let t=xu;return xu=e,t}function Ig(e,t,n){let r=oc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ge.Optional)return null;if(t!==void 0)return t;md(e,"Injector")}var eD={},Vo=eD,Du="__NG_DI_FLAG__",ja="ngTempTokenPath",tD="ngTokenPath",nD=/\n/gm,rD="\u0275",Bm="__source",Oi;function iD(){return Oi}function ir(e){let t=Oi;return Oi=e,t}function oD(e,t=ge.Default){if(Oi===void 0)throw new Y(-203,!1);return Oi===null?Ig(e,void 0,t):Oi.get(e,t&ge.Optional?null:void 0,t)}function ye(e,t=ge.Default){return(Sg()||oD)(jt(e),t)}function P(e,t=ge.Default){return ye(e,ac(t))}function ac(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cu(e){let t=[];for(let n=0;n<e.length;n++){let r=jt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new Y(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){let l=r[s],d=sD(l);typeof d=="number"?d===-1?i=l.token:o|=d:i=l}t.push(ye(i,o))}else t.push(ye(r))}return t}function Mg(e,t){return e[Du]=t,e.prototype[Du]=t,e}function sD(e){return e[Du]}function aD(e,t,n,r){let i=e[ja];throw t[Bm]&&i.unshift(t[Bm]),e.message=cD(`
`+e.message,i,n,r),e[tD]=i,e[ja]=null,e}function cD(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==rD?e.slice(2):e;let i=xt(t);if(Array.isArray(t))i=t.map(xt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let l=t[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):xt(l)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(nD,`
  `)}`}var cc=Mg(bg("Optional"),8);var gd=Mg(bg("SkipSelf"),4);function Ri(e,t){let n=e.hasOwnProperty(La);return n?e[La]:null}function lD(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function uD(e){return e.flat(Number.POSITIVE_INFINITY)}function vd(e,t){e.forEach(n=>Array.isArray(n)?vd(n,t):t(n))}function Tg(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Va(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var $o={},on=[],Lr=new me(""),Ag=new me("",-1),Ng=new me(""),$a=class{get(t,n=Vo){if(n===Vo){let r=new Error(`NullInjectorError: No provider for ${xt(t)}!`);throw r.name="NullInjectorError",r}return n}},Og=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Og||{}),vn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(vn||{}),Pn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Pn||{});function dD(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function _u(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],l=n[r++];e.setAttribute(t,s,l,o)}else{let o=i,s=n[++r];hD(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function fD(e){return e===3||e===4||e===6}function hD(e){return e.charCodeAt(0)===64}function yd(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Um(e,n,i,null,t[++r]):Um(e,n,i,null,null))}}return e}function Um(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let l=e[o++];if(typeof l=="number"){if(l===t){s=-1;break}else if(l>t){s=o-1;break}}}for(;o<e.length;){let l=e[o];if(typeof l=="number")break;if(l===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var kg="ng-template";function pD(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&dD(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(bd(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function bd(e){return e.type===4&&e.value!==kg}function mD(e,t,n){let r=e.type===4&&!n?kg:e.value;return t===r}function gD(e,t,n){let r=4,i=e.attrs,o=i!==null?bD(i):0,s=!1;for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="number"){if(!s&&!rn(r)&&!rn(d))return!1;if(s&&rn(d))continue;s=!1,r=d|r&1;continue}if(!s)if(r&4){if(r=2|r&1,d!==""&&!mD(e,d,n)||d===""&&t.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!pD(e,i,d,n)){if(rn(r))return!1;s=!0}}else{let h=t[++l],v=vD(d,i,bd(e),n);if(v===-1){if(rn(r))return!1;s=!0;continue}if(h!==""){let m;if(v>o?m="":m=i[v+1].toLowerCase(),r&2&&h!==m){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(e){return(e&1)===0}function vD(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=t[++i];for(;typeof l=="string";)l=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return wD(t,e)}function yD(e,t,n=!1){for(let r=0;r<t.length;r++)if(gD(e,t[r],n))return!0;return!1}function bD(e){for(let t=0;t<e.length;t++){let n=e[t];if(fD(n))return t}return e.length}function wD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Hm(e,t){return e?":not("+t.trim()+")":t}function xD(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let l=e[++n];i+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(t+=Hm(o,i),i=""),r=s,o=o||!rn(r);n++}return i!==""&&(t+=Hm(o,i)),t}function DD(e){return e.map(xD).join(",")}function CD(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:t,classes:n}}function cr(e){return Qo(()=>{let t=jg(e),n=Le(j({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Og.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||vn.Emulated,styles:e.styles||on,_:null,schemas:e.schemas||null,tView:null,id:""});Vg(n);let r=e.dependencies;return n.directiveDefs=Gm(r,!1),n.pipeDefs=Gm(r,!0),n.id=SD(n),n})}function _D(e){return jr(e)||Rg(e)}function ED(e){return e!==null}function lc(e){return Qo(()=>({type:e.type,bootstrap:e.bootstrap||on,declarations:e.declarations||on,imports:e.imports||on,exports:e.exports||on,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function zm(e,t){if(e==null)return $o;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,l=Pn.None;Array.isArray(i)?(l=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(n[o]=l!==Pn.None?[r,l]:r,t[o]=s):n[o]=r}return n}function zr(e){return Qo(()=>{let t=jg(e);return Vg(t),t})}function jr(e){return e[Yx]||null}function Rg(e){return e[Xx]||null}function Pg(e){return e[Kx]||null}function Fg(e){let t=jr(e)||Rg(e)||Pg(e);return t!==null?t.standalone:!1}function Lg(e,t){let n=e[Qx]||null;if(!n&&t===!0)throw new Error(`Type ${xt(e)} does not have '\u0275mod' property.`);return n}function jg(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||$o,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||on,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zm(e.inputs,t),outputs:zm(e.outputs),debugInfo:null}}function Vg(e){e.features?.forEach(t=>t(e))}function Gm(e,t){if(!e)return null;let n=t?Pg:_D;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(ED)}function SD(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Gr(e){return{\u0275providers:e}}function ID(...e){return{\u0275providers:$g(!0,e),\u0275fromNgModule:!0}}function $g(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return vd(t,s=>{let l=s;Eu(l,o,[],r)&&(i||=[],i.push(l))}),i!==void 0&&Bg(i,o),n}function Bg(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];wd(i,o=>{t(o,r)})}}function Eu(e,t,n,r){if(e=jt(e),!e)return!1;let i=null,o=jm(e),s=!o&&jr(e);if(!o&&!s){let d=e.ngModule;if(o=jm(d),o)i=d;else return!1}else{if(s&&!s.standalone)return!1;i=e}let l=r.has(i);if(s){if(l)return!1;if(r.add(i),s.dependencies){let d=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let h of d)Eu(h,t,n,r)}}else if(o){if(o.imports!=null&&!l){r.add(i);let h;try{vd(o.imports,v=>{Eu(v,t,n,r)&&(h||=[],h.push(v))})}finally{}h!==void 0&&Bg(h,t)}if(!l){let h=Ri(i)||(()=>new i);t({provide:i,useFactory:h,deps:on},i),t({provide:Ng,useValue:i,multi:!0},i),t({provide:Lr,useValue:()=>ye(i),multi:!0},i)}let d=o.providers;if(d!=null&&!l){let h=e;wd(d,v=>{t(v,h)})}}else return!1;return i!==e&&e.providers!==void 0}function wd(e,t){for(let n of e)Eg(n)&&(n=n.\u0275providers),Array.isArray(n)?wd(n,t):t(n)}var MD=Re({provide:String,useValue:Re});function Ug(e){return e!==null&&typeof e=="object"&&MD in e}function TD(e){return!!(e&&e.useExisting)}function AD(e){return!!(e&&e.useFactory)}function Su(e){return typeof e=="function"}var uc=new me(""),Na={},ND={},lu;function xd(){return lu===void 0&&(lu=new $a),lu}var $t=class{},Bo=class extends $t{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mu(t,s=>this.processProvider(s)),this.records.set(Ag,Ti(void 0,this)),i.has("environment")&&this.records.set($t,Ti(void 0,this));let o=this.records.get(uc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Ng,on,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=De(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=ir(this),r=Lt(void 0),i;try{return t()}finally{ir(n),Lt(r)}}get(t,n=Vo,r=ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty($m))return t[$m](this);r=ac(r);let i,o=ir(this),s=Lt(void 0);try{if(!(r&ge.SkipSelf)){let d=this.records.get(t);if(d===void 0){let h=LD(t)&&oc(t);h&&this.injectableDefInScope(h)?d=Ti(Iu(t),Na):d=null,this.records.set(t,d)}if(d!=null)return this.hydrate(t,d)}let l=r&ge.Self?xd():this.parent;return n=r&ge.Optional&&n===Vo?null:n,l.get(t,n)}catch(l){if(l.name==="NullInjectorError"){if((l[ja]=l[ja]||[]).unshift(xt(t)),o)throw l;return aD(l,t,"R3InjectorError",this.source)}else throw l}finally{Lt(s),ir(o)}}resolveInjectorInitializers(){let t=De(null),n=ir(this),r=Lt(void 0),i;try{let o=this.get(Lr,on,ge.Self);for(let s of o)s()}finally{ir(n),Lt(r),De(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(xt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Y(205,!1)}processProvider(t){t=jt(t);let n=Su(t)?t:jt(t&&t.provide),r=kD(t);if(!Su(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ti(void 0,Na,!0),i.factory=()=>Cu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=De(null);try{return n.value===Na&&(n.value=ND,n.value=n.factory()),typeof n.value=="object"&&n.value&&FD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{De(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=jt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Iu(e){let t=oc(e),n=t!==null?t.factory:Ri(e);if(n!==null)return n;if(e instanceof me)throw new Y(204,!1);if(e instanceof Function)return OD(e);throw new Y(204,!1)}function OD(e){if(e.length>0)throw new Y(204,!1);let n=Wx(e);return n!==null?()=>n.factory(e):()=>new e}function kD(e){if(Ug(e))return Ti(void 0,e.useValue);{let t=RD(e);return Ti(t,Na)}}function RD(e,t,n){let r;if(Su(e)){let i=jt(e);return Ri(i)||Iu(i)}else if(Ug(e))r=()=>jt(e.useValue);else if(AD(e))r=()=>e.useFactory(...Cu(e.deps||[]));else if(TD(e))r=()=>ye(jt(e.useExisting));else{let i=jt(e&&(e.useClass||e.provide));if(PD(e))r=()=>new i(...Cu(e.deps));else return Ri(i)||Iu(i)}return r}function Ti(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function PD(e){return!!e.deps}function FD(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function LD(e){return typeof e=="function"||typeof e=="object"&&e instanceof me}function Mu(e,t){for(let n of e)Array.isArray(n)?Mu(n,t):n&&Eg(n)?Mu(n.\u0275providers,t):t(n)}function lr(e,t){e instanceof Bo&&e.assertNotDestroyed();let n,r=ir(e),i=Lt(void 0);try{return t()}finally{ir(r),Lt(i)}}function jD(){return Sg()!==void 0||iD()!=null}function VD(e){return typeof e=="function"}var It=0,le=1,ne=2,tt=3,sn=4,un=5,an=6,Uo=7,Bt=8,Pi=9,cn=10,$e=11,Ho=12,Wm=13,Vi=14,Ut=15,Zo=16,Ai=17,Fn=18,dc=19,Hg=20,or=21,uu=22,Vr=23,it=25,zg=1,zo=6,Ln=7,Ba=8,Fi=9,vt=10,Dd=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Dd||{});function Rn(e){return Array.isArray(e)&&typeof e[zg]=="object"}function yn(e){return Array.isArray(e)&&e[zg]===!0}function Cd(e){return(e.flags&4)!==0}function Jo(e){return e.componentOffset>-1}function fc(e){return(e.flags&1)===1}function es(e){return!!e.template}function Gg(e){return(e[ne]&512)!==0}var Tu=class{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Wg(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}function hc(){return qg}function qg(e){return e.type.prototype.ngOnChanges&&(e.setInput=BD),$D}hc.ngInherit=!0;function $D(){let e=Xg(this),t=e?.current;if(t){let n=e.previous;if(n===$o)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BD(e,t,n,r,i){let o=this.declaredInputs[r],s=Xg(e)||UD(e,{previous:$o,current:null}),l=s.current||(s.current={}),d=s.previous,h=d[o];l[o]=new Tu(h&&h.currentValue,n,d===$o),Wg(e,t,i,n)}var Yg="__ngSimpleChanges__";function Xg(e){return e[Yg]||null}function UD(e,t){return e[Yg]=t}var qm=null;var mn=function(e,t,n){qm?.(e,t,n)},Kg="svg",HD="math",zD=!1;function GD(){return zD}function ln(e){for(;Array.isArray(e);)e=e[It];return e}function WD(e,t){return ln(t[e])}function Mt(e,t){return ln(t[e.index])}function _d(e,t){return e.data[t]}function qD(e,t){return e[t]}function ur(e,t){let n=t[e];return Rn(n)?n:n[It]}function YD(e){return(e[ne]&4)===4}function Ed(e){return(e[ne]&128)===128}function XD(e){return yn(e[tt])}function Li(e,t){return t==null?null:e[t]}function Qg(e){e[Ai]=0}function KD(e){e[ne]&1024||(e[ne]|=1024,Ed(e)&&Go(e))}function QD(e,t){for(;e>0;)t=t[Vi],e--;return t}function Sd(e){return!!(e[ne]&9216||e[Vr]?.dirty)}function Au(e){e[cn].changeDetectionScheduler?.notify(1),Sd(e)?Go(e):e[ne]&64&&(GD()?(e[ne]|=1024,Go(e)):e[cn].changeDetectionScheduler?.notify())}function Go(e){e[cn].changeDetectionScheduler?.notify();let t=Wo(e);for(;t!==null&&!(t[ne]&8192||(t[ne]|=8192,!Ed(t)));)t=Wo(t)}function Zg(e,t){if((e[ne]&256)===256)throw new Y(911,!1);e[or]===null&&(e[or]=[]),e[or].push(t)}function ZD(e,t){if(e[or]===null)return;let n=e[or].indexOf(t);n!==-1&&e[or].splice(n,1)}function Wo(e){let t=e[tt];return yn(t)?t[tt]:t}var he={lFrame:sv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function JD(){return he.lFrame.elementDepthCount}function eC(){he.lFrame.elementDepthCount++}function tC(){he.lFrame.elementDepthCount--}function Jg(){return he.bindingsEnabled}function ts(){return he.skipHydrationRootTNode!==null}function nC(e){return he.skipHydrationRootTNode===e}function rC(e){he.skipHydrationRootTNode=e}function iC(){he.skipHydrationRootTNode=null}function Me(){return he.lFrame.lView}function Tt(){return he.lFrame.tView}function Ye(e){return he.lFrame.contextLView=e,e[Bt]}function Xe(e){return he.lFrame.contextLView=null,e}function Ht(){let e=ev();for(;e!==null&&e.type===64;)e=e.parent;return e}function ev(){return he.lFrame.currentTNode}function oC(){let e=he.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Wr(e,t){let n=he.lFrame;n.currentTNode=e,n.isParent=t}function Id(){return he.lFrame.isParent}function tv(){he.lFrame.isParent=!1}function sC(){return he.lFrame.contextLView}function nv(){let e=he.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function aC(e){return he.lFrame.bindingIndex=e}function pc(){return he.lFrame.bindingIndex++}function cC(){return he.lFrame.inI18n}function lC(e,t){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=e,Nu(t)}function uC(){return he.lFrame.currentDirectiveIndex}function Nu(e){he.lFrame.currentDirectiveIndex=e}function rv(){return he.lFrame.currentQueryIndex}function Md(e){he.lFrame.currentQueryIndex=e}function dC(e){let t=e[le];return t.type===2?t.declTNode:t.type===1?e[un]:null}function iv(e,t,n){if(n&ge.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&ge.Host);)if(i=dC(o),i===null||(o=o[Vi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=he.lFrame=ov();return r.currentTNode=t,r.lView=e,!0}function Td(e){let t=ov(),n=e[le];he.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ov(){let e=he.lFrame,t=e===null?null:e.child;return t===null?sv(e):t}function sv(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function av(){let e=he.lFrame;return he.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var cv=av;function Ad(){let e=av();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fC(e){return(he.lFrame.contextLView=QD(e,he.lFrame.contextLView))[Bt]}function Nd(){return he.lFrame.selectedIndex}function $r(e){he.lFrame.selectedIndex=e}function Od(){let e=he.lFrame;return _d(e.tView,e.selectedIndex)}function ze(){he.lFrame.currentNamespace=Kg}function mc(){hC()}function hC(){he.lFrame.currentNamespace=null}function lv(){return he.lFrame.currentNamespace}var uv=!0;function gc(){return uv}function bn(e){uv=e}function pC(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=qg(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function vc(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:h,ngOnDestroy:v}=o;s&&(e.contentHooks??=[]).push(-n,s),l&&((e.contentHooks??=[]).push(n,l),(e.contentCheckHooks??=[]).push(n,l)),d&&(e.viewHooks??=[]).push(-n,d),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),v!=null&&(e.destroyHooks??=[]).push(n,v)}}function Oa(e,t,n){dv(e,t,3,n)}function ka(e,t,n,r){(e[ne]&3)===n&&dv(e,t,n,r)}function du(e,t){let n=e[ne];(n&3)===t&&(n&=16383,n+=1,e[ne]=n)}function dv(e,t,n,r){let i=r!==void 0?e[Ai]&65535:0,o=r??-1,s=t.length-1,l=0;for(let d=i;d<s;d++)if(typeof t[d+1]=="number"){if(l=t[d],r!=null&&l>=r)break}else t[d]<0&&(e[Ai]+=65536),(l<o||o==-1)&&(mC(e,n,t,d),e[Ai]=(e[Ai]&4294901760)+d+2),d++}function Ym(e,t){mn(4,e,t);let n=De(null);try{t.call(e)}finally{De(n),mn(5,e,t)}}function mC(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],l=e[s];i?e[ne]>>14<e[Ai]>>16&&(e[ne]&3)===t&&(e[ne]+=16384,Ym(l,o)):Ym(l,o)}var ki=-1,qo=class{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function gC(e){return e instanceof qo}function vC(e){return(e.flags&8)!==0}function yC(e){return(e.flags&16)!==0}function fv(e){return e!==ki}function Ua(e){return e&32767}function bC(e){return e>>16}function Ha(e,t){let n=bC(e),r=t;for(;n>0;)r=r[Vi],n--;return r}var Ou=!0;function Xm(e){let t=Ou;return Ou=e,t}var wC=256,hv=wC-1,pv=5,xC=0,gn={};function DC(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(jo)&&(r=n[jo]),r==null&&(r=n[jo]=xC++);let i=r&hv,o=1<<i;t.data[e+(i>>pv)]|=o}function mv(e,t){let n=gv(e,t);if(n!==-1)return n;let r=t[le];r.firstCreatePass&&(e.injectorIndex=t.length,fu(r.data,e),fu(t,null),fu(r.blueprint,null));let i=kd(e,t),o=e.injectorIndex;if(fv(i)){let s=Ua(i),l=Ha(i,t),d=l[le].data;for(let h=0;h<8;h++)t[o+h]=l[s+h]|d[s+h]}return t[o+8]=i,o}function fu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function gv(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function kd(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=xv(i),r===null)return ki;if(n++,i=i[Vi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ki}function CC(e,t,n){DC(e,t,n)}function vv(e,t,n){if(n&ge.Optional||e!==void 0)return e;md(t,"NodeInjector")}function yv(e,t,n,r){if(n&ge.Optional&&r===void 0&&(r=null),!(n&(ge.Self|ge.Host))){let i=e[Pi],o=Lt(void 0);try{return i?i.get(t,r,n&ge.Optional):Ig(t,r,n&ge.Optional)}finally{Lt(o)}}return vv(r,t,n)}function bv(e,t,n,r=ge.Default,i){if(e!==null){if(t[ne]&2048&&!(r&ge.Self)){let s=IC(e,t,n,r,gn);if(s!==gn)return s}let o=wv(e,t,n,r,gn);if(o!==gn)return o}return yv(t,n,r,i)}function wv(e,t,n,r,i){let o=EC(n);if(typeof o=="function"){if(!iv(t,e,r))return r&ge.Host?vv(i,n,r):yv(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ge.Optional))md(n);else return s}finally{cv()}}else if(typeof o=="number"){let s=null,l=gv(e,t),d=ki,h=r&ge.Host?t[Ut][un]:null;for((l===-1||r&ge.SkipSelf)&&(d=l===-1?kd(e,t):t[l+8],d===ki||!Qm(r,!1)?l=-1:(s=t[le],l=Ua(d),t=Ha(d,t)));l!==-1;){let v=t[le];if(Km(o,l,v.data)){let m=_C(l,t,n,s,r,h);if(m!==gn)return m}d=t[l+8],d!==ki&&Qm(r,t[le].data[l+8]===h)&&Km(o,l,t)?(s=v,l=Ua(d),t=Ha(d,t)):l=-1}}return i}function _C(e,t,n,r,i,o){let s=t[le],l=s.data[e+8],d=r==null?Jo(l)&&Ou:r!=s&&(l.type&3)!==0,h=i&ge.Host&&o===l,v=Ra(l,s,n,d,h);return v!==null?ji(t,s,v,l):gn}function Ra(e,t,n,r,i){let o=e.providerIndexes,s=t.data,l=o&1048575,d=e.directiveStart,h=e.directiveEnd,v=o>>20,m=r?l:l+v,D=i?l+v:h;for(let _=m;_<D;_++){let S=s[_];if(_<d&&n===S||_>=d&&S.type===n)return _}if(i){let _=s[d];if(_&&es(_)&&_.type===n)return d}return null}function ji(e,t,n,r){let i=e[n],o=t.data;if(gC(i)){let s=i;s.resolving&&Jx(Zx(o[n]));let l=Xm(s.canSeeViewProviders);s.resolving=!0;let d,h=s.injectImpl?Lt(s.injectImpl):null,v=iv(e,r,ge.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&pC(n,o[n],t)}finally{h!==null&&Lt(h),Xm(l),s.resolving=!1,cv()}}return i}function EC(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(jo)?e[jo]:void 0;return typeof t=="number"?t>=0?t&hv:SC:t}function Km(e,t,n){let r=1<<e;return!!(n[t+(e>>pv)]&r)}function Qm(e,t){return!(e&ge.Self)&&!(e&ge.Host&&t)}var Fr=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return bv(this._tNode,this._lView,t,ac(r),n)}};function SC(){return new Fr(Ht(),Me())}function Rd(e){return Qo(()=>{let t=e.prototype.constructor,n=t[La]||ku(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[La]||ku(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ku(e){return xg(e)?()=>{let t=ku(jt(e));return t&&t()}:Ri(e)}function IC(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let l=wv(o,s,n,r|ge.Self,gn);if(l!==gn)return l;let d=o.parent;if(!d){let h=s[Hg];if(h){let v=h.get(n,gn,r);if(v!==gn)return v}d=xv(s),s=s[Vi]}o=d}return i}function xv(e){let t=e[le],n=t.type;return n===2?t.declTNode:n===1?e[un]:null}function Zm(e,t=null,n=null,r){let i=Dv(e,t,n,r);return i.resolveInjectorInitializers(),i}function Dv(e,t=null,n=null,r,i=new Set){let o=[n||on,ID(e)];return r=r||(typeof e=="object"?void 0:xt(e)),new Bo(o,t||xd(),r||null,i)}var qr=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Vo}static{this.NULL=new $a}static create(n,r){if(Array.isArray(n))return Zm({name:""},r,n,"");{let i=n.name??"";return Zm({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=X({token:e,providedIn:"any",factory:()=>ye(Ag)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();var MC="ngOriginalError";function hu(e){return e[MC]}var jn=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&hu(t);for(;n&&hu(n);)n=hu(n);return n||null}},Cv=new me("",{providedIn:"root",factory:()=>P(jn).handleError.bind(void 0)}),_v=(()=>{class e{static{this.__NG_ELEMENT_ID__=TC}static{this.__NG_ENV_ID__=n=>n}}return e})(),Ru=class extends _v{constructor(t){super(),this._lView=t}onDestroy(t){return Zg(this._lView,t),()=>ZD(this._lView,t)}};function TC(){return new Ru(Me())}function AC(){return $i(Ht(),Me())}function $i(e,t){return new Vn(Mt(e,t))}var Vn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=AC}}return e})();function NC(e){return e instanceof Vn?e.nativeElement:e}var Pu=class extends gt{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,jD()&&(this.destroyRef=P(_v,{optional:!0})??void 0)}emit(t){let n=De(null);try{super.next(t)}finally{De(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let d=t;i=d.next?.bind(d),o=d.error?.bind(d),s=d.complete?.bind(d)}this.__isAsync&&(o=pu(o),i&&(i=pu(i)),s&&(s=pu(s)));let l=super.subscribe({next:i,error:o,complete:s});return t instanceof Ke&&t.add(l),l}};function pu(e){return t=>{setTimeout(e,void 0,t)}}var Vt=Pu;function OC(){return this._results[Symbol.iterator]()}var Fu=class e{get changes(){return this._changes??=new Vt}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=OC)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=uD(t);(this._changesDetected=!lD(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},kC="ngSkipHydration",RC="ngskiphydration";function Ev(e){let t=e.mergedAttrs;if(t===null)return!1;for(let n=0;n<t.length;n+=2){let r=t[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===RC)return!0}return!1}function Sv(e){return e.hasAttribute(kC)}function za(e){return(e.flags&128)===128}function PC(e){if(za(e))return!0;let t=e.parent;for(;t;){if(za(e)||Ev(t))return!0;t=t.parent}return!1}var Iv=new Map,FC=0;function LC(){return FC++}function jC(e){Iv.set(e[dc],e)}function VC(e){Iv.delete(e[dc])}var Jm="__ngContext__";function sr(e,t){Rn(t)?(e[Jm]=t[dc],jC(t)):e[Jm]=t}function Mv(e){return Av(e[Ho])}function Tv(e){return Av(e[sn])}function Av(e){for(;e!==null&&!yn(e);)e=e[sn];return e}var Lu;function Nv(e){Lu=e}function yc(){if(Lu!==void 0)return Lu;if(typeof document<"u")return document;throw new Y(210,!1)}var bc=new me("",{providedIn:"root",factory:()=>$C}),$C="ng",Pd=new me(""),wn=new me("",{providedIn:"platform",factory:()=>"unknown"});var Fd=new me("",{providedIn:"root",factory:()=>yc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function BC(){let e=new Yr;return P(wn)==="browser"&&(e.store=UC(yc(),P(bc))),e}var Yr=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=X({token:e,providedIn:"root",factory:BC})}get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();function UC(e,t){let n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}var Ov="h",kv="b",ju=function(e){return e.FirstChild="f",e.NextSibling="n",e}(ju||{}),HC="e",zC="t",Ld="c",Rv="x",Ga="r",GC="i",WC="n",qC="d",YC="__nghData__",Pv=YC,mu="ngh",XC="nghm",Fv=()=>null;function KC(e,t,n=!1){let r=e.getAttribute(mu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",l=n?i:s,d={};if(r!==""){let v=t.get(Yr,null,{optional:!0});v!==null&&(d=v.get(Pv,[])[Number(r)])}let h={data:d,firstChild:e.firstChild??null};return n&&(h.firstChild=e,wc(h,0,e.nextSibling)),l?e.setAttribute(mu,l):e.removeAttribute(mu),h}function QC(){Fv=KC}function jd(e,t,n=!1){return Fv(e,t,n)}function ZC(e){let t=e._lView;return t[le].type===2?null:(Gg(t)&&(t=t[it]),t)}function JC(e){return e.textContent?.replace(/\s/gm,"")}function e_(e){let t=yc(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=JC(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(t.createTextNode("")):o.remove()}function wc(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Vu(e,t){return e.segmentHeads?.[t]??null}function t_(e,t){let n=e.data,r=n[HC]?.[t]??null;return r===null&&n[Ld]?.[t]&&(r=Vd(e,t)),r}function Lv(e,t){return e.data[Ld]?.[t]??null}function Vd(e,t){let n=Lv(e,t)??[],r=0;for(let i of n)r+=i[Ga]*(i[Rv]??1);return r}function xc(e,t){if(typeof e.disconnectedNodes>"u"){let n=e.data[qC];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}var Ma=new me(""),jv=!1,Vv=new me("",{providedIn:"root",factory:()=>jv}),n_=new me("");var Wa=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yg})`}};function $d(e){return e instanceof Wa?e.changingThisBreaksApplicationSecurity:e}function $v(e,t){let n=r_(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${yg})`)}return n===t}function r_(e){return e instanceof Wa&&e.getTypeName()||null}var i_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bv(e){return e=String(e),e.match(i_)?e:"unsafe:"+e}var Bd=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Bd||{});function dr(e){let t=o_();return t?t.sanitize(Bd.URL,e)||"":$v(e,"URL")?$d(e):Bv(sc(e))}function o_(){let e=Me();return e&&e[cn].sanitizer}var s_=/^>|^->|<!--|-->|--!>|<!-$/g,a_=/(<|>)/g,c_="\u200B$1\u200B";function l_(e){return e.replace(s_,t=>t.replace(a_,c_))}function Uv(e){return e.ownerDocument.defaultView}function u_(e){return e.ownerDocument.body}function Hv(e){return e instanceof Function?e():e}function Ta(e){return(e??P(qr)).get(wn)==="browser"}var fr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(fr||{}),d_;function Ud(e,t){return d_(e,t)}function Ni(e,t,n,r,i){if(r!=null){let o,s=!1;yn(r)?o=r:Rn(r)&&(s=!0,r=r[It]);let l=ln(r);e===0&&n!==null?i==null?Wv(t,n,l):Ya(t,n,l,i||null,!0):e===1&&n!==null?Ya(t,n,l,i||null,!0):e===2?qd(t,l,s):e===3&&t.destroyNode(l),o!=null&&M_(t,e,o,n,i)}}function Hd(e,t){return e.createText(t)}function f_(e,t,n){e.setValue(t,n)}function zd(e,t){return e.createComment(l_(t))}function Dc(e,t,n){return e.createElement(t,n)}function h_(e,t){zv(e,t),t[It]=null,t[un]=null}function p_(e,t,n,r,i,o){r[It]=i,r[un]=t,_c(e,r,n,1,i,o)}function zv(e,t){t[cn].changeDetectionScheduler?.notify(1),_c(e,t,t[$e],2,null,null)}function m_(e){let t=e[Ho];if(!t)return gu(e[le],e);for(;t;){let n=null;if(Rn(t))n=t[Ho];else{let r=t[vt];r&&(n=r)}if(!n){for(;t&&!t[sn]&&t!==e;)Rn(t)&&gu(t[le],t),t=t[tt];t===null&&(t=e),Rn(t)&&gu(t[le],t),n=t&&t[sn]}t=n}}function g_(e,t,n,r){let i=vt+r,o=n.length;r>0&&(n[i-1][sn]=t),r<o-vt?(t[sn]=n[i],Tg(n,vt+r,t)):(n.push(t),t[sn]=null),t[tt]=n;let s=t[Zo];s!==null&&n!==s&&v_(s,t);let l=t[Fn];l!==null&&l.insertView(e),Au(t),t[ne]|=128}function v_(e,t){let n=e[Fi],i=t[tt][tt][Ut];t[Ut]!==i&&(e[ne]|=Dd.HasTransplantedViews),n===null?e[Fi]=[t]:n.push(t)}function Gv(e,t){let n=e[Fi],r=n.indexOf(t);n.splice(r,1)}function qa(e,t){if(e.length<=vt)return;let n=vt+t,r=e[n];if(r){let i=r[Zo];i!==null&&i!==e&&Gv(i,r),t>0&&(e[n-1][sn]=r[sn]);let o=Va(e,vt+t);h_(r[le],r);let s=o[Fn];s!==null&&s.detachView(o[le]),r[tt]=null,r[sn]=null,r[ne]&=-129}return r}function Gd(e,t){if(!(t[ne]&256)){let n=t[$e];n.destroyNode&&_c(e,t,n,3,null,null),m_(t)}}function gu(e,t){if(t[ne]&256)return;let n=De(null);try{t[ne]&=-129,t[ne]|=256,t[Vr]&&sm(t[Vr]),b_(e,t),y_(e,t),t[le].type===1&&t[$e].destroy();let r=t[Zo];if(r!==null&&yn(t[tt])){r!==t[tt]&&Gv(r,t);let i=t[Fn];i!==null&&i.detachView(e)}VC(t)}finally{De(n)}}function y_(e,t){let n=e.cleanup,r=t[Uo];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(t[Uo]=null);let i=t[or];if(i!==null){t[or]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function b_(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof qo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=i[o[s]],d=o[s+1];mn(4,l,d);try{d.call(l)}finally{mn(5,l,d)}}else{mn(4,i,o);try{o.call(i)}finally{mn(5,i,o)}}}}}function w_(e,t,n){return x_(e,t.parent,n)}function x_(e,t,n){let r=t;for(;r!==null&&r.type&40;)t=r,r=t.parent;if(r===null)return n[It];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=e.data[r.directiveStart+i];if(o===vn.None||o===vn.Emulated)return null}return Mt(r,n)}}function Ya(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Wv(e,t,n){e.appendChild(t,n)}function eg(e,t,n,r,i){r!==null?Ya(e,t,n,r,i):Wv(e,t,n)}function D_(e,t,n,r){e.removeChild(t,n,r)}function Wd(e,t){return e.parentNode(t)}function C_(e,t){return e.nextSibling(t)}function __(e,t,n){return S_(e,t,n)}function E_(e,t,n){return e.type&40?Mt(e,n):null}var S_=E_,tg;function Cc(e,t,n,r){let i=w_(e,r,t),o=t[$e],s=r.parent||t[un],l=__(s,r,t);if(i!=null)if(Array.isArray(n))for(let d=0;d<n.length;d++)eg(o,i,n[d],l,!1);else eg(o,i,n,l,!1);tg!==void 0&&tg(o,r,t,n,i)}function Pa(e,t){if(t!==null){let n=t.type;if(n&3)return Mt(t,e);if(n&4)return $u(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Pa(e,r);{let i=e[t.index];return yn(i)?$u(-1,i):ln(i)}}else{if(n&32)return Ud(t,e)()||ln(e[t.index]);{let r=qv(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Wo(e[Ut]);return Pa(i,r)}else return Pa(e,t.next)}}}return null}function qv(e,t){if(t!==null){let r=e[Ut][un],i=t.projection;return r.projection[i]}return null}function $u(e,t){let n=vt+e+1;if(n<t.length){let r=t[n],i=r[le].firstChild;if(i!==null)return Pa(r,i)}return t[Ln]}function qd(e,t,n){let r=Wd(e,t);r&&D_(e,r,t,n)}function Yv(e){e.textContent=""}function Yd(e,t,n,r,i,o,s){for(;n!=null;){let l=r[n.index],d=n.type;if(s&&t===0&&(l&&sr(ln(l),r),n.flags|=2),(n.flags&32)!==32)if(d&8)Yd(e,t,n.child,r,i,o,!1),Ni(t,e,i,l,o);else if(d&32){let h=Ud(n,r),v;for(;v=h();)Ni(t,e,i,v,o);Ni(t,e,i,l,o)}else d&16?I_(e,t,r,n,i,o):Ni(t,e,i,l,o);n=s?n.projectionNext:n.next}}function _c(e,t,n,r,i,o){Yd(n,r,e.firstChild,t,i,o,!1)}function I_(e,t,n,r,i,o){let s=n[Ut],d=s[un].projection[r.projection];if(Array.isArray(d))for(let h=0;h<d.length;h++){let v=d[h];Ni(t,e,i,v,o)}else{let h=d,v=s[tt];za(r)&&(h.flags|=128),Yd(e,t,h,v,i,o,!0)}}function M_(e,t,n,r,i){let o=n[Ln],s=ln(n);o!==s&&Ni(t,e,r,o,i);for(let l=vt;l<n.length;l++){let d=n[l];_c(d[le],d,e,t,r,o)}}function T_(e,t,n){e.setAttribute(t,"style",n)}function Xv(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Kv(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_u(e,t,r),i!==null&&Xv(e,t,i),o!==null&&T_(e,t,o)}var Bi={};function q(e=1){Qv(Tt(),Me(),Nd()+e,!1)}function Qv(e,t,n,r){if(!r)if((t[ne]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Oa(t,o,n)}else{let o=e.preOrderHooks;o!==null&&ka(t,o,0,n)}$r(n)}function Ve(e,t=ge.Default){let n=Me();if(n===null)return ye(e,t);let r=Ht();return bv(r,n,jt(e),t)}function Zv(e,t,n,r,i,o){let s=De(null);try{let l=null;i&Pn.SignalBased&&(l=t[r][nm]),l!==null&&l.transformFn!==void 0&&(o=l.transformFn(o)),i&Pn.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),e.setInput!==null?e.setInput(t,l,o,n,r):Wg(t,l,r,o)}finally{De(s)}}function A_(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$r(~i);else{let o=i,s=n[++r],l=n[++r];lC(s,o);let d=t[o];l(2,d)}}}finally{$r(-1)}}function Ec(e,t,n,r,i,o,s,l,d,h,v){let m=t.blueprint.slice();return m[It]=i,m[ne]=r|4|128|8|64,(h!==null||e&&e[ne]&2048)&&(m[ne]|=2048),Qg(m),m[tt]=m[Vi]=e,m[Bt]=n,m[cn]=s||e&&e[cn],m[$e]=l||e&&e[$e],m[Pi]=d||e&&e[Pi]||null,m[un]=o,m[dc]=LC(),m[an]=v,m[Hg]=h,m[Ut]=t.type==2?e[Ut]:m,m}function ns(e,t,n,r,i){let o=e.data[t];if(o===null)o=N_(e,t,n,r,i),cC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=oC();o.injectorIndex=s===null?-1:s.injectorIndex}return Wr(o,!0),o}function N_(e,t,n,r,i){let o=ev(),s=Id(),l=s?o:o&&o.parent,d=e.data[t]=j_(e,l,n,t,r,i);return e.firstChild===null&&(e.firstChild=d),o!==null&&(s?o.child==null&&d.parent!==null&&(o.child=d):o.next===null&&(o.next=d,d.prev=o)),d}function Jv(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ey(e,t,n,r,i){let o=Nd(),s=r&2;try{$r(-1),s&&t.length>it&&Qv(e,t,it,!1),mn(s?2:0,i),n(r,i)}finally{$r(o),mn(s?3:1,i)}}function Xd(e,t,n){if(Cd(t)){let r=De(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let l=e.data[s];if(l.contentQueries){let d=n[s];l.contentQueries(1,d,s)}}}finally{De(r)}}}function Kd(e,t,n){Jg()&&(z_(e,t,n,Mt(n,t)),(n.flags&64)===64&&oy(e,t,n))}function Qd(e,t,n=Mt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],l=s===-1?n(t,e):e[s];e[i++]=l}}}function ty(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Zd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Zd(e,t,n,r,i,o,s,l,d,h,v){let m=it+r,D=m+i,_=O_(m,D),S=typeof h=="function"?h():h;return _[le]={type:e,blueprint:_,template:n,queries:null,viewQuery:l,declTNode:t,data:_.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:d,consts:S,incompleteFirstPass:!1,ssrId:v}}function O_(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Bi);return n}function k_(e,t,n,r){let o=r.get(Vv,jv)||n===vn.ShadowDom,s=e.selectRootElement(t,o);return R_(s),s}function R_(e){ny(e)}var ny=()=>null;function P_(e){Sv(e)?Yv(e):e_(e)}function F_(){ny=P_}function L_(e,t,n,r){let i=cy(t);i.push(n),e.firstCreatePass&&ly(e).push(r,i.length-1)}function j_(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,l=0;return ts()&&(l|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ng(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let l,d=Pn.None;Array.isArray(s)?(l=s[0],d=s[1]):l=s;let h=o;if(i!==null){if(!i.hasOwnProperty(o))continue;h=i[o]}e===0?rg(r,n,h,l,d):rg(r,n,h,l)}return r}function rg(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],i!==void 0&&o.push(i)}function V_(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,l=[],d=null,h=null;for(let v=r;v<i;v++){let m=o[v],D=n?n.get(m):null,_=D?D.inputs:null,S=D?D.outputs:null;d=ng(0,m.inputs,v,d,_),h=ng(1,m.outputs,v,h,S);let T=d!==null&&s!==null&&!bd(t)?t1(d,v,s):null;l.push(T)}d!==null&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=d,t.outputs=h}function $_(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function ry(e,t,n,r,i,o,s,l){let d=Mt(t,n),h=t.inputs,v;!l&&h!=null&&(v=h[r])?(ef(e,n,v,r,i),Jo(t)&&B_(n,t.index)):t.type&3?(r=$_(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(d,r,i)):t.type&12}function B_(e,t){let n=ur(t,e);n[ne]&16||(n[ne]|=64)}function Jd(e,t,n,r){if(Jg()){let i=r===null?null:{"":-1},o=W_(e,n),s,l;o===null?s=l=null:[s,l]=o,s!==null&&iy(e,t,n,s,i,l),i&&q_(n,r,i)}n.mergedAttrs=yd(n.mergedAttrs,n.attrs)}function iy(e,t,n,r,i,o){for(let h=0;h<r.length;h++)CC(mv(n,t),e,r[h].type);X_(n,e.data.length,r.length);for(let h=0;h<r.length;h++){let v=r[h];v.providersResolver&&v.providersResolver(v)}let s=!1,l=!1,d=Jv(e,t,r.length,null);for(let h=0;h<r.length;h++){let v=r[h];n.mergedAttrs=yd(n.mergedAttrs,v.hostAttrs),K_(e,n,t,d,v),Y_(d,v,i),v.contentQueries!==null&&(n.flags|=4),(v.hostBindings!==null||v.hostAttrs!==null||v.hostVars!==0)&&(n.flags|=64);let m=v.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),l=!0),d++}V_(e,n,o)}function U_(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let l=~t.index;H_(s)!=l&&s.push(l),s.push(n,r,o)}}function H_(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function z_(e,t,n,r){let i=n.directiveStart,o=n.directiveEnd;Jo(n)&&Q_(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||mv(n,t),sr(r,t);let s=n.initialInputs;for(let l=i;l<o;l++){let d=e.data[l],h=ji(t,e,l,n);if(sr(h,t),s!==null&&e1(t,l-i,h,d,n,s),es(d)){let v=ur(n.index,t);v[Bt]=ji(t,e,l,n)}}}function oy(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=uC();try{$r(o);for(let l=r;l<i;l++){let d=e.data[l],h=t[l];Nu(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&G_(d,h)}}finally{$r(-1),Nu(s)}}function G_(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function W_(e,t){let n=e.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(yD(t,s.selectors,!1))if(r||(r=[]),es(s))if(s.findHostDirectiveDefs!==null){let l=[];i=i||new Map,s.findHostDirectiveDefs(s,l,i),r.unshift(...l,s);let d=l.length;Bu(e,t,d)}else r.unshift(s),Bu(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Bu(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function q_(e,t,n){if(t){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new Y(-301,!1);r.push(t[i],o)}}}function Y_(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;es(t)&&(n[""]=e)}}function X_(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function K_(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ri(i.type,!0)),s=new qo(o,es(i),Ve);e.blueprint[r]=s,n[r]=s,U_(e,t,r,Jv(e,n,i.hostVars,Bi),i)}function Q_(e,t,n){let r=Mt(t,e),i=ty(n),o=e[cn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let l=Sc(e,Ec(e,i,null,s,r,t,null,o.createRenderer(r,n),null,null,null));e[t.index]=l}function Z_(e,t,n,r,i,o){let s=Mt(e,t);J_(t[$e],s,o,e.value,n,r,i)}function J_(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let l=s==null?sc(o):s(o,r||"",i);e.setAttribute(t,i,l,n)}}function e1(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let l=0;l<s.length;){let d=s[l++],h=s[l++],v=s[l++],m=s[l++];Zv(r,n,d,h,v,m)}}function t1(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){r===null&&(r=[]);let s=e[o];for(let l=0;l<s.length;l+=3)if(s[l]===t){r.push(o,s[l+1],s[l+2],n[i+1]);break}}i+=2}return r}function sy(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ay(e,t){let n=e.contentQueries;if(n!==null){let r=De(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let l=e.data[s];Md(o),l.contentQueries(2,t[s],s)}}}finally{De(r)}}}function Sc(e,t){return e[Ho]?e[Wm][sn]=t:e[Ho]=t,e[Wm]=t,t}function Uu(e,t,n){Md(0);let r=De(null);try{t(e,n)}finally{De(r)}}function cy(e){return e[Uo]||(e[Uo]=[])}function ly(e){return e.cleanup||(e.cleanup=[])}function uy(e,t){let n=e[Pi],r=n?n.get(jn,null):null;r&&r.handleError(t)}function ef(e,t,n,r,i){for(let o=0;o<n.length;){let s=n[o++],l=n[o++],d=n[o++],h=t[s],v=e.data[s];Zv(v,h,r,l,d,i)}}function n1(e,t,n){let r=WD(t,e);f_(e[$e],r,n)}function r1(e,t){let n=ur(t,e),r=n[le];i1(r,n);let i=n[It];i!==null&&n[an]===null&&(n[an]=jd(i,n[Pi])),tf(r,n,n[Bt])}function i1(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function tf(e,t,n){Td(t);try{let r=e.viewQuery;r!==null&&Uu(1,r,n);let i=e.template;i!==null&&ey(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Fn]?.finishViewCreation(e),e.staticContentQueries&&ay(e,t),e.staticViewQueries&&Uu(2,e.viewQuery,n);let o=e.components;o!==null&&o1(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ne]&=-5,Ad()}}function o1(e,t){for(let n=0;n<t.length;n++)r1(e,t[n])}function dy(e,t,n,r){let i=De(null);try{let o=t.tView,l=e[ne]&4096?4096:16,d=Ec(e,o,n,l,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),h=e[t.index];d[Zo]=h;let v=e[Fn];return v!==null&&(d[Fn]=v.createEmbeddedView(o)),tf(o,d,n),d}finally{De(i)}}function s1(e,t){let n=vt+t;if(n<e.length)return e[n]}function Hu(e,t){return!t||t.firstChild===null||za(e)}function fy(e,t,n,r=!0){let i=t[le];if(g_(i,t,e,n),r){let s=$u(n,e),l=t[$e],d=Wd(l,e[Ln]);d!==null&&p_(i,e[un],l,t,d,s)}let o=t[an];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function a1(e,t){let n=qa(e,t);return n!==void 0&&Gd(n[le],n),n}function Xa(e,t,n,r,i=!1){for(;n!==null;){let o=t[n.index];o!==null&&r.push(ln(o)),yn(o)&&c1(o,r);let s=n.type;if(s&8)Xa(e,t,n.child,r);else if(s&32){let l=Ud(n,t),d;for(;d=l();)r.push(d)}else if(s&16){let l=qv(t,n);if(Array.isArray(l))r.push(...l);else{let d=Wo(t[Ut]);Xa(d[le],d,l,r,!0)}}n=i?n.projectionNext:n.next}return r}function c1(e,t){for(let n=vt;n<e.length;n++){let r=e[n],i=r[le].firstChild;i!==null&&Xa(r[le],r,i,t)}e[Ln]!==e[It]&&t.push(e[Ln])}var hy=[];function l1(e){return e[Vr]??u1(e)}function u1(e){let t=hy.pop()??Object.create(f1);return t.lView=e,t}function d1(e){e.lView[Vr]!==e&&(e.lView=null,hy.push(e))}var f1=Le(j({},rm),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Go(e.lView)},consumerOnSignalRead(){this.lView[Vr]=this}}),py=100;function my(e,t=!0,n=0){let r=e[cn],i=r.rendererFactory,o=!1;o||i.begin?.();try{h1(e,n)}catch(s){throw t&&uy(e,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function h1(e,t){zu(e,t);let n=0;for(;Sd(e);){if(n===py)throw new Y(103,!1);n++,zu(e,1)}}function p1(e,t,n,r){let i=t[ne];if((i&256)===256)return;let o=!1;!o&&t[cn].inlineEffectRunner?.flush(),Td(t);let s=null,l=null;!o&&m1(e)&&(l=l1(t),s=im(l));try{Qg(t),aC(e.bindingStartIndex),n!==null&&ey(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let m=e.preOrderCheckHooks;m!==null&&Oa(t,m,null)}else{let m=e.preOrderHooks;m!==null&&ka(t,m,0,null),du(t,0)}if(g1(t),gy(t,0),e.contentQueries!==null&&ay(e,t),!o)if(d){let m=e.contentCheckHooks;m!==null&&Oa(t,m)}else{let m=e.contentHooks;m!==null&&ka(t,m,1),du(t,1)}A_(e,t);let h=e.components;h!==null&&yy(t,h,0);let v=e.viewQuery;if(v!==null&&Uu(2,v,r),!o)if(d){let m=e.viewCheckHooks;m!==null&&Oa(t,m)}else{let m=e.viewHooks;m!==null&&ka(t,m,2),du(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[uu]){for(let m of t[uu])m();t[uu]=null}o||(t[ne]&=-73)}catch(d){throw Go(t),d}finally{l!==null&&(om(l,s),d1(l)),Ad()}}function m1(e){return e.type!==2}function gy(e,t){for(let n=Mv(e);n!==null;n=Tv(n))for(let r=vt;r<n.length;r++){let i=n[r];vy(i,t)}}function g1(e){for(let t=Mv(e);t!==null;t=Tv(t)){if(!(t[ne]&Dd.HasTransplantedViews))continue;let n=t[Fi];for(let r=0;r<n.length;r++){let i=n[r],o=i[tt];KD(i)}}}function v1(e,t,n){let r=ur(t,e);vy(r,n)}function vy(e,t){Ed(e)&&zu(e,t)}function zu(e,t){let r=e[le],i=e[ne],o=e[Vr],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&zl(o)),o&&(o.dirty=!1),e[ne]&=-9217,s)p1(r,e,r.template,e[Bt]);else if(i&8192){gy(e,1);let l=r.components;l!==null&&yy(e,l,1)}}function yy(e,t,n){for(let r=0;r<t.length;r++)v1(e,t[r],n)}function nf(e){for(e[cn].changeDetectionScheduler?.notify();e;){e[ne]|=64;let t=Wo(e);if(Gg(e)&&!t)return e;e=t}return null}var Br=class{get rootNodes(){let t=this._lView,n=t[le];return Xa(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bt]}set context(t){this._lView[Bt]=t}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[tt];if(yn(t)){let n=t[Ba],r=n?n.indexOf(this):-1;r>-1&&(qa(t,r),Va(n,r))}this._attachedToViewContainer=!1}Gd(this._lView[le],this._lView)}onDestroy(t){Zg(this._lView,t)}markForCheck(){nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[ne]&=-129}reattach(){Au(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,my(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,zv(this._lView[le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Y(902,!1);this._appRef=t,Au(this._lView)}},Ur=(()=>{class e{static{this.__NG_ELEMENT_ID__=w1}}return e})(),y1=Ur,b1=class extends y1{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=dy(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Br(i)}};function w1(){return Ic(Ht(),Me())}function Ic(e,t){return e.type&4?new b1(t,e,$i(e,t)):null}function by(e){let t=e[zo]??[],r=e[tt][$e];for(let i of t)x1(i,r);e[zo]=on}function x1(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ga];for(;n<i;){let o=r.nextSibling;qd(t,r,!1),r=o,n++}}}function wy(e){by(e);for(let t=vt;t<e.length;t++)Ka(e[t])}function D1(e){let t=e[an]?.i18nNodes;if(t){let n=e[$e];for(let r of t.values())qd(n,r,!1);e[an].i18nNodes=void 0}}function Ka(e){D1(e);let t=e[le];for(let n=it;n<t.bindingStartIndex;n++)if(yn(e[n])){let r=e[n];wy(r)}else Rn(e[n])&&Ka(e[n])}function C1(e){let t=e._views;for(let n of t){let r=ZC(n);if(r!==null&&r[It]!==null)if(Rn(r))Ka(r);else{let i=r[It];Ka(i),wy(r)}}}var _1=new RegExp(`^(\\d+)*(${kv}|${Ov})*(.*)`);function E1(e){let t=e.match(_1),[n,r,i,o]=t,s=r?parseInt(r,10):i,l=[];for(let[d,h,v]of o.matchAll(/(f|n)(\d*)/g)){let m=parseInt(v,10)||1;l.push(h,m)}return[s,...l]}function S1(e){return!e.prev&&e.parent?.type===8}function vu(e){return e.index-it}function I1(e,t){let n=e.i18nNodes;if(n){let r=n.get(t);return r&&n.delete(t),r}return null}function Mc(e,t,n,r){let i=vu(r),o=I1(e,i);if(!o){let s=e.data[WC];if(s?.[i])o=T1(s[i],n);else if(t.firstChild===r)o=e.firstChild;else{let l=r.prev===null,d=r.prev??r.parent;if(S1(r)){let h=vu(r.parent);o=Vu(e,h)}else{let h=Mt(d,n);if(l)o=h.firstChild;else{let v=vu(d),m=Vu(e,v);if(d.type===2&&m){let _=Vd(e,v)+1;o=Tc(_,m)}else o=h.nextSibling}}}}return o}function Tc(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function M1(e,t){let n=e;for(let r=0;r<t.length;r+=2){let i=t[r],o=t[r+1];for(let s=0;s<o;s++)switch(i){case ju.FirstChild:n=n.firstChild;break;case ju.NextSibling:n=n.nextSibling;break}}return n}function T1(e,t){let[n,...r]=E1(e),i;if(n===Ov)i=t[Ut][It];else if(n===kv)i=u_(t[Ut][It]);else{let o=Number(n);i=ln(t[o+it])}return M1(i,r)}function A1(e,t){let n=[];for(let r of t)for(let i=0;i<(r[Rv]??1);i++){let o={data:r,firstChild:null};r[Ga]>0&&(o.firstChild=e,e=Tc(r[Ga],e)),n.push(o)}return[e,n]}var xy=()=>null;function N1(e,t){let n=e[zo];return!t||n===null||n.length===0?null:n[0].data[GC]===t?n.shift():(by(e),null)}function O1(){xy=N1}function Gu(e,t){return xy(e,t)}var Wu=class{},qu=class{},Qa=class{};function k1(e){let t=Error(`No component factory found for ${xt(e)}.`);return t[R1]=e,t}var R1="ngComponent";var Yu=class{resolveComponentFactory(t){throw k1(t)}},Ac=(()=>{class e{static{this.NULL=new Yu}}return e})(),Yo=class{},$n=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>P1()}}return e})();function P1(){let e=Me(),t=Ht(),n=ur(t.index,e);return(Rn(n)?n:e)[$e]}var F1=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:()=>null})}}return e})(),yu={};var ig=new Set;function Ui(e){ig.has(e)||(ig.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function og(...e){}function L1(){let e=typeof Lo.requestAnimationFrame=="function",t=Lo[e?"requestAnimationFrame":"setTimeout"],n=Lo[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var He=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vt(!1),this.onMicrotaskEmpty=new Vt(!1),this.onStable=new Vt(!1),this.onError=new Vt(!1),typeof Zone>"u")throw new Y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=L1().nativeRequestAnimationFrame,$1(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new Y(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new Y(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,j1,og,og);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},j1={};function rf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function V1(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Lo,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Xu(e),e.isCheckStableRunning=!0,rf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Xu(e))}function $1(e){let t=()=>{V1(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,l)=>{if(B1(l))return n.invokeTask(i,o,s,l);try{return sg(e),n.invokeTask(i,o,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),ag(e)}},onInvoke:(n,r,i,o,s,l,d)=>{try{return sg(e),n.invoke(i,o,s,l,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),ag(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,Xu(e),rf(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function Xu(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function sg(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ag(e){e._nesting--,rf(e)}function B1(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var Dy=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=X({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Za(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let l=t[s];if(typeof l=="number")o=l;else if(o==1)i=Fm(i,l);else if(o==2){let d=l,h=t[++s];r=Fm(r,d+": "+h+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}var Ja=class extends Ac{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=jr(t);return new Xo(n,this.ngModule)}};function cg(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let r=e[n];r!==void 0&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}function U1(e){let t=e.toLowerCase();return t==="svg"?Kg:t==="math"?HD:null}var Ku=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ac(r);let i=this.injector.get(t,yu,r);return i!==yu||n===yu?i:this.parentInjector.get(t,n,r)}},Xo=class extends Qa{get inputs(){let t=this.componentDef,n=t.inputTransforms,r=cg(t.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=DD(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=De(null);try{i=i||this.ngModule;let s=i instanceof $t?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new Ku(t,s):t,d=l.get(Yo,null);if(d===null)throw new Y(407,!1);let h=l.get(F1,null),v=l.get(Dy,null),m=l.get(Wu,null),D={rendererFactory:d,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:v,changeDetectionScheduler:m},_=d.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",T=r?k_(_,r,this.componentDef.encapsulation,l):Dc(_,S,U1(S)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let R=null;T!==null&&(R=jd(T,l,!0));let fe=Zd(0,null,null,1,0,null,null,null,null,null,null),pe=Ec(null,fe,null,k,null,null,D,_,l,null,R);Td(pe);let Oe,I;try{let Se=this.componentDef,Je,ht=null;Se.findHostDirectiveDefs?(Je=[],ht=new Map,Se.findHostDirectiveDefs(Se,Je,ht),Je.push(Se)):Je=[Se];let In=H1(pe,T),Ue=z1(In,T,Se,Je,pe,D,_);I=_d(fe,it),T&&q1(_,Se,T,r),n!==void 0&&Y1(I,this.ngContentSelectors,n),Oe=W1(Ue,Se,Je,ht,pe,[X1]),tf(fe,pe,null)}finally{Ad()}return new Qu(this.componentType,Oe,$i(I,pe),pe,I)}finally{De(o)}}},Qu=class extends qu{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Br(i,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;ef(o[le],o,i,t,n),this.previousInputValues.set(t,n);let s=ur(this._tNode.index,o);nf(s)}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function H1(e,t){let n=e[le],r=it;return e[r]=t,ns(n,r,2,"#host",null)}function z1(e,t,n,r,i,o,s){let l=i[le];G1(r,e,t,s);let d=null;t!==null&&(d=jd(t,i[Pi]));let h=o.rendererFactory.createRenderer(t,n),v=16;n.signals?v=4096:n.onPush&&(v=64);let m=Ec(i,ty(n),null,v,i[e.index],e,o,h,null,null,d);return l.firstCreatePass&&Bu(l,e,r.length-1),Sc(i,m),i[e.index]=m}function G1(e,t,n,r){for(let i of e)t.mergedAttrs=yd(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(Za(t,t.mergedAttrs,!0),n!==null&&Kv(r,n,t))}function W1(e,t,n,r,i,o){let s=Ht(),l=i[le],d=Mt(s,i);iy(l,i,s,n,null,r);for(let v=0;v<n.length;v++){let m=s.directiveStart+v,D=ji(i,l,m,s);sr(D,i)}oy(l,i,s),d&&sr(d,i);let h=ji(i,l,s.directiveStart+s.componentOffset,s);if(e[Bt]=i[Bt]=h,o!==null)for(let v of o)v(h,t);return Xd(l,s,i),h}function q1(e,t,n,r){if(r)_u(e,n,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=CD(t.selectors[0]);i&&_u(e,n,i),o&&o.length>0&&Xv(e,n,o.join(" "))}}function Y1(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function X1(){let e=Ht();vc(Me()[le],e)}var hr=(()=>{class e{static{this.__NG_ELEMENT_ID__=K1}}return e})();function K1(){let e=Ht();return _y(e,Me())}var Q1=hr,Cy=class extends Q1{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return $i(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let t=kd(this._hostTNode,this._hostLView);if(fv(t)){let n=Ha(t,this._hostLView),r=Ua(t),i=n[le].data[r+8];return new Fr(i,n)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=lg(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Gu(this._lContainer,t.ssrId),l=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(l,i,Hu(this._hostTNode,s)),l}createComponent(t,n,r,i,o){let s=t&&!VD(t),l;if(s)l=n;else{let S=n||{};l=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let d=s?t:new Xo(jr(t)),h=r||this.parentInjector;if(!o&&d.ngModule==null){let T=(s?h:this.parentInjector).get($t,null);T&&(o=T)}let v=jr(d.componentType??{}),m=Gu(this._lContainer,v?.id??null),D=m?.firstChild??null,_=d.create(h,i,D,o);return this.insertImpl(_.hostView,l,Hu(this._hostTNode,m)),_}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(XD(i)){let l=this.indexOf(t);if(l!==-1)this.detach(l);else{let d=i[tt],h=new Cy(d,d[un],d[tt]);h.detach(h.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return fy(s,i,o,r),t.attachToViewContainerRef(),Tg(bu(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=lg(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=qa(this._lContainer,n);r&&(Va(bu(this._lContainer),n),Gd(r[le],r))}detach(t){let n=this._adjustIndex(t,-1),r=qa(this._lContainer,n);return r&&Va(bu(this._lContainer),n)!=null?new Br(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function lg(e){return e[Ba]}function bu(e){return e[Ba]||(e[Ba]=[])}function _y(e,t){let n,r=t[e.index];return yn(r)?n=r:(n=sy(r,t,null,e),t[e.index]=n,Sc(t,n)),Ey(n,t,e,r),new Cy(n,e,t)}function Z1(e,t){let n=e[$e],r=n.createComment(""),i=Mt(t,e),o=Wd(n,i);return Ya(n,o,r,C_(n,i),!1),r}var Ey=Sy,of=()=>!1;function J1(e,t,n){return of(e,t,n)}function Sy(e,t,n,r){if(e[Ln])return;let i;n.type&8?i=ln(r):i=Z1(t,n),e[Ln]=i}function eE(e,t,n){if(e[Ln]&&e[zo])return!0;let r=n[an],i=t.index-it;if(!r||PC(t)||xc(r,i))return!1;let s=Vu(r,i),l=r.data[Ld]?.[i],[d,h]=A1(s,l);return e[Ln]=d,e[zo]=h,!0}function tE(e,t,n,r){of(e,n,t)||Sy(e,t,n,r)}function nE(){Ey=tE,of=eE}var Zu=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ju=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),l=this.queries[s.indexInDeclarationView];i.push(l.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)sf(t,n).matches!==null&&this.queries[n].setDirty()}},ed=class{constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=uE(t):this.predicate=t}},td=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},nd=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,rE(n,o)),this.matchTNodeWithReadOption(t,n,Ra(n,t,o,!1,!1))}else r===Ur?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ra(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vn||i===hr||i===Ur&&n.type&4)this.addMatch(n.index,-2);else{let o=Ra(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function rE(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function iE(e,t){return e.type&11?$i(e,t):e.type&4?Ic(e,t):null}function oE(e,t,n,r){return n===-1?iE(t,e):n===-2?sE(e,t,r):ji(e,e[le],n,t)}function sE(e,t,n){if(n===Vn)return $i(t,e);if(n===Ur)return Ic(t,e);if(n===hr)return _y(t,e)}function Iy(e,t,n,r){let i=t[Fn].queries[r];if(i.matches===null){let o=e.data,s=n.matches,l=[];for(let d=0;s!==null&&d<s.length;d+=2){let h=s[d];if(h<0)l.push(null);else{let v=o[h];l.push(oE(t,v,s[d+1],n.metadata.read))}}i.matches=l}return i.matches}function rd(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let s=Iy(e,t,i,n);for(let l=0;l<o.length;l+=2){let d=o[l];if(d>0)r.push(s[l/2]);else{let h=o[l+1],v=t[-d];for(let m=vt;m<v.length;m++){let D=v[m];D[Zo]===D[tt]&&rd(D[le],D,h,r)}if(v[Fi]!==null){let m=v[Fi];for(let D=0;D<m.length;D++){let _=m[D];rd(_[le],_,h,r)}}}}}return r}function aE(e,t){return e[Fn].queries[t].queryList}function cE(e,t,n){let r=new Fu((n&4)===4);return L_(e,t,r,r.destroy),(t[Fn]??=new Ju).queries.push(new Zu(r))-1}function lE(e,t,n){let r=Tt();return r.firstCreatePass&&(dE(r,new ed(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),cE(r,Me(),t)}function uE(e){return e.split(",").map(t=>t.trim())}function dE(e,t,n){e.queries===null&&(e.queries=new td),e.queries.track(new nd(t,n))}function sf(e,t){return e.queries.getByIndex(t)}function fE(e,t){let n=e[le],r=sf(n,t);return r.crossesNgTemplate?rd(n,e,t,[]):Iy(n,e,r,t)}var ar=class{},Ko=class{};var id=class extends ar{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ja(this);let i=Lg(t);this._bootstrapComponents=Hv(i.bootstrap),this._r3Injector=Dv(t,n,[{provide:ar,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver},...r],xt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},od=class extends Ko{constructor(t){super(),this.moduleType=t}create(t){return new id(this.moduleType,t,[])}};var ec=class extends ar{constructor(t){super(),this.componentFactoryResolver=new Ja(this),this.instance=null;let n=new Bo([...t.providers,{provide:ar,useValue:this},{provide:Ac,useValue:this.componentFactoryResolver}],t.parent||xd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function af(e,t,n=null){return new ec({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var rs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new rt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function My(e){return cf(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function hE(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function cf(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ty(e,t,n){return e[t]=n}function Hr(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function pE(e,t,n,r){let i=Hr(e,t,n);return Hr(e,t+1,r)||i}function is(e){return(e.flags&32)===32}function mE(e,t,n,r,i,o,s,l,d){let h=t.consts,v=ns(t,e,4,s||null,Li(h,l));Jd(t,n,v,Li(h,d)),vc(t,v);let m=v.tView=Zd(2,v,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return t.queries!==null&&(t.queries.template(t,v),m.queries=t.queries.embeddedTView(v)),v}function Te(e,t,n,r,i,o,s,l){let d=Me(),h=Tt(),v=e+it,m=h.firstCreatePass?mE(v,h,d,t,n,r,i,o,s):h.data[v];Wr(m,!1);let D=Ay(h,d,m,e);gc()&&Cc(h,d,D,m),sr(D,d);let _=sy(D,d,D,m);return d[v]=_,Sc(d,_),J1(_,m,d),fc(m)&&Kd(h,d,m),s!=null&&Qd(d,m,l),Te}var Ay=Ny;function Ny(e,t,n,r){return bn(!0),t[$e].createComment("")}function gE(e,t,n,r){let i=t[an],o=!i||ts()||is(n)||xc(i,r);if(bn(o),o)return Ny(e,t,n,r);let s=i.data[zC]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let l=Mc(i,e,t,n);wc(i,r,l);let d=Vd(i,r);return Tc(d,l)}function vE(){Ay=gE}function Ce(e,t,n,r){let i=Me(),o=pc();if(Hr(i,o,t)){let s=Tt(),l=Od();Z_(l,i,e,t,n,r)}return Ce}function Oy(e,t,n,r){return Hr(e,pc(),n)?t+sc(n)+r:Bi}function Q(e,t,n){let r=Me(),i=pc();if(Hr(r,i,t)){let o=Tt(),s=Od();ry(o,s,r,e,t,r[$e],n,!1)}return Q}function ug(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";ef(e,n,o[s],s,r)}function yt(e,t,n){Ui("NgControlFlow");let r=Me(),i=pc(),o=yE(r,it+e),s=0;if(Hr(r,i,t)){let l=De(null);try{if(a1(o,s),t!==-1){let d=bE(r[le],it+t),h=Gu(o,d.tView.ssrId),v=dy(r,d,n,{dehydratedView:h});fy(o,v,s,Hu(d,h))}}finally{De(l)}}else{let l=s1(o,s);l!==void 0&&(l[Bt]=n)}}function yE(e,t){return e[t]}function bE(e,t){return _d(e,t)}function wE(e,t,n,r,i,o){let s=t.consts,l=Li(s,i),d=ns(t,e,2,r,l);return Jd(t,n,d,Li(s,o)),d.attrs!==null&&Za(d,d.attrs,!1),d.mergedAttrs!==null&&Za(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function V(e,t,n,r){let i=Me(),o=Tt(),s=it+e,l=i[$e],d=o.firstCreatePass?wE(s,o,i,t,n,r):o.data[s],h=ky(o,i,d,l,t,e);i[s]=h;let v=fc(d);return Wr(d,!0),Kv(l,h,d),!is(d)&&gc()&&Cc(o,i,h,d),JD()===0&&sr(h,i),eC(),v&&(Kd(o,i,d),Xd(o,d,i)),r!==null&&Qd(i,d),V}function W(){let e=Ht();Id()?tv():(e=e.parent,Wr(e,!1));let t=e;nC(t)&&iC(),tC();let n=Tt();return n.firstCreatePass&&(vc(n,e),Cd(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&vC(t)&&ug(n,t,Me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&yC(t)&&ug(n,t,Me(),t.stylesWithoutHost,!1),W}function ie(e,t,n,r){return V(e,t,n,r),W(),ie}var ky=(e,t,n,r,i,o)=>(bn(!0),Dc(r,i,lv()));function xE(e,t,n,r,i,o){let s=t[an],l=!s||ts()||is(n)||xc(s,o);if(bn(l),l)return Dc(r,i,lv());let d=Mc(s,e,t,n);return Lv(s,o)&&wc(s,o,d.nextSibling),s&&(Ev(n)||Sv(d))&&Jo(n)&&(rC(n),Yv(d)),d}function DE(){ky=xE}function CE(e,t,n,r,i){let o=t.consts,s=Li(o,r),l=ns(t,e,8,"ng-container",s);s!==null&&Za(l,s,!0);let d=Li(o,i);return Jd(t,n,l,d),t.queries!==null&&t.queries.elementStart(t,l),l}function Hi(e,t,n){let r=Me(),i=Tt(),o=e+it,s=i.firstCreatePass?CE(o,i,r,t,n):i.data[o];Wr(s,!0);let l=Ry(i,r,s,e);return r[o]=l,gc()&&Cc(i,r,l,s),sr(l,r),fc(s)&&(Kd(i,r,s),Xd(i,s,r)),n!=null&&Qd(r,s),Hi}function zi(){let e=Ht(),t=Tt();return Id()?tv():(e=e.parent,Wr(e,!1)),t.firstCreatePass&&(vc(t,e),Cd(e)&&t.queries.elementEnd(e)),zi}var Ry=(e,t,n,r)=>(bn(!0),zd(t[$e],""));function _E(e,t,n,r){let i,o=t[an],s=!o||ts()||is(n);if(bn(s),s)return zd(t[$e],"");let l=Mc(o,e,t,n),d=t_(o,r);return wc(o,r,l),i=Tc(d,l),i}function EE(){Ry=_E}function dn(){return Me()}var tc="en-US";var SE=tc;function IE(e){typeof e=="string"&&(SE=e.toLowerCase().replace(/_/g,"-"))}function Py(e,t,n){let r=e[$e];switch(n){case Node.COMMENT_NODE:return zd(r,t);case Node.TEXT_NODE:return Hd(r,t);case Node.ELEMENT_NODE:return Dc(r,t,null)}}var ME=(e,t,n,r)=>(bn(!0),Py(e,n,r));function TE(e,t,n,r){return bn(!0),Py(e,n,r)}function AE(){ME=TE}function nt(e,t,n,r){let i=Me(),o=Tt(),s=Ht();return OE(o,i,i[$e],s,e,t,r),nt}function NE(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let l=t[Uo],d=i[o+2];return l.length>d?l[d]:null}typeof s=="string"&&(o+=2)}return null}function OE(e,t,n,r,i,o,s){let l=fc(r),h=e.firstCreatePass&&ly(e),v=t[Bt],m=cy(t),D=!0;if(r.type&3||s){let T=Mt(r,t),k=s?s(T):T,R=m.length,fe=s?Oe=>s(ln(Oe[r.index])):r.index,pe=null;if(!s&&l&&(pe=NE(e,t,i,r.index)),pe!==null){let Oe=pe.__ngLastListenerFn__||pe;Oe.__ngNextListenerFn__=o,pe.__ngLastListenerFn__=o,D=!1}else{o=fg(r,t,v,o,!1);let Oe=n.listen(k,i,o);m.push(o,Oe),h&&h.push(i,fe,R,R+1)}}else o=fg(r,t,v,o,!1);let _=r.outputs,S;if(D&&_!==null&&(S=_[i])){let T=S.length;if(T)for(let k=0;k<T;k+=2){let R=S[k],fe=S[k+1],I=t[R][fe].subscribe(o),Se=m.length;m.push(o,I),h&&h.push(i,r.index,Se,-(Se+1))}}}function dg(e,t,n,r){let i=De(null);try{return mn(6,t,n),n(r)!==!1}catch(o){return uy(e,o),!1}finally{mn(7,t,n),De(i)}}function fg(e,t,n,r,i){return function o(s){if(s===Function)return r;let l=e.componentOffset>-1?ur(e.index,t):t;nf(l);let d=dg(t,n,r,s),h=o.__ngNextListenerFn__;for(;h;)d=dg(t,n,h,s)&&d,h=h.__ngNextListenerFn__;return i&&d===!1&&s.preventDefault(),d}}function $(e=1){return fC(e)}function xn(e,t,n){return Fy(e,"",t,"",n),xn}function Fy(e,t,n,r,i){let o=Me(),s=Oy(o,t,n,r);if(s!==Bi){let l=Tt(),d=Od();ry(l,d,o,e,s,o[$e],i,!1)}return Fy}function fn(e,t,n){lE(e,t,n)}function zt(e){let t=Me(),n=Tt(),r=rv();Md(r+1);let i=sf(n,r);if(e.dirty&&YD(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=fE(t,r);e.reset(o,NC),e.notifyOnChanges()}return!0}return!1}function Gt(){return aE(Me(),rv())}function lf(e){let t=sC();return qD(t,it+e)}function Bn(e,t=""){let n=Me(),r=Tt(),i=e+it,o=r.firstCreatePass?ns(r,i,1,t,null):r.data[i],s=Ly(r,n,o,t,e);n[i]=s,gc()&&Cc(r,n,s,o),Wr(o,!1)}var Ly=(e,t,n,r,i)=>(bn(!0),Hd(t[$e],r));function kE(e,t,n,r,i){let o=t[an],s=!o||ts()||is(n)||xc(o,i);return bn(s),s?Hd(t[$e],r):Mc(o,e,t,n)}function RE(){Ly=kE}function os(e,t,n){let r=Me(),i=Oy(r,e,t,n);return i!==Bi&&n1(r,Nd(),i),os}var PE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=$g(!1,n.type),i=r.length>0?af([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=X({token:e,providedIn:"environment",factory:()=>new e(ye($t))})}}return e})();function pr(e){Ui("NgStandalone"),e.getStandaloneInjector=t=>t.get(PE).getOrCreateStandaloneInjector(e)}function Nc(e,t,n,r){return FE(Me(),nv(),e,t,n,r)}function jy(e,t,n,r,i){return LE(Me(),nv(),e,t,n,r,i)}function Vy(e,t){let n=e[t];return n===Bi?void 0:n}function FE(e,t,n,r,i,o){let s=t+n;return Hr(e,s,i)?Ty(e,s+1,o?r.call(o,i):r(i)):Vy(e,s+1)}function LE(e,t,n,r,i,o,s){let l=t+n;return pE(e,l,i,o)?Ty(e,l+2,s?r.call(s,i,o):r(i,o)):Vy(e,l+2)}function uf(e,t){return Ic(e,t)}var Oc=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var $y=new me("");function ss(e){return!!e&&typeof e.then=="function"}function By(e){return!!e&&typeof e.subscribe=="function"}var Uy=new me(""),Hy=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Uy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(ss(o))n.push(o);else if(By(o)){let s=new Promise((l,d)=>{o.subscribe({complete:l,error:d})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Gi=new me("");function jE(){am(()=>{throw new Y(600,!1)})}function VE(e){return e.isBoundToModule}function $E(e,t,n){try{let r=n();return ss(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var mr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(Cv),this.afterRenderEffectManager=P(Dy),this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=P(rs).hasPendingTasks.pipe(be(n=>!n)),this._injector=P($t)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Qa;if(!this._injector.get(Hy).done){let D=!i&&Fg(n),_=!1;throw new Y(405,_)}let s;i?s=n:s=this._injector.get(Ac).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let l=VE(s)?void 0:this._injector.get(ar),d=r||s.selector,h=s.create(qr.NULL,[],d,l),v=h.location.nativeElement,m=h.injector.get($y,null);return m?.registerApplication(v),h.onDestroy(()=>{this.detachView(h.hostView),wu(this.components,h),m?.unregisterApplication(v)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Y(101,!1);let r=De(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,De(r)}}detectChangesInAttachedViews(n){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===py)throw new Y(103,!1);if(n){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:l}of this._views)BE(s,o,l)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sd(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>sd(o))))break}}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;wu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Gi,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Y(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wu(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var Aa;function df(e){Aa??=new WeakMap;let t=Aa.get(e);if(t)return t;let n=e.isStable.pipe(nn(r=>r)).toPromise().then(()=>{});return Aa.set(e,n),e.onDestroy(()=>Aa?.delete(e)),n}function BE(e,t,n){!t&&!sd(e)||UE(e,n,t)}function sd(e){return Sd(e)}function UE(e,t,n){let r;n?(r=0,e[ne]|=1024):e[ne]&64?r=0:r=1,my(e,t,r)}var ad=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ff=(()=>{class e{compileModuleSync(n){return new od(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Lg(n),o=Hv(i.declarations).reduce((s,l)=>{let d=jr(l);return d&&s.push(new Xo(d)),s},[]);return new ad(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var HE=(()=>{class e{constructor(){this.zone=P(He),this.applicationRef=P(mr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zE(e){return[{provide:He,useFactory:e},{provide:Lr,multi:!0,useFactory:()=>{let t=P(HE,{optional:!0});return()=>t.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let t=P(YE);return()=>{t.initialize()}}},{provide:Cv,useFactory:GE}]}function GE(){let e=P(He),t=P(jn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function WE(e){let t=zE(()=>new He(qE(e)));return Gr([[],t])}function qE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var YE=(()=>{class e{constructor(){this.subscription=new Ke,this.initialized=!1,this.zone=P(He),this.pendingTasks=P(rs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{He.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{He.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function XE(){return typeof $localize<"u"&&$localize.locale||tc}var hf=new me("",{providedIn:"root",factory:()=>P(hf,ge.Optional|ge.SkipSelf)||XE()});var zy=new me("");var Fa=null;function KE(e=[],t){return qr.create({name:t,providers:[{provide:uc,useValue:"platform"},{provide:zy,useValue:new Set([()=>Fa=null])},...e]})}function QE(e=[]){if(Fa)return Fa;let t=KE(e);return Fa=t,jE(),ZE(t),t}function ZE(e){e.get(Pd,null)?.forEach(n=>n())}var Un=(()=>{class e{static{this.__NG_ELEMENT_ID__=JE}}return e})();function JE(e){return eS(Ht(),Me(),(e&16)===16)}function eS(e,t,n){if(Jo(e)&&!n){let r=ur(e.index,t);return new Br(r,r)}else if(e.type&47){let r=t[Ut];return new Br(r,t)}return null}var cd=class{constructor(){}supports(t){return My(t)}create(t){return new ld(t)}},tS=(e,t)=>t,ld=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tS}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<hg(r,i,o)?n:r,l=hg(s,i,o),d=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let h=l-i,v=d-i;if(h!=v){for(let D=0;D<h;D++){let _=D<o.length?o[D]:o[D]=0,S=_+D;v<=S&&S<h&&(o[D]=_+1)}let m=s.previousIndex;o[m]=v-h}}l!==d&&t(s,l,d)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!My(t))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)o=t[l],s=this._trackByFn(l,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,l),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,l)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,hE(t,l=>{s=this._trackByFn(i,l),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,l,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,l,s,i)),Object.is(n.item,l)||this._addIdentityChange(n,l)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new ud(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new nc),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},ud=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},dd=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},nc=class{constructor(){this.map=new Map}put(t){let n=t.trackById,r=this.map.get(n);r||(r=new dd,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hg(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var fd=class{constructor(){}supports(t){return t instanceof Map||cf(t)}create(){return new hd}},hd=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||cf(t)))throw new Y(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new pd(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},pd=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function pg(){return new pf([new cd])}var pf=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:pg})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||pg()),deps:[[e,new gd,new cc]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Y(901,!1)}}return e})();function mg(){return new mf([new fd])}var mf=(()=>{class e{static{this.\u0275prov=X({token:e,providedIn:"root",factory:mg})}constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||mg()),deps:[[e,new gd,new cc]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Y(901,!1)}}return e})();function Gy(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=QE(r),o=[WE(),...n||[]],l=new ec({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,d=l.get(He);return d.run(()=>{l.resolveInjectorInitializers();let h=l.get(jn,null),v;d.runOutsideAngular(()=>{v=d.onError.subscribe({next:_=>{h.handleError(_)}})});let m=()=>l.destroy(),D=i.get(zy);return D.add(m),l.onDestroy(()=>{v.unsubscribe(),D.delete(m)}),$E(h,d,()=>{let _=l.get(Hy);return _.runInitializers(),_.donePromise.then(()=>{let S=l.get(hf,tc);IE(S||tc);let T=l.get(mr);return t!==void 0&&T.bootstrap(t),T})})})}catch(t){return Promise.reject(t)}}var gg=!1,nS=!1;function rS(){gg||(gg=!0,QC(),DE(),RE(),EE(),vE(),nE(),O1(),F_(),AE())}function iS(e,t){return df(e)}function Wy(){return Gr([{provide:Ma,useFactory:()=>{let e=!0;return Ta()&&(e=!!P(Yr,{optional:!0})?.get(Pv,null)),e&&Ui("NgHydration"),e}},{provide:Lr,useValue:()=>{nS=!!P(n_,{optional:!0}),Ta()&&P(Ma)&&(oS(),rS())},multi:!0},{provide:Vv,useFactory:()=>Ta()&&P(Ma)},{provide:Gi,useFactory:()=>{if(Ta()&&P(Ma)){let e=P(mr),t=P(qr);return()=>{iS(e,t).then(()=>{C1(e)})}}return()=>{}},multi:!0}])}function oS(){let e=yc(),t;for(let n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===XC){t=n;break}if(!t)throw new Y(-507,!1)}var Jy=null;function Wi(){return Jy}function e0(e){Jy??=e}var kc=class{};var At=new me(""),t0=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(lS),providedIn:"platform"})}}return e})();var lS=(()=>{class e extends t0{constructor(){super(),this._doc=P(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Wi().getBaseHref(this._doc)}onPopState(n){let r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Wi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function n0(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function qy(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,r=n-(e[n-1]==="/"?1:0);return e.slice(0,r)+e.slice(n)}function Xr(e){return e&&e[0]!=="?"?"?"+e:e}var Pc=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(r0),providedIn:"root"})}}return e})(),uS=new me(""),r0=(()=>{class e extends Pc{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return n0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(ye(t0),ye(uS,8))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var as=(()=>{class e{constructor(n){this._subject=new Vt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hS(qy(Yy(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Xr(r))}normalize(n){return e.stripTrailingSlash(fS(this._basePath,Yy(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Xr}static{this.joinWithSlash=n0}static{this.stripTrailingSlash=qy}static{this.\u0275fac=function(r){return new(r||e)(ye(Pc))}}static{this.\u0275prov=X({token:e,factory:()=>dS(),providedIn:"root"})}}return e})();function dS(){return new as(ye(Pc))}function fS(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Yy(e){return e.replace(/\/index.html$/,"")}function hS(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function bf(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var gf=/\s+/,Xy=[],i0=(()=>{class e{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Xy,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(gf):Xy}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(gf):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(gf).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(Ve(Vn),Ve($n))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Pn.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var vf=class{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qi=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new vf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,s),Ky(l,i)}});for(let i=0,o=r.length;i<o;i++){let l=r.get(i).context;l.index=i,l.count=o,l.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Ky(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ve(hr),Ve(Ur),Ve(pf))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Ky(e,t){e.context.$implicit=t.item}var Fc=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new yf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Qy("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Qy("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(Ve(hr),Ve(Ur))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),yf=class{constructor(){this.$implicit=null,this.ngIf=null}};function Qy(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${xt(t)}'.`)}var Yi=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:fr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(Ve(Vn),Ve(mf),Ve($n))}}static{this.\u0275dir=zr({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})();var Kr=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=lc({type:e})}static{this.\u0275inj=ic({})}}return e})(),o0="browser",pS="server";function cs(e){return e===pS}var Rc=class{};var jc=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var h0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(h0||{}),xf=class{constructor(t,n=p0.Ok,r="OK"){this.headers=t.headers||new jc,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Vc=class e extends xf{constructor(t={}){super(t),this.type=h0.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var p0=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(p0||{});var gS=new me("");var s0="b",a0="h",c0="s",l0="st",u0="u",d0="rt",Lc=new me(""),vS=["GET","HEAD"];function yS(e,t){let m=P(Lc),{isCacheActive:n}=m,r=em(m,["isCacheActive"]),{transferCache:i,method:o}=e;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!vS.includes(o)||i===!1||r.filter?.(e)===!1)return t(e);let s=P(Yr),l=wS(e),d=s.get(l,null),h=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(h=i.includeHeaders),d){let{[s0]:D,[d0]:_,[a0]:S,[c0]:T,[l0]:k,[u0]:R}=d,fe=D;switch(_){case"arraybuffer":fe=new TextEncoder().encode(D).buffer;break;case"blob":fe=new Blob([D]);break}let pe=new jc(S);return se(new Vc({body:fe,headers:pe,status:T,statusText:k,url:R}))}let v=cs(P(wn));return t(e).pipe(Ze(D=>{D instanceof Vc&&v&&s.set(l,{[s0]:D.body,[a0]:bS(D.headers,h),[c0]:D.status,[l0]:D.statusText,[u0]:D.url||"",[d0]:e.responseType})}))}function bS(e,t){if(!t)return{};let n={};for(let r of t){let i=e.getAll(r);i!==null&&(n[r]=i)}return n}function f0(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function wS(e){let{params:t,method:n,responseType:r,url:i}=e,o=f0(t),s=e.serializeBody();s instanceof URLSearchParams?s=f0(s):typeof s!="string"&&(s="");let l=[n,r,i,s,o].join("|"),d=xS(l);return d}function xS(e){let t=0;for(let n of e)t=Math.imul(31,t)+n.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function m0(e){return[{provide:Lc,useFactory:()=>(Ui("NgHttpTransferCache"),j({isCacheActive:!0},e))},{provide:gS,useValue:yS,multi:!0,deps:[Yr,Lc]},{provide:Gi,multi:!0,useFactory:()=>{let t=P(mr),n=P(Lc);return()=>{df(t).then(()=>{n.isCacheActive=!1})}}}]}var _f=class extends kc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Ef=class e extends _f{static makeCurrent(){e0(new e)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=DS();return n==null?null:CS(n)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return bf(document.cookie,t)}},ls=null;function DS(){return ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null}function CS(e){return new URL(e,document.baseURI).pathname}var _S=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),Sf=new me(""),b0=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Y(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(ye(Sf),ye(He))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),$c=class{constructor(t){this._doc=t}},Df="ng-app-id",w0=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cs(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Df}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Df),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Df,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(ye(At),ye(bc),ye(Fd,8),ye(wn))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),Cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Tf=/%COMP%/g,x0="%COMP%",ES=`_nghost-${x0}`,SS=`_ngcontent-${x0}`,IS=!0,MS=new me("",{providedIn:"root",factory:()=>IS});function TS(e){return SS.replace(Tf,e)}function AS(e){return ES.replace(Tf,e)}function D0(e,t){return t.map(n=>n.replace(Tf,e))}var g0=(()=>{class e{constructor(n,r,i,o,s,l,d,h=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=cs(l),this.defaultRenderer=new us(n,s,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===vn.ShadowDom&&(r=Le(j({},r),{encapsulation:vn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Bc?i.applyToHost(n):i instanceof ds&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,l=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case vn.Emulated:o=new Bc(d,h,r,this.appId,v,s,l,m);break;case vn.ShadowDom:return new If(d,h,n,r,s,l,this.nonce,m);default:o=new ds(d,h,r,v,s,l,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(ye(b0),ye(w0),ye(bc),ye(MS),ye(At),ye(wn),ye(He),ye(Fd))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),us=class{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(Cf[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(v0(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(v0(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new Y(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Cf[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Cf[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(fr.DashCase|fr.Important)?t.style.setProperty(n,r,i&fr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&fr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if(typeof t=="string"&&(t=Wi().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function v0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var If=class extends us{constructor(t,n,r,i,o,s,l,d){super(t,o,s,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=D0(i.id,i.styles);for(let v of h){let m=document.createElement("style");l&&m.setAttribute("nonce",l),m.textContent=v,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ds=class extends us{constructor(t,n,r,i,o,s,l,d){super(t,o,s,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?D0(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Bc=class extends ds{constructor(t,n,r,i,o,s,l,d){let h=i+"-"+r.id;super(t,n,r,o,s,l,d,h),this.contentAttr=TS(h),this.hostAttr=AS(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},NS=(()=>{class e extends $c{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(ye(At))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})(),y0=["alt","control","meta","shift"],OS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},RS=(()=>{class e extends $c{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i){let o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),y0.forEach(h=>{let v=r.indexOf(h);v>-1&&(r.splice(v,1),s+=h+".")}),s+=o,r.length!=0||o.length===0)return null;let d={};return d.domEventName=i,d.fullKey=s,d}static matchEventFullKeyCode(n,r){let i=OS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),y0.forEach(s=>{if(s!==i){let l=kS[s];l(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(ye(At))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac})}}return e})();function C0(e,t){return Gy(j({rootComponent:e},PS(t)))}function PS(e){return{appProviders:[...$S,...e?.providers??[]],platformProviders:VS}}function FS(){Ef.makeCurrent()}function LS(){return new jn}function jS(){return Nv(document),document}var VS=[{provide:wn,useValue:o0},{provide:Pd,useValue:FS,multi:!0},{provide:At,useFactory:jS,deps:[]}];var $S=[{provide:uc,useValue:"root"},{provide:jn,useFactory:LS,deps:[]},{provide:Sf,useClass:NS,multi:!0,deps:[At,He,wn]},{provide:Sf,useClass:RS,multi:!0,deps:[At]},g0,w0,b0,{provide:Yo,useExisting:g0},{provide:Rc,useClass:_S,deps:[]},[]];var _0=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(ye(At))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Mf=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Mf||{});function E0(...e){let t=[],n=new Set,r=n.has(Mf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of e)n.add(o),i.length&&t.push(i);return Gr([[],Wy(),n.has(Mf.NoHttpTransferCache)||r?[]:m0({}),t])}var de="primary",Ss=Symbol("RouteTitle"),Rf=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ji(e){return new Rf(e)}function US(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],l=e[o];if(s.startsWith(":"))i[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function HS(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Dn(e[n],t[n]))return!1;return!0}function Dn(e,t){let n=e?Pf(e):void 0,r=t?Pf(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!N0(e[i],t[i]))return!1;return!0}function Pf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function N0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function O0(e){return e.length>0?e[e.length-1]:null}function yr(e){return nu(e)?e:ss(e)?qe(Promise.resolve(e)):se(e)}var zS={exact:R0,subset:P0},k0={exact:GS,subset:WS,ignored:()=>!0};function S0(e,t,n){return zS[n.paths](e.root,t.root,n.matrixParams)&&k0[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function GS(e,t){return Dn(e,t)}function R0(e,t,n){if(!Zr(e.segments,t.segments)||!zc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!R0(e.children[r],t.children[r],n))return!1;return!0}function WS(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>N0(e[n],t[n]))}function P0(e,t,n){return F0(e,t,t.segments,n)}function F0(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Zr(i,n)||t.hasChildren()||!zc(i,n,r))}else if(e.segments.length===n.length){if(!Zr(e.segments,n)||!zc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!P0(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Zr(e.segments,i)||!zc(e.segments,i,r)||!e.children[de]?!1:F0(e.children[de],t,o,r)}}function zc(e,t,n){return t.every((r,i)=>k0[n](e[i].parameters,r.parameters))}var gr=class{constructor(t=new Ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){return XS.serialize(this)}},Ee=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gc(this)}},Qr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ji(this.parameters),this._parameterMap}toString(){return j0(this)}};function qS(e,t){return Zr(e,t)&&e.every((n,r)=>Dn(n.parameters,t[r].parameters))}function Zr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function YS(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===de&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==de&&(n=n.concat(t(i,r)))}),n}var ah=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>new qc,providedIn:"root"})}}return e})(),qc=class{parse(t){let n=new Lf(t);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${fs(t.root,!0)}`,r=ZS(t.queryParams),i=typeof t.fragment=="string"?`#${KS(t.fragment)}`:"";return`${n}${r}${i}`}},XS=new qc;function Gc(e){return e.segments.map(t=>j0(t)).join("/")}function fs(e,t){if(!e.hasChildren())return Gc(e);if(t){let n=e.children[de]?fs(e.children[de],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==de&&r.push(`${i}:${fs(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YS(e,(r,i)=>i===de?[fs(e.children[de],!1)]:[`${i}:${fs(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[de]!=null?`${Gc(e)}/${n[0]}`:`${Gc(e)}/(${n.join("//")})`}}function L0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uc(e){return L0(e).replace(/%3B/gi,";")}function KS(e){return encodeURI(e)}function Ff(e){return L0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wc(e){return decodeURIComponent(e)}function I0(e){return Wc(e.replace(/\+/g,"%20"))}function j0(e){return`${Ff(e.path)}${QS(e.parameters)}`}function QS(e){return Object.entries(e).map(([t,n])=>`;${Ff(t)}=${Ff(n)}`).join("")}function ZS(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Uc(n)}=${Uc(i)}`).join("&"):`${Uc(n)}=${Uc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var JS=/^[^\/()?;#]+/;function Af(e){let t=e.match(JS);return t?t[0]:""}var eI=/^[^\/()?;=#]+/;function tI(e){let t=e.match(eI);return t?t[0]:""}var nI=/^[^=?&#]+/;function rI(e){let t=e.match(nI);return t?t[0]:""}var iI=/^[^&#]+/;function oI(e){let t=e.match(iI);return t?t[0]:""}var Lf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[de]=new Ee(t,n)),r}parseSegment(){let t=Af(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(t),new Qr(Wc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=tI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Af(this.remaining);i&&(r=i,this.capture(r))}t[Wc(n)]=Wc(r)}parseQueryParam(t){let n=rI(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=oI(this.remaining);s&&(r=s,this.capture(r))}let i=I0(n),o=I0(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Af(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Y(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=de);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[de]:new Ee([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Y(4011,!1)}};function V0(e){return e.segments.length>0?new Ee([],{[de]:e}):e}function $0(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=$0(i);if(r===de&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Ee(e.segments,t);return sI(n)}function sI(e){if(e.numberOfChildren===1&&e.children[de]){let t=e.children[de];return new Ee(e.segments.concat(t.segments),t.children)}return e}function eo(e){return e instanceof gr}function aI(e,t,n=null,r=null){let i=B0(e);return U0(i,t,n,r)}function B0(e){let t;function n(o){let s={};for(let d of o.children){let h=n(d);s[d.outlet]=h}let l=new Ee(o.url,s);return o===e&&(t=l),l}let r=n(e.root),i=V0(r);return t??i}function U0(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Nf(i,i,i,n,r);let o=cI(t);if(o.toRoot())return Nf(i,i,new Ee([],{}),n,r);let s=lI(o,i,e),l=s.processChildren?ms(s.segmentGroup,s.index,o.commands):z0(s.segmentGroup,s.index,o.commands);return Nf(i,s.segmentGroup,l,n,r)}function Yc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ys(e){return typeof e=="object"&&e!=null&&e.outlets}function Nf(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([d,h])=>{o[d]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`});let s;e===t?s=n:s=H0(e,t,n);let l=V0($0(s));return new gr(l,o,i)}function H0(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=H0(o,t,n)}),new Ee(e.segments,r)}var Xc=class{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Yc(r[0]))throw new Y(4003,!1);let i=r.find(ys);if(i&&i!==O0(r))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cI(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Xc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,h])=>{l[d]=typeof h=="string"?h.split("/"):h}),[...i,{outlets:l}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?n=!0:l===".."?t++:l!=""&&i.push(l))}),i):[...i,o]},[]);return new Xc(n,t,r)}var Qi=class{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function lI(e,t,n){if(e.isAbsolute)return new Qi(t,!0,0);if(!n)return new Qi(t,!1,NaN);if(n.parent===null)return new Qi(n,!0,0);let r=Yc(e.commands[0])?0:1,i=n.segments.length-1+r;return uI(n,i,e.numberOfDoubleDots)}function uI(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Y(4005,!1);i=r.segments.length}return new Qi(r,!1,i-o)}function dI(e){return ys(e[0])?e[0].outlets:{[de]:e}}function z0(e,t,n){if(e??=new Ee([],{}),e.segments.length===0&&e.hasChildren())return ms(e,t,n);let r=fI(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ee(e.segments.slice(0,r.pathIndex),{});return o.children[de]=new Ee(e.segments.slice(r.pathIndex),e.children),ms(o,0,i)}else return r.match&&i.length===0?new Ee(e.segments,{}):r.match&&!e.hasChildren()?jf(e,t,n):r.match?ms(e,0,i):jf(e,t,n)}function ms(e,t,n){if(n.length===0)return new Ee(e.segments,{});{let r=dI(n),i={};if(Object.keys(r).some(o=>o!==de)&&e.children[de]&&e.numberOfChildren===1&&e.children[de].segments.length===0){let o=ms(e.children[de],t,n);return new Ee(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=z0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ee(e.segments,i)}}function fI(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],l=n[r];if(ys(l))break;let d=`${l}`,h=r<n.length-1?n[r+1]:null;if(i>0&&d===void 0)break;if(d&&h&&typeof h=="object"&&h.outlets===void 0){if(!T0(d,h,s))return o;r+=2}else{if(!T0(d,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jf(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ys(o)){let d=hI(o.outlets);return new Ee(r,d)}if(i===0&&Yc(n[0])){let d=e.segments[t];r.push(new Qr(d.path,M0(n[0]))),i++;continue}let s=ys(o)?o.outlets[de]:`${o}`,l=i<n.length-1?n[i+1]:null;s&&l&&Yc(l)?(r.push(new Qr(s,M0(l))),i+=2):(r.push(new Qr(s,{})),i++)}return new Ee(r,{})}function hI(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=jf(new Ee([],{}),0,r))}),t}function M0(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function T0(e,t,n){return e==n.path&&Dn(t,n.parameters)}var gs="imperative",ot=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ot||{}),Wt=class{constructor(t,n){this.id=t,this.url=n}},bs=class extends Wt{constructor(t,n,r="imperative",i=null){super(t,n),this.type=ot.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jr=class extends Wt{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ot=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ot||{}),Vf=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Vf||{}),vr=class extends Wt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ei=class extends Wt{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=ot.NavigationSkipped}},ws=class extends Wt{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Kc=class extends Wt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$f=class extends Wt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bf=class extends Wt{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Uf=class extends Wt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hf=class extends Wt{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zf=class{constructor(t){this.route=t,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gf=class{constructor(t){this.route=t,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wf=class{constructor(t){this.snapshot=t,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qf=class{constructor(t){this.snapshot=t,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yf=class{constructor(t){this.snapshot=t,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xf=class{constructor(t){this.snapshot=t,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var xs=class{},Ds=class{constructor(t){this.url=t}};var Kf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nl,this.attachRef=null}},nl=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Kf,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qc=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Qf(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Qf(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Zf(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Zf(t,this._root).map(n=>n.value)}};function Qf(e,t){if(e===t.value)return t;for(let n of t.children){let r=Qf(e,n);if(r)return r}return null}function Zf(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Zf(e,n);if(r.length)return r.unshift(t),r}return[]}var Nt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ki(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Zc=class extends Qc{constructor(t,n){super(t),this.snapshot=n,lh(this,t)}toString(){return this.snapshot.toString()}};function G0(e){let t=pI(e),n=new rt([new Qr("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),l=new to(n,r,o,s,i,de,e,t.root);return l.snapshot=t.root,new Zc(new Nt(l,[]),t)}function pI(e){let t={},n={},r={},i="",o=new Cs([],t,r,i,n,de,e,null,{});return new Jc("",new Nt(o,[]))}var to=class{constructor(t,n,r,i,o,s,l,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(be(h=>h[Ss]))??se(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(be(t=>Ji(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(be(t=>Ji(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ch(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:j(j({},t.params),e.params),data:j(j({},t.data),e.data),resolve:j(j(j(j({},e.data),t.data),i?.data),e._resolvedData)}:r={params:j({},e.params),data:j({},e.data),resolve:j(j({},e.data),e._resolvedData??{})},i&&q0(i)&&(r.resolve[Ss]=i.title),r}var Cs=class{get title(){return this.data?.[Ss]}constructor(t,n,r,i,o,s,l,d,h){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=l,this.routeConfig=d,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ji(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ji(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Jc=class extends Qc{constructor(t,n){super(n),this.url=t,lh(this,n)}toString(){return W0(this._root)}};function lh(e,t){t.value._routerState=e,t.children.forEach(n=>lh(e,n))}function W0(e){let t=e.children.length>0?` { ${e.children.map(W0).join(", ")} } `:"";return`${e.value}${t}`}function Of(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Dn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Dn(t.params,n.params)||e.paramsSubject.next(n.params),HS(t.url,n.url)||e.urlSubject.next(n.url),Dn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Jf(e,t){let n=Dn(e.params,t.params)&&qS(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Jf(e.parent,t.parent))}function q0(e){return typeof e.title=="string"||e.title===null}var uh=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new Vt,this.deactivateEvents=new Vt,this.attachEvents=new Vt,this.detachEvents=new Vt,this.parentContexts=P(nl),this.location=P(hr),this.changeDetector=P(Un),this.environmentInjector=P($t),this.inputBinder=P(dh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new eh(n,l,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=zr({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hc]})}}return e})(),eh=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===to?this.route:t===nl?this.childContexts:this.parent.get(t,n)}},dh=new me("");function mI(e,t,n){let r=_s(e,t._root,n?n._root:void 0);return new Zc(r,t)}function _s(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=gI(e,t,n);return new Nt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>_s(e,l)),s}}let r=vI(t.value),i=t.children.map(o=>_s(e,o));return new Nt(r,i)}}function gI(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return _s(e,r,i);return _s(e,r)})}function vI(e){return new to(new rt(e.url),new rt(e.params),new rt(e.queryParams),new rt(e.fragment),new rt(e.data),e.outlet,e.component,e)}var Y0="ngNavigationCancelingError";function X0(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=eo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=K0(!1,Ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function K0(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Y0]=!0,n.cancellationCode=t,n}function yI(e){return Q0(e)&&eo(e.url)}function Q0(e){return!!e&&e[Y0]}var bI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cr({type:e,selectors:[["ng-component"]],standalone:!0,features:[pr],decls:1,vars:0,template:function(r,i){r&1&&ie(0,"router-outlet")},dependencies:[uh],encapsulation:2})}}return e})();function wI(e,t){return e.providers&&!e._injector&&(e._injector=af(e.providers,t,`Route: ${e.path}`)),e._injector??t}function fh(e){let t=e.children&&e.children.map(fh),n=t?Le(j({},e),{children:t}):j({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==de&&(n.component=bI),n}function Cn(e){return e.outlet||de}function xI(e,t){let n=e.filter(r=>Cn(r)===t);return n.push(...e.filter(r=>Cn(r)!==t)),n}function Is(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var DI=(e,t,n,r)=>be(i=>(new th(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),th=class{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Of(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ki(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ki(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ki(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Xf(o.value.snapshot))}),t.children.length&&this.forwardEvent(new qf(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Of(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Of(l.route.value),this.activateChildRoutes(t,null,s.children)}else{let l=Is(i.snapshot);s.attachRef=null,s.route=i,s.injector=l,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}},el=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Zi=class{constructor(t,n){this.component=t,this.route=n}};function CI(e,t,n){let r=e._root,i=t?t._root:null;return hs(r,i,n,[r.value])}function _I(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ro(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Dg(e)?e:t.get(e):r}function hs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ki(t);return e.children.forEach(s=>{EI(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>vs(l,n.getContext(s),i)),i}function EI(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,l=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let d=SI(s,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new el(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hs(e,t,l?l.children:null,r,i):hs(e,t,n,r,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new Zi(l.outlet.component,s))}else s&&vs(t,l,i),i.canActivateChecks.push(new el(r)),o.component?hs(e,null,l?l.children:null,r,i):hs(e,null,n,r,i);return i}function SI(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Zr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zr(e.url,t.url)||!Dn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jf(e,t)||!Dn(e.queryParams,t.queryParams);case"paramsChange":default:return!Jf(e,t)}}function vs(e,t,n){let r=Ki(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?vs(s,t.children.getContext(o),n):vs(s,null,n):vs(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Zi(t.outlet.component,i)):n.canDeactivateChecks.push(new Zi(null,i)):n.canDeactivateChecks.push(new Zi(null,i))}function Ms(e){return typeof e=="function"}function II(e){return typeof e=="boolean"}function MI(e){return e&&Ms(e.canLoad)}function TI(e){return e&&Ms(e.canActivate)}function AI(e){return e&&Ms(e.canActivateChild)}function NI(e){return e&&Ms(e.canDeactivate)}function OI(e){return e&&Ms(e.canMatch)}function Z0(e){return e instanceof On||e?.name==="EmptyError"}var Hc=Symbol("INITIAL_VALUE");function no(){return Ft(e=>_a(e.map(t=>t.pipe(kn(1),au(Hc)))).pipe(be(t=>{for(let n of t)if(n!==!0){if(n===Hc)return Hc;if(n===!1||n instanceof gr)return n}return!0}),Pt(t=>t!==Hc),kn(1)))}function kI(e,t){return Qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?se(Le(j({},n),{guardsResult:!0})):RI(s,r,i,e).pipe(Qe(l=>l&&II(l)?PI(r,o,e,t):se(l)),be(l=>Le(j({},n),{guardsResult:l})))})}function RI(e,t,n,r){return qe(e).pipe(Qe(i=>$I(i.component,i.route,n,t,r)),nn(i=>i!==!0,!0))}function PI(e,t,n,r){return qe(t).pipe(Pr(i=>Si(LI(i.route.parent,r),FI(i.route,r),VI(e,i.path,n),jI(e,i.route,n))),nn(i=>i!==!0,!0))}function FI(e,t){return e!==null&&t&&t(new Yf(e)),se(!0)}function LI(e,t){return e!==null&&t&&t(new Wf(e)),se(!0)}function jI(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return se(!0);let i=r.map(o=>Ea(()=>{let s=Is(t)??n,l=ro(o,s),d=TI(l)?l.canActivate(t,e):lr(s,()=>l(t,e));return yr(d).pipe(nn())}));return se(i).pipe(no())}function VI(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>_I(s)).filter(s=>s!==null).map(s=>Ea(()=>{let l=s.guards.map(d=>{let h=Is(s.node)??n,v=ro(d,h),m=AI(v)?v.canActivateChild(r,e):lr(h,()=>v(r,e));return yr(m).pipe(nn())});return se(l).pipe(no())}));return se(o).pipe(no())}function $I(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return se(!0);let s=o.map(l=>{let d=Is(t)??i,h=ro(l,d),v=NI(h)?h.canDeactivate(e,t,n,r):lr(d,()=>h(e,t,n,r));return yr(v).pipe(nn())});return se(s).pipe(no())}function BI(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return se(!0);let o=i.map(s=>{let l=ro(s,e),d=MI(l)?l.canLoad(t,n):lr(e,()=>l(t,n));return yr(d)});return se(o).pipe(no(),J0(r))}function J0(e){return Zl(Ze(t=>{if(eo(t))throw X0(e,t)}),be(t=>t===!0))}function UI(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return se(!0);let o=i.map(s=>{let l=ro(s,e),d=OI(l)?l.canMatch(t,n):lr(e,()=>l(t,n));return yr(d)});return se(o).pipe(no(),J0(r))}var Es=class{constructor(t){this.segmentGroup=t||null}},tl=class extends Error{constructor(t){super(),this.urlTree=t}};function Xi(e){return Ei(new Es(e))}function HI(e){return Ei(new Y(4e3,!1))}function zI(e){return Ei(K0(!1,Ot.GuardRejected))}var nh=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return se(r);if(i.numberOfChildren>1||!i.children[de])return HI(t.redirectTo);i=i.children[de]}}applyRedirectCommands(t,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new tl(i);return i}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let l=o.substring(1);r[i]=n[l]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([l,d])=>{s[l]=this.createSegmentGroup(t,d,r,i)}),new Ee(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new Y(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},rh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GI(e,t,n,r,i){let o=hh(e,t,n);return o.matched?(r=wI(t,r),UI(r,t,n,i).pipe(be(s=>s===!0?o:j({},rh)))):se(o)}function hh(e,t,n){if(t.path==="**")return WI(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?j({},rh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||US)(n,e,t);if(!i)return j({},rh);let o={};Object.entries(i.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WI(e){return{matched:!0,parameters:e.length>0?O0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function A0(e,t,n,r){return n.length>0&&XI(e,n,r)?{segmentGroup:new Ee(t,YI(r,new Ee(n,e.children))),slicedSegments:[]}:n.length===0&&KI(e,n,r)?{segmentGroup:new Ee(e.segments,qI(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ee(e.segments,e.children),slicedSegments:n}}function qI(e,t,n,r){let i={};for(let o of n)if(rl(e,t,o)&&!r[Cn(o)]){let s=new Ee([],{});i[Cn(o)]=s}return j(j({},r),i)}function YI(e,t){let n={};n[de]=t;for(let r of e)if(r.path===""&&Cn(r)!==de){let i=new Ee([],{});n[Cn(r)]=i}return n}function XI(e,t,n){return n.some(r=>rl(e,t,r)&&Cn(r)!==de)}function KI(e,t,n){return n.some(r=>rl(e,t,r))}function rl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function QI(e,t,n,r){return Cn(e)!==r&&(r===de||!rl(t,n,e))?!1:hh(t,e,n).matched}function ZI(e,t,n){return t.length===0&&!e.children[n]}var ih=class{};function JI(e,t,n,r,i,o,s="emptyOnly"){return new oh(e,t,n,r,i,s,o).recognize()}var eM=31,oh=class{constructor(t,n,r,i,o,s,l){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new nh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Y(4002,`'${t.segmentGroup}'`)}recognize(){let t=A0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(be(n=>{let r=new Cs([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new Nt(r,n),o=new Jc("",i),s=aI(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,de).pipe(nr(r=>{if(r instanceof tl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Es?this.noMatchError(r):r}))}inheritParamsAndData(t,n){let r=t.value,i=ch(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(be(o=>o instanceof Nt?[o]:[]))}processChildren(t,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return qe(i).pipe(Pr(o=>{let s=r.children[o],l=xI(n,o);return this.processSegmentGroup(t,l,s,o)}),su((o,s)=>(o.push(...s),o)),rr(null),ou(),Qe(o=>{if(o===null)return Xi(r);let s=eb(o);return tM(s),se(s)}))}processSegment(t,n,r,i,o,s){return qe(n).pipe(Pr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s).pipe(nr(d=>{if(d instanceof Es)return se(null);throw d}))),nn(l=>!!l),nr(l=>{if(Z0(l))return ZI(r,i,o)?se(new ih):Xi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,l){return QI(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Xi(i):Xi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){let{matched:l,consumedSegments:d,positionalParamSegments:h,remainingSegments:v}=hh(n,i,o);if(!l)return Xi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eM&&(this.allowRedirects=!1));let m=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h);return this.applyRedirects.lineralizeSegments(i,m).pipe(Qe(D=>this.processSegment(t,r,n,D.concat(v),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){let s=GI(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ft(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Ft(({routes:d})=>{let h=r._loadedInjector??t,{consumedSegments:v,remainingSegments:m,parameters:D}=l,_=new Cs(v,D,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,rM(r),Cn(r),r.component??r._loadedComponent??null,r,iM(r)),{segmentGroup:S,slicedSegments:T}=A0(n,v,m,d);if(T.length===0&&S.hasChildren())return this.processChildren(h,d,S).pipe(be(R=>R===null?null:new Nt(_,R)));if(d.length===0&&T.length===0)return se(new Nt(_,[]));let k=Cn(r)===o;return this.processSegment(h,d,S,T,k?de:o,!0).pipe(be(R=>new Nt(_,R instanceof Nt?[R]:[])))}))):Xi(n)))}getChildConfig(t,n,r){return n.children?se({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?se({routes:n._loadedRoutes,injector:n._loadedInjector}):BI(t,n,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(t,n).pipe(Ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):zI(n))):se({routes:[],injector:t})}};function tM(e){e.sort((t,n)=>t.value.outlet===de?-1:n.value.outlet===de?1:t.value.outlet.localeCompare(n.value.outlet))}function nM(e){let t=e.value.routeConfig;return t&&t.path===""}function eb(e){let t=[],n=new Set;for(let r of e){if(!nM(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=eb(r.children);t.push(new Nt(r.value,i))}return t.filter(r=>!n.has(r))}function rM(e){return e.data||{}}function iM(e){return e.resolve||{}}function oM(e,t,n,r,i,o){return Qe(s=>JI(e,t,n,r,s.extractedUrl,i,o).pipe(be(({state:l,tree:d})=>Le(j({},s),{targetSnapshot:l,urlAfterRedirects:d}))))}function sM(e,t){return Qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let o=new Set(i.map(d=>d.route)),s=new Set;for(let d of o)if(!s.has(d))for(let h of tb(d))s.add(h);let l=0;return qe(s).pipe(Pr(d=>o.has(d)?aM(d,r,e,t):(d.data=ch(d,d.parent,e).resolve,se(void 0))),Ze(()=>l++),Mi(1),Qe(d=>l===s.size?se(n):St))})}function tb(e){let t=e.children.map(n=>tb(n)).flat();return[e,...t]}function aM(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!q0(i)&&(o[Ss]=i.title),cM(o,e,t,r).pipe(be(s=>(e._resolvedData=s,e.data=ch(e,e.parent,n).resolve,null)))}function cM(e,t,n,r){let i=Pf(e);if(i.length===0)return se({});let o={};return qe(i).pipe(Qe(s=>lM(e[s],t,n,r).pipe(nn(),Ze(l=>{o[s]=l}))),Mi(1),iu(o),nr(s=>Z0(s)?St:Ei(s)))}function lM(e,t,n,r){let i=Is(t)??r,o=ro(e,i),s=o.resolve?o.resolve(t,n):lr(i,()=>o(t,n));return yr(s)}function kf(e){return Ft(t=>{let n=e(t);return n?qe(n).pipe(be(()=>t)):se(t)})}var nb=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===de);return r}getResolvedTitleForRoute(n){return n.data[Ss]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(uM),providedIn:"root"})}}return e})(),uM=(()=>{class e extends nb{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(ye(_0))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ph=new me("",{providedIn:"root",factory:()=>({})}),mh=new me(""),dM=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(ff)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return se(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=yr(n.loadComponent()).pipe(be(rb),Ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Ii(()=>{this.componentLoaders.delete(n)})),i=new _i(r,()=>new gt).pipe(Ci());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=fM(r,this.compiler,n,this.onLoadEndListener).pipe(Ii(()=>{this.childrenLoaders.delete(r)})),s=new _i(o,()=>new gt).pipe(Ci());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fM(e,t,n,r){return yr(e.loadChildren()).pipe(be(rb),Qe(i=>i instanceof Ko||Array.isArray(i)?se(i):qe(t.compileModuleAsync(i))),be(i=>{r&&r(e);let o,s,l=!1;return Array.isArray(i)?(s=i,l=!0):(o=i.create(n).injector,s=o.get(mh,[],{optional:!0,self:!0}).flat()),{routes:s.map(fh),injector:o}}))}function hM(e){return e&&typeof e=="object"&&"default"in e}function rb(e){return hM(e)?e.default:e}var gh=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(pM),providedIn:"root"})}}return e})(),pM=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),mM=new me("");var gM=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=P(dM),this.environmentInjector=P($t),this.urlSerializer=P(ah),this.rootContexts=P(nl),this.location=P(as),this.inputBindingEnabled=P(dh,{optional:!0})!==null,this.titleStrategy=P(nb),this.options=P(ph,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(gh),this.createViewTransition=P(mM,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null;let n=i=>this.events.next(new zf(i)),r=i=>this.events.next(new Gf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Le(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gs,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Pt(o=>o.id!==0),be(o=>Le(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ft(o=>{let s=!1,l=!1;return se(o).pipe(Ft(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),St;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Le(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&v!=="reload"){let m="";return this.events.next(new ei(d.id,this.urlSerializer.serialize(d.rawUrl),m,Vf.IgnoredSameUrlNavigation)),d.resolve(null),St}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return se(d).pipe(Ft(m=>{let D=this.transitions?.getValue();return this.events.next(new bs(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),D!==this.transitions?.getValue()?St:Promise.resolve(m)}),oM(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Le(j({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let D=new Kc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(D)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:m,extractedUrl:D,source:_,restoredState:S,extras:T}=d,k=new bs(m,this.urlSerializer.serialize(D),_,S);this.events.next(k);let R=G0(this.rootComponentType).snapshot;return this.currentTransition=o=Le(j({},d),{targetSnapshot:R,urlAfterRedirects:D,extras:Le(j({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,se(o)}else{let m="";return this.events.next(new ei(d.id,this.urlSerializer.serialize(d.extractedUrl),m,Vf.IgnoredByUrlHandlingStrategy)),d.resolve(null),St}}),Ze(d=>{let h=new $f(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),be(d=>(this.currentTransition=o=Le(j({},d),{guards:CI(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),o)),kI(this.environmentInjector,d=>this.events.next(d)),Ze(d=>{if(o.guardsResult=d.guardsResult,eo(d.guardsResult))throw X0(this.urlSerializer,d.guardsResult);let h=new Bf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),Pt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Ot.GuardRejected),!1)),kf(d=>{if(d.guards.canActivateChecks.length)return se(d).pipe(Ze(h=>{let v=new Uf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}),Ft(h=>{let v=!1;return se(h).pipe(sM(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(h,"",Ot.NoDataFromResolver)}}))}),Ze(h=>{let v=new Hf(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(v)}))}),kf(d=>{let h=v=>{let m=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(v.routeConfig).pipe(Ze(D=>{v.component=D}),be(()=>{})));for(let D of v.children)m.push(...h(D));return m};return _a(h(d.targetSnapshot.root)).pipe(rr(null),kn(1))}),kf(()=>this.afterPreactivation()),Ft(()=>{let{currentSnapshot:d,targetSnapshot:h}=o,v=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return v?qe(v).pipe(be(()=>o)):se(o)}),be(d=>{let h=mI(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o=Le(j({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ze(()=>{this.events.next(new xs)}),DI(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),kn(1),Ze({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),cu(this.transitionAbortSubject.pipe(Ze(d=>{throw d}))),Ii(()=>{!s&&!l&&this.cancelNavigationTransition(o,"",Ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(d=>{if(l=!0,Q0(d))this.events.next(new vr(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),yI(d)?this.events.next(new Ds(d.url)):o.resolve(!1);else{this.events.next(new ws(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(d))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return St}))}))}cancelNavigationTransition(n,r,i){let o=new vr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function vM(e){return e!==gs}var yM=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(bM),providedIn:"root"})}}return e})(),sh=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},bM=(()=>{class e extends sh{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rd(e)))(i||e)}})()}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ib=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:()=>P(wM),providedIn:"root"})}}return e})(),wM=(()=>{class e extends ib{constructor(){super(...arguments),this.location=P(as),this.urlSerializer=P(ah),this.options=P(ph,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(gh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=G0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof bs)this.stateMemento=this.createStateMemento();else if(n instanceof ei)this.rawUrlTree=r.initialUrl;else if(n instanceof Kc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof xs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof vr&&(n.code===Ot.GuardRejected||n.code===Ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof ws?this.restoreHistory(r,!0):n instanceof Jr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Rd(e)))(i||e)}})()}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ps=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ps||{});function xM(e,t){e.events.pipe(Pt(n=>n instanceof Jr||n instanceof vr||n instanceof ws||n instanceof ei),be(n=>n instanceof Jr||n instanceof ei?ps.COMPLETE:(n instanceof vr?n.code===Ot.Redirect||n.code===Ot.SupersededByNewNavigation:!1)?ps.REDIRECTING:ps.FAILED),Pt(n=>n!==ps.REDIRECTING),kn(1)).subscribe(()=>{t()})}function DM(e){throw e}var CM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_M={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ob=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(Oc),this.stateManager=P(ib),this.options=P(ph,{optional:!0})||{},this.pendingTasks=P(rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(gM),this.urlSerializer=P(ah),this.location=P(as),this.urlHandlingStrategy=P(gh),this._events=new gt,this.errorHandler=this.options.errorHandler||DM,this.navigated=!1,this.routeReuseStrategy=P(yM),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(mh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(dh,{optional:!0}),this.eventsSubscription=new Ke,this.isNgZoneEnabled=P(He)instanceof He&&He.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof vr&&r.code!==Ot.Redirect&&r.code!==Ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jr)this.navigated=!0;else if(r instanceof Ds){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vM(i.source)};this.scheduleNavigation(s,gs,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SM(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),gs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let d=j({},i);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:s,v=null;switch(l){case"merge":v=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}v!==null&&(v=this.removeEmptyProps(v));let m;try{let D=i?i.snapshot:this.routerState.snapshot.root;m=B0(D)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),m=this.currentUrlTree.root}return U0(m,n,v,h??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=eo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,gs,null,r)}navigate(n,r={skipLocationChange:!1}){return EM(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},CM):r===!1?i=j({},_M):i=r,eo(n))return S0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return S0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let l,d,h;s?(l=s.resolve,d=s.reject,h=s.promise):h=new Promise((m,D)=>{l=m,d=D});let v=this.pendingTasks.add();return xM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function EM(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Y(4008,!1)}function SM(e){return!(e instanceof xs)&&!(e instanceof Ds)}var IM=new me("");function sb(e,...t){return Gr([{provide:mh,multi:!0,useValue:e},[],{provide:to,useFactory:MM,deps:[ob]},{provide:Gi,multi:!0,useFactory:TM},t.map(n=>n.\u0275providers)])}function MM(e){return e.routerState.root}function TM(){let e=P(qr);return t=>{let n=e.get(mr);if(t!==n.components[0])return;let r=e.get(ob),i=e.get(AM);e.get(NM)===1&&r.initialNavigation(),e.get(OM,null,ge.Optional)?.setUpPreloading(),e.get(IM,null,ge.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AM=new me("",{factory:()=>new gt}),NM=new me("",{providedIn:"root",factory:()=>1});var OM=new me("");var ab=[];var cb={providers:[sb(ab),E0()]};var qt=class{constructor(t,n,r,i,o,s,l,d,h,v,m,D,_){this.type=t,this.name=n,this.deleted=r,this.id=i,this.src=o,this.rotatable=!1,this.flippable=!1,this.center=s,this.locked=l,this.x=d,this.y=h,this.rotation=0,this.attachs=[],this.offsetX=v,this.offsetY=m,this.toolbar=D,this.selectionBoundingBox=_,this.style={top:"0",left:"0","transform-origin":""},this.styleData={top:0,left:0}}move(t,n,r=!0){this.x=r?Math.round(t):t,this.y=r?Math.round(n):n}setLocked(t){return this.locked=t}toggleLocked(){return this.locked=!this.locked}idNumberToKey(t){return`${String(t).padStart(2,"0")}`}};var _e=class extends qt{constructor(t,n,r,i,o=0,s=!0,l=!1,d=!1,h=!1){super("handconf",`Configura\xE7\xE3o de m\xE3o ${t}`,d,t,"",{top:"0",left:"0"},h,s?Math.round(n):n,s?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.handconfSpec=i.getHandconfSpec(),this.rotatable=!0,this.flippable=!0;let v=this.getCenterOffset();this.rotation=s?Math.round(o):o,this.styleData={top:0,left:0,flipped:l},this.style={top:"0px",left:"0px",transform:`rotation(0deg) scale(1) scaleX(${l?-1:1})`,"transform-origin":`${v.x}px ${v.y}px`},this.src=`../assets/params/handconf/${this.idNumberToKey(t)}.svg`,this.offsetX=v.x,this.offsetY=v.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.handconfSpec[t].max.left,y:-this.handconfSpec[t].max.top}}getMaxFootprint(){return this.handconfSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.handconfSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:4}setRotation(t,n=!0,r=!0){r&&(t=t%360),this.rotation=n?Math.round(t):t}setFlipped(t){this.styleData.flipped=t}toggleFlipped(){this.styleData.flipped=!this.styleData.flipped}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var ti=class extends qt{constructor(t,n,r,i,o=!0,s=!1,l=!1){super("location",`Loca\xE7\xE3o ${t}`,s,t,"",{top:"0",left:"0"},l,o?Math.round(n):n,o?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.locationSpec=i.getLocationSpec(),this.rotatable=!1,this.flippable=!1;let d=this.getCenterOffset();this.rotation=0,this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${d.x}px ${d.y}px`},this.src=`../assets/params/location/${this.idNumberToKey(t)}.svg`,this.offsetX=d.x,this.offsetY=d.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.locationSpec[t].max.left,y:-this.locationSpec[t].max.top}}getMaxFootprint(){return this.locationSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.locationSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:2}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var dt=class extends qt{constructor(t,n,r,i=!0,o=!1,s=!1){super("head","Cabe\xE7a",o,-1,"../assets/params/headCompiled.svg",{top:"0",left:"0"},s,i?Math.round(t):t,i?Math.round(n):n,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.headSpec=r.getHeadSpec(),this.attachSpec=r.getAttachSpec(),this.rotatable=!1,this.flippable=!1,this.rotation=0;let l=this.getCenterOffset();this.styleData={top:0,left:0},this.style={top:"0px",left:"0px","transform-origin":`${l.x}px ${l.y}px`},this.offsetX=l.x,this.offsetY=l.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=r,this.attachs=[]}addAttach(t){for(let n=0;n<this.attachs.length;n++)if(this.attachs[n].id===t)return!1;return this.attachs.push(this.createAttach(t)),!0}removeAttach(t){for(let n=0;n<this.attachs.length;n++)if(this.attachs[n].id===t)return this.attachs.splice(n,1),!0;return!1}getCenterOffset(){return{x:-this.headSpec.max.left,y:-this.headSpec.max.top}}getAttachCenterOffset(t){let n=this.idNumberToKey(t),r=this.attachSpec[n];return{x:-r.max.left,y:-r.max.top}}getMaxFootprint(){return this.headSpec.max}getMinFootprint(){return this.headSpec.min}toolbarItems(){return this.locked?1:3}getAttachMaxFootprint(t){let n=this.idNumberToKey(t);return this.attachSpec[n].max}getAttachMinFootprint(t){let n=this.idNumberToKey(t);return this.attachSpec[n].min}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}createAttach(t){let n=this.idNumberToKey(t),r=this.getAttachCenterOffset(t);return{id:t,src:`../assets/params/attach/${n}.svg`,offsetX:r.x,offsetY:r.y,style:{top:"0",left:"0","transform-origin":`${r.x}px ${r.y}px`}}}};var Ae=class extends qt{constructor(t,n,r,i,o=0,s=!0,l=!1,d=!1){super("movement",`Movimento ${t}`,l,t,"",{top:"0",left:"0"},d,s?Math.round(n):n,s?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.movementSpec=i.getMovementSpec(),this.id==1||this.id==2||this.id==3||this.id==4?this.rotatable=!1:this.rotatable=!0,this.id==1||this.id==2||this.id==3||this.id==4||this.id==5?this.flippable=!1:this.flippable=!0;let h=this.getCenterOffset();this.rotation=o,this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${h.x}px ${h.y}px`},this.src=`../assets/params/movement/${this.idNumberToKey(t)}.svg`,this.offsetX=h.x,this.offsetY=h.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.movementSpec[t].max.left,y:-this.movementSpec[t].max.top}}getMaxFootprint(){return this.movementSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.movementSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:2+Number(this.rotatable)+Number(this.flippable)}setRotation(t,n=!0,r=!0){r&&(t=t%360),this.rotation=n?Math.round(t):t}setFlipped(t){this.styleData.flipped=t}toggleFlipped(){this.styleData.flipped=!this.styleData.flipped}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var Zt=yx(lb());var yh={"01":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"02":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"03":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"04":{min:{left:-350,right:150,top:-150,bottom:150},max:{left:-450,right:250,top:-250,bottom:250}},"05":{min:{left:-275,right:150,top:-150,bottom:150},max:{left:-375,right:250,top:-250,bottom:250}},"06":{min:{left:-275,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-375,bottom:250}},"07":{min:{left:-450,right:150,top:-150,bottom:160},max:{left:-550,right:250,top:-250,bottom:260}},"08":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"09":{min:{left:-150,right:150,top:-180,bottom:65},max:{left:-250,right:250,top:-280,bottom:165}},"10":{min:{left:-150,right:150,top:-25,bottom:25},max:{left:-250,right:250,top:-125,bottom:125}},"11":{min:{left:50,right:150,top:-150,bottom:150},max:{left:-50,right:250,top:-250,bottom:250}},"12":{min:{left:-285,right:150,top:-415,bottom:150},max:{left:-385,right:250,top:-515,bottom:250}},"13":{min:{left:-295,right:165,top:-450,bottom:150},max:{left:-395,right:265,top:-550,bottom:250}},"14":{min:{left:110,right:175,top:-125,bottom:125},max:{left:60,right:225,top:-225,bottom:225}},"15":{min:{left:-350,right:150,top:-450,bottom:150},max:{left:-450,right:250,top:-550,bottom:250}},"16":{min:{left:-150,right:150,top:-150,bottom:150},max:{left:-250,right:250,top:-250,bottom:250}},"17":{min:{left:-250,right:150,top:-450,bottom:150},max:{left:-350,right:250,top:-550,bottom:250}},"18":{min:{left:-425,right:150,top:-180,bottom:150},max:{left:-525,right:250,top:-280,bottom:250}},"19":{min:{left:-385,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"20":{min:{left:-350,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"21":{min:{left:-410,right:150,top:-150,bottom:150},max:{left:-510,right:250,top:-250,bottom:250}},"22":{min:{left:-435,right:150,top:-250,bottom:150},max:{left:-535,right:250,top:-350,bottom:250}},"23":{min:{left:-400,right:150,top:-250,bottom:150},max:{left:-500,right:250,top:-350,bottom:250}},"24":{min:{left:-225,right:150,top:-300,bottom:150},max:{left:-325,right:250,top:-400,bottom:250}},"25":{min:{left:-150,right:150,top:-300,bottom:150},max:{left:-250,right:250,top:-400,bottom:250}},"26":{min:{left:-215,right:150,top:-415,bottom:150},max:{left:-315,right:250,top:-515,bottom:250}},"27":{min:{left:-150,right:150,top:-415,bottom:150},max:{left:-250,right:250,top:-515,bottom:250}},"28":{min:{left:-150,right:150,top:-400,bottom:150},max:{left:-250,right:250,top:-500,bottom:250}},"29":{min:{left:-300,right:150,top:-450,bottom:150},max:{left:-400,right:250,top:-550,bottom:250}},"30":{min:{left:-150,right:150,top:-400,bottom:150},max:{left:-250,right:250,top:-500,bottom:250}},"31":{min:{left:-225,right:150,top:-400,bottom:150},max:{left:-325,right:250,top:-500,bottom:250}},"32":{min:{left:-350,right:150,top:-400,bottom:150},max:{left:-450,right:250,top:-500,bottom:250}},"33":{min:{left:-450,right:150,top:-400,bottom:150},max:{left:-550,right:250,top:-500,bottom:250}},"34":{min:{left:-400,right:150,top:-400,bottom:150},max:{left:-500,right:250,top:-500,bottom:250}},"35":{min:{left:-450,right:150,top:-400,bottom:150},max:{left:-550,right:250,top:-500,bottom:250}},"36":{min:{left:-400,right:150,top:-150,bottom:150},max:{left:-500,right:250,top:-250,bottom:250}},"37":{min:{left:-400,right:150,top:150,bottom:150},max:{left:-500,right:250,top:-250,bottom:250}},"38":{min:{left:-450,right:150,top:-450,bottom:150},max:{left:-550,right:250,top:-550,bottom:250}},"39":{min:{left:-400,right:150,top:-435,bottom:150},max:{left:-500,right:250,top:-535,bottom:250}},"40":{min:{left:-400,right:150,top:-450,bottom:150},max:{left:-500,right:250,top:-550,bottom:250}},"41":{min:{left:-400,right:250,top:-435,bottom:150},max:{left:-500,right:250,top:-535,bottom:250}},"42":{min:{left:-330,right:150,top:-435,bottom:150},max:{left:-430,right:250,top:-535,bottom:250}},"43":{min:{left:-150,right:150,top:-150,bottom:450},max:{left:-250,right:250,top:-250,bottom:550}},"44":{min:{left:-300,right:150,top:-450,bottom:150},max:{left:-400,right:250,top:-550,bottom:250}},"45":{min:{left:-150,right:150,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"46":{min:{left:-150,right:150,top:-435,bottom:150},max:{left:-250,right:250,top:-535,bottom:250}},"47":{min:{left:-150,right:250,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"48":{min:{left:-165,right:150,top:-435,bottom:150},max:{left:-265,right:250,top:-535,bottom:250}},"49":{min:{left:-270,right:150,top:-435,bottom:150},max:{left:-370,right:250,top:-535,bottom:250}},"50":{min:{left:-150,right:150,top:-150,bottom:450},max:{left:-250,right:250,top:-250,bottom:550}},"51":{min:{left:-150,right:150,top:-450,bottom:150},max:{left:-250,right:250,top:-550,bottom:250}},"52":{min:{left:-150,right:150,top:-460,bottom:150},max:{left:-260,right:260,top:-550,bottom:250}},"53":{min:{left:-150,right:150,top:-300,bottom:100},max:{left:-250,right:250,top:-400,bottom:200}},"54":{min:{left:-180,right:150,top:-300,bottom:100},max:{left:-280,right:250,top:-400,bottom:200}},"55":{min:{left:-235,right:150,top:-300,bottom:100},max:{left:-335,right:250,top:-400,bottom:200}},"56":{min:{left:-235,right:150,top:-240,bottom:100},max:{left:-335,right:250,top:-350,bottom:200}},"57":{min:{left:-375,right:285,top:-450,bottom:150},max:{left:-475,right:385,top:-550,bottom:250}},"58":{min:{left:150,right:285,top:-450,bottom:150},max:{left:-260,right:385,top:-550,bottom:250}},"59":{min:{left:-250,right:285,top:-450,bottom:150},max:{left:-350,right:385,top:-550,bottom:250}},"60":{min:{left:-150,right:150,top:-115,bottom:35},max:{left:-250,right:250,top:-230,bottom:135}},"61":{min:{left:-45,right:150,top:-150,bottom:125},max:{left:-145,right:250,top:-250,bottom:225}},"62":{min:{left:-375,right:285,top:-450,bottom:150},max:{left:-475,right:385,top:-550,bottom:250}},"63":{min:{left:-450,right:210,top:-450,bottom:150},max:{left:-550,right:310,top:-550,bottom:250}},"64":{min:{left:-450,right:210,top:-450,bottom:150},max:{left:-550,right:310,top:-550,bottom:250}},"65":{min:{left:-385,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"66":{min:{left:-350,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"67":{min:{left:-410,right:210,top:-450,bottom:150},max:{left:-510,right:310,top:-550,bottom:250}},"68":{min:{left:-150,right:150,top:-285,bottom:150},max:{left:-250,right:250,top:-385,bottom:250}},"69":{min:{left:-150,right:150,top:-250,bottom:150},max:{left:-250,right:250,top:-350,bottom:250}},"70":{min:{left:-350,right:150,top:-250,bottom:150},max:{left:-450,right:250,top:-350,bottom:250}},"71":{min:{left:-275,right:255,top:-230,bottom:150},max:{left:-375,right:355,top:-330,bottom:250}},"72":{min:{left:-370,right:150,top:-365,bottom:150},max:{left:-470,right:250,top:-465,bottom:250}},"73":{min:{left:-195,right:225,top:-365,bottom:150},max:{left:-295,right:325,top:-465,bottom:250}},"74":{min:{left:-245,right:180,top:-450,bottom:150},max:{left:-370,right:280,top:-550,bottom:250}},"75":{min:{left:-245,right:215,top:-450,bottom:150},max:{left:-370,right:315,top:-550,bottom:250}},"76":{min:{left:-275,right:215,top:-450,bottom:150},max:{left:-400,right:315,top:-550,bottom:250}},"77":{min:{left:-285,right:215,top:-450,bottom:150},max:{left:-385,right:315,top:-550,bottom:250}},"78":{min:{left:-350,right:225,top:-450,bottom:150},max:{left:-450,right:325,top:-550,bottom:250}}};var ub={"01":{min:{left:-450,right:450,top:-450,bottom:450},max:{left:-550,right:550,top:-550,bottom:550}},"02":{min:{left:-450,right:450,top:-50,bottom:50},max:{left:-550,right:550,top:-150,bottom:150}},"03":{min:{left:-450,right:450,top:-50,bottom:50},max:{left:-550,right:550,top:-150,bottom:150}},"04":{min:{left:-240,right:265,top:-255,bottom:250},max:{left:-340,right:365,top:-355,bottom:375}},"05":{min:{left:-265,right:240,top:-255,bottom:250},max:{left:-365,right:340,top:-355,bottom:375}}};var io={"01":{min:{left:-85,right:85,top:-100,bottom:40},max:{left:-165,right:165,top:-185,bottom:110}},"02":{min:{left:440,right:630,top:-275,bottom:40},max:{left:340,right:730,top:-375,bottom:140}},"03":{min:{left:-630,right:-440,top:-275,bottom:40},max:{left:-730,right:-340,top:-375,bottom:140}},"04":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"05":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"06":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"07":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-305,bottom:-125}},"08":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-120}},"09":{min:{left:-250,right:250,top:-300,bottom:-150},max:{left:-350,right:350,top:-400,bottom:-50}},"10":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"11":{min:{left:-250,right:250,top:-250,bottom:-175},max:{left:-350,right:350,top:-300,bottom:-125}},"12":{min:{left:-250,right:250,top:-215,bottom:-210},max:{left:-350,right:350,top:-250,bottom:-175}},"13":{min:{left:200,right:300,top:-30,bottom:270},max:{left:100,right:400,top:-130,bottom:370}},"14":{min:{left:-300,right:-200,top:-30,bottom:270},max:{left:-400,right:-100,top:-130,bottom:370}},"15":{min:{left:-215,right:215,top:-270,bottom:-170},max:{left:-315,right:315,top:-370,bottom:130}},"16":{min:{left:-250,right:250,top:-340,bottom:-305},max:{left:-350,right:350,top:-380,bottom:-265}},"17":{min:{left:-215,right:215,top:-270,bottom:-170},max:{left:-315,right:315,top:-370,bottom:-70}},"18":{min:{left:-165,right:165,top:200,bottom:310},max:{left:-265,right:265,top:100,bottom:410}},"19":{min:{left:-100,right:100,top:235,bottom:240},max:{left:-200,right:200,top:200,bottom:275}},"20":{min:{left:-200,right:200,top:110,bottom:260},max:{left:-300,right:300,top:10,bottom:360}},"21":{min:{left:-200,right:200,top:110,bottom:260},max:{left:-300,right:300,top:10,bottom:360}},"22":{min:{left:-50,right:50,top:50,bottom:350},max:{left:-150,right:150,top:-50,bottom:450}},"23":{min:{left:-100,right:100,top:250,bottom:290},max:{left:-200,right:200,top:200,bottom:340}},"24":{min:{left:-10,right:10,top:95,bottom:230},max:{left:-60,right:60,top:-5,bottom:330}},"25":{min:{left:-400,right:400,top:440,bottom:950},max:{left:-500,right:500,top:340,bottom:1050}}};var Ts={min:{left:-450,right:450,top:-450,bottom:450},max:{left:-550,right:550,top:-550,bottom:550}};var bh={"01":{min:{left:-15,right:15,top:-15,bottom:15},max:{left:-35,right:35,top:-35,bottom:35}},"02":{min:{left:-65,right:65,top:-15,bottom:15},max:{left:-85,right:85,top:-35,bottom:35}},"03":{min:{left:-115,right:115,top:-40,bottom:40},max:{left:-135,right:135,top:-60,bottom:60}},"04":{min:{left:-25,right:25,top:-35,bottom:35},max:{left:-65,right:65,top:-65,bottom:65}},"05":{min:{left:-90,right:90,top:-10,bottom:10},max:{left:-160,right:160,top:-70,bottom:70}},"06":{min:{left:50,right:250,top:-35,bottom:35},max:{left:-50,right:350,top:-135,bottom:135}},"07":{min:{left:50,right:250,top:-35,bottom:35},max:{left:-50,right:350,top:-135,bottom:135}},"08":{min:{left:-175,right:35,top:50,bottom:250},max:{left:-275,right:135,top:-50,bottom:350}},"09":{min:{left:-35,right:175,top:50,bottom:250},max:{left:-135,right:275,top:-50,bottom:350}},"10":{min:{left:-175,right:35,top:50,bottom:250},max:{left:-275,right:135,top:-150,bottom:350}},"11":{min:{left:-35,right:175,top:50,bottom:250},max:{left:-135,right:275,top:-150,bottom:350}},"12":{min:{left:50,right:325,top:-35,bottom:35},max:{left:-50,right:425,top:-135,bottom:135}},"13":{min:{left:-90,right:90,top:-95,bottom:230},max:{left:-190,right:190,top:-195,bottom:330}},"14":{min:{left:-220,right:210,top:-250,bottom:-125},max:{left:-320,right:310,top:-350,bottom:-25}},"15":{min:{left:-210,right:220,top:-250,bottom:-125},max:{left:-310,right:320,top:-350,bottom:-25}},"16":{min:{left:-220,right:180,top:-215,bottom:-125},max:{left:-320,right:280,top:-315,bottom:-25}},"17":{min:{left:-180,right:220,top:-215,bottom:-125},max:{left:-280,right:320,top:-315,bottom:-25}},"18":{min:{left:-230,right:290,top:-130,bottom:50},max:{left:-330,right:390,top:-230,bottom:150}},"19":{min:{left:-220,right:305,top:-45,bottom:25},max:{left:-320,right:405,top:-145,bottom:125}},"20":{min:{left:-230,right:305,top:-25,bottom:25},max:{left:-320,right:405,top:-125,bottom:125}},"21":{min:{left:-300,right:300,top:-115,bottom:55},max:{left:-400,right:400,top:-215,bottom:155}},"22":{min:{left:-225,right:265,top:-225,bottom:225},max:{left:-325,right:365,top:-325,bottom:325}},"23":{min:{left:-200,right:200,top:-75,bottom:150},max:{left:-300,right:300,top:-175,bottom:250}},"24":{min:{left:-200,right:205,top:-185,bottom:130},max:{left:-300,right:335,top:-285,bottom:230}},"25":{min:{left:-150,right:230,top:-50,bottom:55},max:{left:-250,right:330,top:-150,bottom:155}},"26":{min:{left:-240,right:160,top:-150,bottom:40},max:{left:-340,right:260,top:-250,bottom:140}}};var wh={"01":{min:{left:-75,right:75,top:-5,bottom:5},max:{left:-125,right:125,top:-40,bottom:40}},"02":{min:{left:-35,right:35,top:-70,bottom:70},max:{left:-85,right:85,top:-120,bottom:120}}};var il=class extends qt{constructor(t,n,r,i,o=!0,s=!1,l=!1){super("plane",`Plano ${t}`,s,t,"",{top:"0",left:"0"},l,o?Math.round(n):n,o?Math.round(r):r,0,0,{top:"0",left:"0",width:"0"},{width:"0",height:"0",top:"0",left:"0","transform-origin":"0",transform:""}),this.planeSpec=i.getPlaneSpec(),this.rotatable=!1,this.flippable=!1;let d=this.getCenterOffset();this.styleData={top:0,left:0},this.style={top:"0px",left:"0px",transform:"scale(1)","transform-origin":`${d.x}px ${d.y}px`},this.src=`../assets/params/plane/${this.idNumberToKey(t)}.svg`,this.offsetX=d.x,this.offsetY=d.y,this.selectionBoundingBox=this.createSelectionBoundingBox(),this.graphemesService=i}getCenterOffset(){let t=this.idNumberToKey(this.id);return{x:-this.planeSpec[t].max.left,y:-this.planeSpec[t].max.top}}getMaxFootprint(){return this.planeSpec[this.idNumberToKey(this.id)].max}getMinFootprint(){return this.planeSpec[this.idNumberToKey(this.id)].min}toolbarItems(){return this.locked?1:2}createSelectionBoundingBox(){let t=this.getCenterOffset(),n=this.getMaxFootprint(),r=n.right-n.left,i=n.bottom-n.top;return{width:`${r}px`,height:`${i}px`,top:"0",left:"0","transform-origin":`${t.x}px ${t.y}px`,transform:""}}};var oo=(()=>{class e{constructor(){this.graphemes=[],this.locationAddList=[{type:"location",attachs:[],id:1,icon:"../assets/params/precomposed/location/01.svg"},{type:"head",attachs:[],id:-1,icon:"../assets/params/precomposed/location/02.svg"},{type:"head",attachs:[1],id:-1,icon:"../assets/params/precomposed/location/03.svg"},{type:"head",attachs:[2,3],id:-1,icon:"../assets/params/precomposed/location/04.svg"},{type:"head",attachs:[2],id:-1,icon:"../assets/params/precomposed/location/05.svg"},{type:"head",attachs:[3],id:-1,icon:"../assets/params/precomposed/location/06.svg"},{type:"head",attachs:[4],id:-1,icon:"../assets/params/precomposed/location/07.svg"},{type:"head",attachs:[16],id:-1,icon:"../assets/params/precomposed/location/08.svg"},{type:"head",attachs:[18],id:-1,icon:"../assets/params/precomposed/location/09.svg"},{type:"head",attachs:[19],id:-1,icon:"../assets/params/precomposed/location/10.svg"},{type:"head",attachs:[23],id:-1,icon:"../assets/params/precomposed/location/11.svg"},{type:"location",attachs:[],id:2,icon:"../assets/params/precomposed/location/12.svg"},{type:"location",attachs:[],id:3,icon:"../assets/params/precomposed/location/13.svg"},{type:"location",attachs:[],id:4,icon:"../assets/params/precomposed/location/14.svg"},{type:"location",attachs:[],id:5,icon:"../assets/params/precomposed/location/15.svg"},{type:"head",attachs:[25],id:-1,icon:"../assets/params/precomposed/location/16.svg"}],this.faceexpAddList=[{attachs:[19],icon:"../assets/params/precomposed/faceexp/01.svg"},{attachs:[4],icon:"../assets/params/precomposed/faceexp/02.svg"},{attachs:[5],icon:"../assets/params/precomposed/faceexp/03.svg"},{attachs:[6],icon:"../assets/params/precomposed/faceexp/04.svg"},{attachs:[7],icon:"../assets/params/precomposed/faceexp/05.svg"},{attachs:[8],icon:"../assets/params/precomposed/faceexp/06.svg"},{attachs:[9],icon:"../assets/params/precomposed/faceexp/07.svg"},{attachs:[10],icon:"../assets/params/precomposed/faceexp/08.svg"},{attachs:[11],icon:"../assets/params/precomposed/faceexp/09.svg"},{attachs:[12],icon:"../assets/params/precomposed/faceexp/10.svg"},{attachs:[13,14],icon:"../assets/params/precomposed/faceexp/11.svg"},{attachs:[13],icon:"../assets/params/precomposed/faceexp/12.svg"},{attachs:[14],icon:"../assets/params/precomposed/faceexp/13.svg"},{attachs:[15],icon:"../assets/params/precomposed/faceexp/14.svg"},{attachs:[17],icon:"../assets/params/precomposed/faceexp/15.svg"},{attachs:[20],icon:"../assets/params/precomposed/faceexp/16.svg"},{attachs:[21],icon:"../assets/params/precomposed/faceexp/17.svg"},{attachs:[22],icon:"../assets/params/precomposed/faceexp/18.svg"},{attachs:[23],icon:"../assets/params/precomposed/faceexp/19.svg"},{attachs:[24],icon:"../assets/params/precomposed/faceexp/20.svg"}]}getHandconfSpec(){return yh}getLocationSpec(){return ub}getHeadSpec(){return Ts}getAttachSpec(){return io}getMovementSpec(){return bh}getPlaneSpec(){return wh}addHandconfGrapheme(n,r=0,i=0,o=0,s=!1,l=!0){this.graphemes.push(new _e(n,l?Math.round(r):r,l?Math.round(i):i,this,l?Math.round(o):o,s))}addLocationGrapheme(n,r=0,i=0,o=!0){this.graphemes.push(new ti(n,o?Math.round(r):r,o?Math.round(i):i,this))}addHeadGrapheme(n,r,i=!0){this.graphemes.push(new dt(n,r,this))}addMovementGrapheme(n,r=0,i=0,o=0,s=!0){this.graphemes.push(new Ae(n,r,i,this,o))}addPlaneGrapheme(n,r=0,i=0,o=!0){this.graphemes.push(new il(n,r,i,this))}deleteGrapheme(n){this.graphemes[n].deleted=!0}getHandconfGraphemes(){return Object.keys(yh).map(i=>({id:parseInt(i),src:`../assets/params/handconf/${i}.svg`})).sort((i,o)=>i.id-o.id)}getAttachs(){return Object.keys(io).map(i=>({id:parseInt(i),src:`../assets/params/precomposed/attach/${i}.svg`})).sort((i,o)=>i.id-o.id)}getMovementGraphemes(){return Object.keys(bh).map(i=>({id:parseInt(i),src:`../assets/params/movement/${i}.svg`})).sort((i,o)=>i.id-o.id)}getPlaneGraphemes(){return Object.keys(wh).map(i=>({id:parseInt(i),src:`../assets/params/plane/${i}.svg`})).sort((i,o)=>i.id-o.id)}calculateRotatedGraphemeFootprint(n){if(n instanceof _e||n instanceof Ae){let r=n.rotation,i=n.styleData.flipped,o=n.getMaxFootprint(),s={minX:i?-o.right:o.left,minY:o.top,maxX:i?-o.left:o.right,maxY:o.bottom},l=Math.cos(r*Math.PI/180),d=Math.sin(r*Math.PI/180),h=[{x:s.minX*l-s.minY*d,y:s.minX*d+s.minY*l},{x:s.maxX*l-s.minY*d,y:s.maxX*d+s.minY*l},{x:s.minX*l-s.maxY*d,y:s.minX*d+s.maxY*l},{x:s.maxX*l-s.maxY*d,y:s.maxX*d+s.maxY*l}];return{minX:Math.min(h[0].x,h[1].x,h[2].x,h[3].x),minY:Math.min(h[0].y,h[1].y,h[2].y,h[3].y),maxX:Math.max(h[0].x,h[1].x,h[2].x,h[3].x),maxY:Math.max(h[0].y,h[1].y,h[2].y,h[3].y)}}else{let r=n.getMaxFootprint();return{minX:r.left,minY:r.top,maxX:r.right,maxY:r.bottom}}}calculateRotatedGraphemeCorners(n){let r=n instanceof _e||n instanceof Ae?n.rotation:0,i=n instanceof _e?n.styleData.flipped:!1,o=n.getMaxFootprint(),s={minX:i?-o.right:o.left,minY:o.top,maxX:i?-o.left:o.right,maxY:o.bottom},l=Math.cos(r*Math.PI/180),d=Math.sin(r*Math.PI/180);return{topLeft:{x:n.x+s.minX*l-s.minY*d,y:n.y+s.minX*d+s.minY*l},topRight:{x:n.x+s.maxX*l-s.minY*d,y:n.y+s.maxX*d+s.minY*l},bottomLeft:{x:n.x+s.minX*l-s.maxY*d,y:n.y+s.minX*d+s.maxY*l},bottomRight:{x:n.x+s.maxX*l-s.maxY*d,y:n.y+s.maxX*d+s.maxY*l}}}calculateRotatedGraphemeFootprintOnCanas(n){if(n instanceof dt){let r=j({},n.getMaxFootprint());return r.left+=n.x,r.right+=n.x,r.top+=n.y,r.bottom+=n.y,n.attachs.forEach(i=>{if(i.id===2){let o=Math.abs(io[n.idNumberToKey(2)].max.right-Ts.max.right);r.right+=o}else if(i.id===3){let o=Math.abs(io[n.idNumberToKey(3)].max.left-Ts.max.left);r.left-=o}else if(i.id===25){let o=Math.abs(io[n.idNumberToKey(25)].max.bottom-Ts.max.bottom);r.bottom+=o}}),{minX:r.left,minY:r.top,maxX:r.right,maxY:r.bottom}}else{let r=this.calculateRotatedGraphemeCorners(n);return{minX:Math.min(r.topLeft.x,r.topRight.x,r.bottomLeft.x,r.bottomRight.x),minY:Math.min(r.topLeft.y,r.topRight.y,r.bottomLeft.y,r.bottomRight.y),maxX:Math.max(r.topLeft.x,r.topRight.x,r.bottomLeft.x,r.bottomRight.x),maxY:Math.max(r.topLeft.y,r.topRight.y,r.bottomLeft.y,r.bottomRight.y)}}}calculateRotatedGraphemeCenter(n){let r=this.calculateRotatedGraphemeFootprint(n);return{x:(r.minX+r.maxX)/2,y:(r.minY+r.maxY)/2}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function VM(e,t){if(e&1){let n=dn();V(0,"div",3)(1,"div",4)(2,"button",5),nt("click",function(){let i=Ye(n).$implicit,o=$();return Xe(o.onAdd(i.id,o.type))}),ie(3,"img",6),W()()()}if(e&2){let n=t.$implicit;q(3),xn("src",n.src,dr)}}var ol=(()=>{class e{constructor(n){this.graphemesService=n,this.width="250px",this.height="750px",this.graphemes=[],this.menuStyle={width:"auto",height:"auto"}}ngOnInit(){if(this.type==="handconf")this.graphemes=this.graphemesService.getHandconfGraphemes();else if(this.type==="faceexp")this.graphemesService.faceexpAddList.forEach((n,r)=>{this.graphemes.push({id:r,src:n.icon})});else if(this.type==="location")this.graphemesService.locationAddList.forEach((n,r)=>{this.graphemes.push({id:r,src:n.icon})});else if(this.type==="attach")this.graphemes=this.graphemesService.getAttachs();else if(this.type==="movement")this.graphemes=this.graphemesService.getMovementGraphemes();else if(this.type==="plane")this.graphemes=this.graphemesService.getPlaneGraphemes();else throw new Error("Invalid add menu type");this.menuStyle={width:`${this.width}`,height:`calc(${this.height} - 1rem)`}}static{this.\u0275fac=function(r){return new(r||e)(Ve(oo))}}static{this.\u0275cmp=cr({type:e,selectors:[["app-add-menu"]],inputs:{type:"type",width:"width",height:"height",onAdd:"onAdd"},standalone:!0,features:[pr],decls:3,vars:2,consts:[[1,"add-menu-container",3,"ngStyle"],[1,"add-menu"],["class","add-menu-item",4,"ngFor","ngForOf"],[1,"add-menu-item"],[1,"add-menu-button-container"],[3,"click"],[1,"add-menu-item-icon","uninteractive",3,"src"]],template:function(r,i){r&1&&(V(0,"div",0)(1,"div",1),Te(2,VM,4,1,"div",2),W()()),r&2&&(Q("ngStyle",i.menuStyle),q(2),Q("ngForOf",i.graphemes))},dependencies:[Kr,qi,Yi],styles:[".add-menu[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.5rem;padding:.5rem;background-color:#fff;overflow-y:auto;scrollbar-width:thin;width:calc(100% - 1rem);max-height:100%;border-radius:.25rem;box-shadow:#0003 0 3px 1px -2px,#00000024 0 2px 2px,#0000001f 0 1px 5px}.add-menu-item[_ngcontent-%COMP%]{width:100%;height:0;padding-top:100%;position:relative}.add-menu-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:.25rem;left:.25rem;width:calc(100% - .5rem);height:calc(100% - .5rem)}.add-menu-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-color:transparent;border:2px solid #202020;border-radius:1rem}.add-menu-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{border:2px solid #555555}"]})}}return e})();var $M=["addTypeMenu"];function BM(e,t){if(e&1&&ie(0,"app-add-menu",9),e&2){let n=$().$implicit,r=$();Q("onAdd",r.onAdd)("width",r.addMenuWidth+"px")("height",r.addMenuHeight+"px")("type",n.addType)("ngStyle",r.addMenuStyle)}}function UM(e,t){if(e&1){let n=dn();V(0,"div",3),nt("mouseover",function(i){let o=Ye(n).$implicit,s=$();return Xe(s.mouseOverHandler(i,o.addType))})("mouseleave",function(i){Ye(n);let o=$();return Xe(o.mouseOverHandler(i,""))})("click",function(i){let o=Ye(n).$implicit,s=$();return Xe(s.clickHandler(i,o.addType))}),ie(1,"img",4),V(2,"div",5),Bn(3),W(),ie(4,"img",6),V(5,"div",7),Te(6,BM,1,5,"app-add-menu",8),W()()}if(e&2){let n=t.$implicit,r=$();q(),Q("src",n.iconSrc,dr),q(2),os(" ",n.name," "),q(3),Q("ngIf",n.addType===r.addType)}}var db=(()=>{class e{constructor(n,r){this.cdr=n,this.renderer2=r,this.height="750px",this.width="250px",this.addType="",this.addTypeMenuStyle={width:"auto"},this.addMenuStyle={top:"auto",left:"auto",right:"auto"},this.addMenuWidth=250,this.addMenuHeight=750,this.types=[{name:"Loca\xE7\xE3o",addType:"location",iconSrc:"../assets/params/location/02.svg"},{name:"Configura\xE7\xE3o de M\xE3o",addType:"handconf",iconSrc:"../assets/params/handconf/13.svg"},{name:"Movimento",addType:"movement",iconSrc:"../assets/params/movement/07.svg"},{name:"Plano",addType:"plane",iconSrc:"../assets/params/plane/02.svg"},{name:"Express\xE3o Facial",addType:"faceexp",iconSrc:"../assets/params/precomposed/faceexp/02.svg"}],this.previousAddType="",this.mouseOverTimeout=-1}ngOnInit(){this.addTypeMenuStyle.width=this.width}setSubMenu(n){let r=this.types.findIndex(o=>o.addType===n);this.addType=n,this.previousAddType=n,r===0?this.addMenuStyle.top="-1rem":this.addMenuStyle.top="-1.25rem";let i=this.addTypeMenu.nativeElement.getBoundingClientRect();i.right+this.addMenuWidth<=window.innerWidth?(this.addMenuStyle.right="auto",this.addMenuStyle.left=`${i.width}px`):i.left-this.addMenuWidth>0?(this.addMenuStyle.right="0",this.addMenuStyle.left="auto"):(this.addMenuStyle.right=`${i.left-window.innerWidth}px`,this.addMenuStyle.left="auto"),this.cdr.detectChanges()}clickHandler(n,r){let i=n.target.closest(".add-type-item").getBoundingClientRect().top;this.addMenuHeight=window.innerHeight-i,this.setSubMenu(r)}mouseOverHandler(n,r){let i=n.target.closest(".add-type-item").getBoundingClientRect().top;this.addMenuHeight=window.innerHeight-i,this.mouseOverTimeout!==-1&&clearTimeout(this.mouseOverTimeout),this.previousAddType!==r&&r!==""&&(this.mouseOverTimeout=window.setTimeout(()=>this.setSubMenu(r),50))}static{this.\u0275fac=function(r){return new(r||e)(Ve(Un),Ve($n))}}static{this.\u0275cmp=cr({type:e,selectors:[["app-add-type"]],viewQuery:function(r,i){if(r&1&&fn($M,5),r&2){let o;zt(o=Gt())&&(i.addTypeMenu=o.first)}},inputs:{height:"height",width:"width",onAdd:"onAdd"},standalone:!0,features:[pr],decls:3,vars:2,consts:[["addTypeMenu",""],[1,"add-type-menu","uninteractive",3,"ngStyle"],["class","add-type-item",3,"mouseover","mouseleave","click",4,"ngFor","ngForOf"],[1,"add-type-item",3,"mouseover","mouseleave","click"],[1,"add-type-item-icon",3,"src"],[1,"add-type-item-text"],["src","../../../assets/caret-forward-outline.svg",1,"add-type-forward"],[2,"position","absolute"],["class","add-menu",3,"onAdd","width","height","type","ngStyle",4,"ngIf"],[1,"add-menu",3,"onAdd","width","height","type","ngStyle"]],template:function(r,i){r&1&&(V(0,"div",1,0),Te(2,UM,7,3,"div",2),W()),r&2&&(Q("ngStyle",i.addTypeMenuStyle),q(2),Q("ngForOf",i.types))},dependencies:[Kr,qi,Fc,Yi,ol],styles:[".add-type-menu[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#fff;border-radius:.25rem;box-shadow:#0003 0 3px 1px -2px,#00000024 0 2px 2px,#0000001f 0 1px 5px}.add-type-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding-bottom:.25rem;padding-top:.25rem;border-bottom:1px solid #e0e0e0}.add-type-item[_ngcontent-%COMP%]:first-child{padding-top:0}.add-type-item[_ngcontent-%COMP%]:last-child{border-bottom:none;padding-bottom:0}.add-type-item-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.add-type-forward[_ngcontent-%COMP%]{width:1.25rem;height:2rem}.add-type-item-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;font-family:sans-serif;font-weight:700;width:calc(100% - 3.75rem);height:100%}.add-menu[_ngcontent-%COMP%]{position:absolute}"]})}}return e})();var fb=(()=>{class e{constructor(){this.undoStack=[],this.redoStack=[]}push(n){n.length>0&&(this.undoStack.push(n),this.redoStack=[])}undo(){let n=this.undoStack.pop();return n&&this.redoStack.push(n),n}redo(){let n=this.redoStack.pop();return n&&this.undoStack.push(n),n}clear(){this.undoStack=[],this.redoStack=[]}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Dh={},hb=[];function F(e,t){if(Array.isArray(e)){for(let n of e)F(n,t);return}if(typeof e=="object"){for(let n in e)F(n,e[n]);return}Ch(Object.getOwnPropertyNames(t)),Dh[e]=Object.assign(Dh[e]||{},t)}function bt(e){return Dh[e]||{}}function pb(){return[...new Set(hb)]}function Ch(e){hb.push(...e)}function so(e,t){let n,r=e.length,i=[];for(n=0;n<r;n++)i.push(t(e[n]));return i}function mb(e,t){let n,r=e.length,i=[];for(n=0;n<r;n++)t(e[n])&&i.push(e[n]);return i}function sl(e){return e%360*Math.PI/180}function gb(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function _h(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Yt(e,t,n,r){return(t==null||n==null)&&(r=r||e.bbox(),t==null?t=r.width/r.height*n:n==null&&(n=r.height/r.width*t)),{width:t,height:n}}function As(e,t){let n=e.origin,r=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",i=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);let o=typeof r=="string",s=typeof i=="string";if(o||s){let{height:l,width:d,x:h,y:v}=t.bbox();o&&(r=r.includes("left")?h:r.includes("right")?h+d:h+d/2),s&&(i=i.includes("top")?v:i.includes("bottom")?v+l:v+l/2)}return[r,i]}var zM=new Set(["desc","metadata","title"]),Ns=e=>zM.has(e.nodeName),al=(e,t,n={})=>{let r=j({},t);for(let i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?e.node.setAttribute("data-svgjs",JSON.stringify(r)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))};var ao="http://www.w3.org/2000/svg",vb="http://www.w3.org/1999/xhtml",cl="http://www.w3.org/2000/xmlns/",_n="http://www.w3.org/1999/xlink";var Z={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Eh(){return Z.window}var ri=class{};var ii={},ll="___SYMBOL___ROOT___";function oi(e,t=ao){return Z.document.createElementNS(t,e)}function Ge(e,t=!1){if(e instanceof ri)return e;if(typeof e=="object")return Sh(e);if(e==null)return new ii[ll];if(typeof e=="string"&&e.charAt(0)!=="<")return Sh(Z.document.querySelector(e));let n=t?Z.document.createElement("div"):oi("svg");return n.innerHTML=e,e=Sh(n.firstChild),n.removeChild(n.firstChild),e}function K(e,t){return t&&(t instanceof Z.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:oi(e)}function ft(e){if(!e)return null;if(e.instance instanceof ri)return e.instance;if(e.nodeName==="#document-fragment")return new ii.Fragment(e);let t=_h(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ii[t]||(t="Dom"),new ii[t](e)}var Sh=ft;function B(e,t=e.name,n=!1){return ii[t]=e,n&&(ii[ll]=e),Ch(Object.getOwnPropertyNames(e.prototype)),e}function yb(e){return ii[e]}var qM=1e3;function Ih(e){return"Svgjs"+_h(e)+qM++}function Mh(e){for(let t=e.children.length-1;t>=0;t--)Mh(e.children[t]);return e.id&&(e.id=Ih(e.nodeName)),e}function z(e,t){let n,r;for(e=Array.isArray(e)?e:[e],r=e.length-1;r>=0;r--)for(n in t)e[r].prototype[n]=t[n]}function re(e){return function(...t){let n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function YM(){return this.parent().children()}function XM(){return this.parent().index(this)}function KM(){return this.siblings()[this.position()+1]}function QM(){return this.siblings()[this.position()-1]}function ZM(){let e=this.position();return this.parent().add(this.remove(),e+1),this}function JM(){let e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function eT(){return this.parent().add(this.remove()),this}function tT(){return this.parent().add(this.remove(),0),this}function nT(e){e=Ge(e),e.remove();let t=this.position();return this.parent().add(e,t),this}function rT(e){e=Ge(e),e.remove();let t=this.position();return this.parent().add(e,t+1),this}function iT(e){return e=Ge(e),e.before(this),this}function oT(e){return e=Ge(e),e.after(this),this}F("Dom",{siblings:YM,position:XM,next:KM,prev:QM,forward:ZM,backward:JM,front:eT,back:tT,before:nT,after:rT,insertBefore:iT,insertAfter:oT});var ul=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,bb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,wb=/rgb\((\d+),(\d+),(\d+)\)/,xb=/(#[a-z_][a-z0-9\-_]*)/i,Db=/\)\s*,?\s*/,Cb=/\s/g,Th=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Ah=/^rgb\(/,Nh=/^(\s+)?$/,Oh=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_b=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,st=/[\s,]+/,Os=/[MLHVCSQTAZ]/i;function aT(){let e=this.attr("class");return e==null?[]:e.trim().split(st)}function cT(e){return this.classes().indexOf(e)!==-1}function lT(e){if(!this.hasClass(e)){let t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function uT(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function dT(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}F("Dom",{classes:aT,hasClass:cT,addClass:lT,removeClass:uT,toggleClass:dT});function fT(e,t){let n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){let i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(let r of e){let i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(let r in e)this.node.style.setProperty(r,e[r]==null||Nh.test(e[r])?"":e[r])}return arguments.length===2&&this.node.style.setProperty(e,t==null||Nh.test(t)?"":t),this}function hT(){return this.css("display","")}function pT(){return this.css("display","none")}function mT(){return this.css("display")!=="none"}F("Dom",{css:fT,show:hT,hide:pT,visible:mT});function gT(e,t,n){if(e==null)return this.data(so(mb(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(e instanceof Array){let r={};for(let i of e)r[i]=this.data(i);return r}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}F("Dom",{data:gT});function vT(e,t){if(typeof arguments[0]=="object")for(let n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function yT(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function bT(){return this._memory=this._memory||{}}F("Dom",{remember:vT,forget:yT,memory:bT});function wT(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function xT(e){let t=Math.round(e),r=Math.max(0,Math.min(255,t)).toString(16);return r.length===1?"0"+r:r}function co(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function DT(e,t){let n=co(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:co(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:co(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:co(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:co(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:co(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function CT(e){return e==="lab"||e==="xyz"||e==="lch"}function kh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var at=class e{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof e||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){let{random:r,round:i,sin:o,PI:s}=Math;if(t==="vibrant"){let l=24*r()+57,d=38*r()+45,h=360*r();return new e(l,d,h,"lch")}else if(t==="sine"){n=n??r();let l=i(80*o(2*s*n/.5+.01)+150),d=i(50*o(2*s*n/.5+4.6)+200),h=i(100*o(2*s*n/.5+2.3)+150);return new e(l,d,h)}else if(t==="pastel"){let l=8*r()+86,d=17*r()+9,h=360*r();return new e(l,d,h,"lch")}else if(t==="dark"){let l=10+10*r(),d=50*r()+86,h=360*r();return new e(l,d,h,"lch")}else if(t==="rgb"){let l=255*r(),d=255*r(),h=255*r();return new e(l,d,h)}else if(t==="lab"){let l=100*r(),d=256*r()-128,h=256*r()-128;return new e(l,d,h,"lab")}else if(t==="grey"){let l=255*r();return new e(l,l,l)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(Th.test(t)||Ah.test(t))}cmyk(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(D=>D/255),l=Math.min(1-i,1-o,1-s);if(l===1)return new e(0,0,0,1,"cmyk");let d=(1-i-l)/(1-l),h=(1-o-l)/(1-l),v=(1-s-l)/(1-l);return new e(d,h,v,l,"cmyk")}hsl(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(T=>T/255),l=Math.max(i,o,s),d=Math.min(i,o,s),h=(l+d)/2,v=l===d,m=l-d,D=v?0:h>.5?m/(2-l-d):m/(l+d),_=v?0:l===i?((o-s)/m+(o<s?6:0))/6:l===o?((s-i)/m+2)/6:l===s?((i-o)/m+4)/6:0;return new e(360*_,100*D,100*h,"hsl")}init(t=0,n=0,r=0,i=0,o="rgb"){if(t=t||0,this.space)for(let m in this.space)delete this[this.space[m]];if(typeof t=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:t,_b:n,_c:r,_d:i,space:o});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){let m=DT(t,n);Object.assign(this,m)}else if(typeof t=="string")if(Ah.test(t)){let m=t.replace(Cb,""),[D,_,S]=wb.exec(m).slice(1,4).map(T=>parseInt(T));Object.assign(this,{_a:D,_b:_,_c:S,_d:0,space:"rgb"})}else if(Th.test(t)){let m=T=>parseInt(T,16),[,D,_,S]=bb.exec(wT(t)).map(m);Object.assign(this,{_a:D,_b:_,_c:S,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:s,_b:l,_c:d,_d:h}=this,v=this.space==="rgb"?{r:s,g:l,b:d}:this.space==="xyz"?{x:s,y:l,z:d}:this.space==="hsl"?{h:s,s:l,l:d}:this.space==="lab"?{l:s,a:l,b:d}:this.space==="lch"?{l:s,c:l,h:d}:this.space==="cmyk"?{c:s,m:l,y:d,k:h}:{};Object.assign(this,v)}lab(){let{x:t,y:n,z:r}=this.xyz(),i=116*n-16,o=500*(t-n),s=200*(n-r);return new e(i,o,s,"lab")}lch(){let{l:t,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2),o=180*Math.atan2(r,n)/Math.PI;return o<0&&(o*=-1,o=360-o),new e(t,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if(CT(this.space)){let{x:t,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:_,a:S,b:T}=this;if(this.space==="lch"){let{c:Se,h:Je}=this,ht=Math.PI/180;S=Se*Math.cos(ht*Je),T=Se*Math.sin(ht*Je)}let k=(_+16)/116,R=S/500+k,fe=k-T/200,pe=16/116,Oe=.008856,I=7.787;t=.95047*(R**3>Oe?R**3:(R-pe)/I),n=1*(k**3>Oe?k**3:(k-pe)/I),r=1.08883*(fe**3>Oe?fe**3:(fe-pe)/I)}let i=t*3.2406+n*-1.5372+r*-.4986,o=t*-.9689+n*1.8758+r*.0415,s=t*.0557+n*-.204+r*1.057,l=Math.pow,d=.0031308,h=i>d?1.055*l(i,1/2.4)-.055:12.92*i,v=o>d?1.055*l(o,1/2.4)-.055:12.92*o,m=s>d?1.055*l(s,1/2.4)-.055:12.92*s;return new e(255*h,255*v,255*m)}else if(this.space==="hsl"){let{h:t,s:n,l:r}=this;if(t/=360,n/=100,r/=100,n===0)return r*=255,new e(r,r,r);let i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=255*kh(o,i,t+1/3),l=255*kh(o,i,t),d=255*kh(o,i,t-1/3);return new e(s,l,d)}else if(this.space==="cmyk"){let{c:t,m:n,y:r,k:i}=this,o=255*(1-Math.min(1,t*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i)),l=255*(1-Math.min(1,r*(1-i)+i));return new e(o,s,l)}else return this}toArray(){let{_a:t,_b:n,_c:r,_d:i,space:o}=this;return[t,n,r,i,o]}toHex(){let[t,n,r]=this._clamped().map(xT);return`#${t}${n}${r}`}toRgb(){let[t,n,r]=this._clamped();return`rgb(${t},${n},${r})`}toString(){return this.toHex()}xyz(){let{_a:t,_b:n,_c:r}=this.rgb(),[i,o,s]=[t,n,r].map(R=>R/255),l=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,d=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,v=(l*.4124+d*.3576+h*.1805)/.95047,m=(l*.2126+d*.7152+h*.0722)/1,D=(l*.0193+d*.1192+h*.9505)/1.08883,_=v>.008856?Math.pow(v,1/3):7.787*v+16/116,S=m>.008856?Math.pow(m,1/3):7.787*m+16/116,T=D>.008856?Math.pow(D,1/3):7.787*D+16/116;return new e(_,S,T,"xyz")}_clamped(){let{_a:t,_b:n,_c:r}=this.rgb(),{max:i,min:o,round:s}=Math,l=d=>i(0,o(s(d),255));return[t,n,r].map(l)}};var Ne=class e{constructor(...t){this.init(...t)}clone(){return new e(this)}init(t,n){let r={x:0,y:0},i=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=i.x==null?r.x:i.x,this.y=i.y==null?r.y:i.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){oe.isMatrixLike(t)||(t=new oe(t));let{x:n,y:r}=this;return this.x=t.a*n+t.c*r+t.e,this.y=t.b*n+t.d*r+t.f,this}};function Eb(e,t){return new Ne(e,t).transformO(this.screenCTM().inverseO())}function lo(e,t,n){return Math.abs(t-e)<(n||1e-6)}var oe=class e{constructor(...t){this.init(...t)}static formatTransforms(t){let n=t.flip==="both"||t.flip===!0,r=t.flip&&(n||t.flip==="x")?-1:1,i=t.flip&&(n||t.flip==="y")?-1:1,o=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,s=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,l=t.scale&&t.scale.length?t.scale[0]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleX)?t.scaleX*r:r,d=t.scale&&t.scale.length?t.scale[1]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleY)?t.scaleY*i:i,h=t.shear||0,v=t.rotate||t.theta||0,m=new Ne(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),D=m.x,_=m.y,S=new Ne(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),T=S.x,k=S.y,R=new Ne(t.translate||t.tx||t.translateX,t.ty||t.translateY),fe=R.x,pe=R.y,Oe=new Ne(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),I=Oe.x,Se=Oe.y;return{scaleX:l,scaleY:d,skewX:o,skewY:s,shear:h,theta:v,rx:I,ry:Se,tx:fe,ty:pe,ox:D,oy:_,px:T,py:k}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,r){let i=t.a*n.a+t.c*n.b,o=t.b*n.a+t.d*n.b,s=t.a*n.c+t.c*n.d,l=t.b*n.c+t.d*n.d,d=t.e+t.a*n.e+t.c*n.f,h=t.f+t.b*n.e+t.d*n.f;return r.a=i,r.b=o,r.c=s,r.d=l,r.e=d,r.f=h,r}around(t,n,r){return this.clone().aroundO(t,n,r)}aroundO(t,n,r){let i=t||0,o=n||0;return this.translateO(-i,-o).lmultiplyO(r).translateO(i,o)}clone(){return new e(this)}decompose(t=0,n=0){let r=this.a,i=this.b,o=this.c,s=this.d,l=this.e,d=this.f,h=r*s-i*o,v=h>0?1:-1,m=v*Math.sqrt(r*r+i*i),D=Math.atan2(v*i,v*r),_=180/Math.PI*D,S=Math.cos(D),T=Math.sin(D),k=(r*o+i*s)/h,R=o*m/(k*r-i)||s*m/(k*i+r),fe=l-t+t*S*m+n*(k*S*m-T*R),pe=d-n+t*T*m+n*(k*T*m+S*R);return{scaleX:m,scaleY:R,shear:k,rotate:_,translateX:fe,translateY:pe,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;let n=new e(t);return lo(this.a,n.a)&&lo(this.b,n.b)&&lo(this.c,n.c)&&lo(this.d,n.d)&&lo(this.e,n.e)&&lo(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){let n=e.fromArray([1,0,0,1,0,0]);return t=t instanceof We?t.matrixify():typeof t=="string"?e.fromArray(t.split(st).map(parseFloat)):Array.isArray(t)?e.fromArray(t):typeof t=="object"&&e.isMatrixLike(t)?t:typeof t=="object"?new e().transform(t):arguments.length===6?e.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){let t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,l=t*i-n*r;if(!l)throw new Error("Cannot invert "+this);let d=i/l,h=-n/l,v=-r/l,m=t/l,D=-(d*o+v*s),_=-(h*o+m*s);return this.a=d,this.b=h,this.c=v,this.d=m,this.e=D,this.f=_,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){let n=this,r=t instanceof e?t:new e(t);return e.matrixMultiply(r,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){let n=this,r=t instanceof e?t:new e(t);return e.matrixMultiply(n,r,this)}rotate(t,n,r){return this.clone().rotateO(t,n,r)}rotateO(t,n=0,r=0){t=sl(t);let i=Math.cos(t),o=Math.sin(t),{a:s,b:l,c:d,d:h,e:v,f:m}=this;return this.a=s*i-l*o,this.b=l*i+s*o,this.c=d*i-h*o,this.d=h*i+d*o,this.e=v*i-m*o+r*o-n*i+n,this.f=m*i+v*o-n*o-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t);let{a:o,b:s,c:l,d,e:h,f:v}=this;return this.a=o*t,this.b=s*n,this.c=l*t,this.d=d*n,this.e=h*t-r*t+r,this.f=v*n-i*n+i,this}shear(t,n,r){return this.clone().shearO(t,n,r)}shearO(t,n=0,r=0){let{a:i,b:o,c:s,d:l,e:d,f:h}=this;return this.a=i+o*t,this.c=s+l*t,this.e=d+h*t-r*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,r=0,i=0){arguments.length===3&&(i=r,r=n,n=t),t=sl(t),n=sl(n);let o=Math.tan(t),s=Math.tan(n),{a:l,b:d,c:h,d:v,e:m,f:D}=this;return this.a=l+d*o,this.b=d+l*s,this.c=h+v*o,this.d=v+h*s,this.e=m+D*o-i*o,this.f=D+m*s-r*s,this}skewX(t,n,r){return this.skew(t,0,n,r)}skewY(t,n,r){return this.skew(0,t,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(e.isMatrixLike(t))return new e(t).multiplyO(this);let n=e.formatTransforms(t),r=this,{x:i,y:o}=new Ne(n.ox,n.oy).transform(r),s=new e().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-i,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,o);if(isFinite(n.px)||isFinite(n.py)){let l=new Ne(i,o).transform(s),d=isFinite(n.px)?n.px-l.x:0,h=isFinite(n.py)?n.py-l.y:0;s.translateO(d,h)}return s.translateO(n.tx,n.ty),s}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function Sb(){return new oe(this.node.getCTM())}function Ib(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){let e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new oe(t)}return new oe(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new oe}}B(oe,"Matrix");function Xt(){if(!Xt.nodes){let e=Ge().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");let t=e.path().node;Xt.nodes={svg:e,path:t}}if(!Xt.nodes.svg.node.parentNode){let e=Z.document.body||Z.document.documentElement;Xt.nodes.svg.addTo(e)}return Xt.nodes}function Mb(e){return!e.width&&!e.height&&!e.x&&!e.y}function _T(e){return e===Z.document||(Z.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===Z.document}).call(Z.document.documentElement,e)}var Be=class e{constructor(...t){this.init(...t)}addOffset(){return this.x+=Z.window.pageXOffset,this.y+=Z.window.pageYOffset,new e(this)}init(t){let n=[0,0,0,0];return t=typeof t=="string"?t.split(st).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return Mb(this)}merge(t){let n=Math.min(this.x,t.x),r=Math.min(this.y,t.y),i=Math.max(this.x+this.width,t.x+t.width)-n,o=Math.max(this.y+this.height,t.y+t.height)-r;return new e(n,r,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof oe||(t=new oe(t));let n=1/0,r=-1/0,i=1/0,o=-1/0;return[new Ne(this.x,this.y),new Ne(this.x2,this.y),new Ne(this.x,this.y2),new Ne(this.x2,this.y2)].forEach(function(l){l=l.transform(t),n=Math.min(n,l.x),r=Math.max(r,l.x),i=Math.min(i,l.y),o=Math.max(o,l.y)}),new e(n,i,r-n,o-i)}};function Tb(e,t,n){let r;try{if(r=t(e.node),Mb(r)&&!_T(e.node))throw new Error("Element not in the dom")}catch{r=n(e)}return r}function Ab(){let n=Tb(this,i=>i.getBBox(),i=>{try{let o=i.clone().addTo(Xt().svg).show(),s=o.node.getBBox();return o.remove(),s}catch(o){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${o.toString()}`)}});return new Be(n)}function Nb(e){let r=Tb(this,o=>o.getBoundingClientRect(),o=>{throw new Error(`Getting rbox of element "${o.node.nodeName}" is not possible`)}),i=new Be(r);return e?i.transform(e.screenCTM().inverseO()):i.addOffset()}function Ob(e,t){let n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}F({viewbox:{viewbox(e,t,n,r){return e==null?new Be(this.attr("viewBox")):this.attr("viewBox",new Be(e,t,n,r))},zoom(e,t){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let i=this.viewbox(),o=n/i.width,s=r/i.height,l=Math.min(o,s);if(e==null)return l;let d=l/e;d===1/0&&(d=Number.MAX_SAFE_INTEGER/100),t=t||new Ne(n/2/o+i.x,r/2/s+i.y);let h=new Be(i).transform(new oe({scale:d,origin:t}));return this.viewbox(h)}}});B(Be,"Box");var uo=class extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}},zn=uo;z([uo],{each(e,...t){return typeof e=="function"?this.map((n,r,i)=>e.call(n,n,r,i)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});var ET=["toArray","constructor","each"];uo.extend=function(e){e=e.reduce((t,n)=>(ET.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...r){return this.each(n,...r)}),t),{}),z([uo],e)};function kt(e,t){return new zn(so((t||Z.document).querySelectorAll(e),function(n){return ft(n)}))}function kb(e){return kt(e,this.node)}function Rb(e){return ft(this.node.querySelector(e))}var ST=0,Pb={};function Fb(e){let t=e.getEventHolder();return t===Z.window&&(t=Pb),t.events||(t.events={}),t.events}function Rh(e){return e.getEventTarget()}function IT(e){let t=e.getEventHolder();t===Z.window&&(t=Pb),t.events&&(t.events={})}function ks(e,t,n,r,i){let o=n.bind(r||e),s=Ge(e),l=Fb(s),d=Rh(s);t=Array.isArray(t)?t:t.split(st),n._svgjsListenerId||(n._svgjsListenerId=++ST),t.forEach(function(h){let v=h.split(".")[0],m=h.split(".")[1]||"*";l[v]=l[v]||{},l[v][m]=l[v][m]||{},l[v][m][n._svgjsListenerId]=o,d.addEventListener(v,o,i||!1)})}function br(e,t,n,r){let i=Ge(e),o=Fb(i),s=Rh(i);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(st),t.forEach(function(l){let d=l&&l.split(".")[0],h=l&&l.split(".")[1],v,m;if(n)o[d]&&o[d][h||"*"]&&(s.removeEventListener(d,o[d][h||"*"][n],r||!1),delete o[d][h||"*"][n]);else if(d&&h){if(o[d]&&o[d][h]){for(m in o[d][h])br(s,[d,h].join("."),m);delete o[d][h]}}else if(h)for(l in o)for(v in o[l])h===v&&br(s,[l,h].join("."));else if(d){if(o[d]){for(v in o[d])br(s,[d,v].join("."));delete o[d]}}else{for(l in o)br(s,l);IT(i)}}))}function Lb(e,t,n,r){let i=Rh(e);return t instanceof Z.window.Event||(t=new Z.window.CustomEvent(t,j({detail:n,cancelable:!0},r))),i.dispatchEvent(t),t}var Kt=class extends ri{addEventListener(){}dispatch(t,n,r){return Lb(this,t,n,r)}dispatchEvent(t){let n=this.getEventHolder().events;if(!n)return!0;let r=n[t.type];for(let i in r)for(let o in r[i])r[i][o](t);return!t.defaultPrevented}fire(t,n,r){return this.dispatch(t,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,r){return br(this,t,n,r),this}on(t,n,r,i){return ks(this,t,n,r,i),this}removeEventListener(){}};B(Kt,"EventTarget");function Ph(){}var si={duration:400,ease:">",delay:0},jb={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var Dt=class extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(st).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let t=[];return t.push(...this),t}};var J=class e{constructor(...t){this.init(...t)}convert(t){return new e(this.value,t)}divide(t){return t=new e(t),new e(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(ul),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof e&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new e(t),new e(this-t,this.unit||t.unit)}plus(t){return t=new e(t),new e(this+t,this.unit||t.unit)}times(t){return t=new e(t),new e(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};var TT=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Vb=[];function $b(e){Vb.push(e)}function Fh(e,t,n){if(e==null){e={},t=this.node.attributes;for(let r of t)e[r.nodeName]=Oh.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return e}else{if(e instanceof Array)return e.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?jb[e]:Oh.test(t)?parseFloat(t):t;t=Vb.reduce((r,i)=>i(e,r,this),t),typeof t=="number"?t=new J(t):TT.has(e)&&at.isColor(t)?t=new at(t):t.constructor===Array&&(t=new Dt(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}var Qt=class e extends Kt{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=Ge(t),t.removeNamespace&&this.node instanceof Z.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return Ge(t).put(this,n)}children(){return new zn(so(this.node.children,function(t){return ft(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(t);return n&&(r=Mh(r)),new this.constructor(r)}each(t,n){let r=this.children(),i,o;for(i=0,o=r.length;i<o;i++)t.apply(r[i],[i,r]),n&&r[i].each(t,n);return this}element(t,n){return this.put(new e(oi(t),n))}first(){return ft(this.node.firstChild)}get(t){return ft(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,vb)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=Ih(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return ft(this.node.lastChild)}matches(t){let n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=ft(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=ft(n.node.parentNode));return n}put(t,n){return t=Ge(t),this.add(t,n),t}putIn(t,n){return Ge(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=Ge(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){let r=10**t,i=this.attr(n);for(let o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*r)/r);return this.attr(i),this}svg(t,n){return this.xml(t,n,ao)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){let n=this.parent();if(!n)return this.addTo(t);let r=n.index(this);return n.put(t,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let l=this;if(t!=null){if(l=ft(l.node.cloneNode(!0)),n){let d=t(l);if(l=d||l,d===!1)return""}l.each(function(){let d=t(this),h=d||this;d===!1?this.remove():d&&this!==h&&this.replace(h)},!0)}return n?l.node.outerHTML:l.node.innerHTML}n=n??!1;let i=oi("wrapper",r),o=Z.document.createDocumentFragment();i.innerHTML=t;for(let l=i.children.length;l--;)o.appendChild(i.firstElementChild);let s=this.parent();return n?this.replace(o)&&s:this.add(o)}};z(Qt,{attr:Fh,find:kb,findOne:Rb});B(Qt,"Dom");var We=class extends Qt{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){let t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new J(t).plus(this.x()))}dy(t=0){return this.y(new J(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){let n=typeof t=="string";n||(t=Ge(t));let r=new zn,i=this;for(;(i=i.parent())&&i.node!==Z.document&&i.nodeName!=="#document-fragment"&&(r.push(i),!(!n&&i.node===t.node||n&&i.matches(t)));)if(i.node===this.root().node)return null;return r}reference(t){if(t=this.attr(t),!t)return null;let n=(t+"").match(xb);return n?Ge(n[1]):null}root(){let t=this.parent(yb(ll));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){let r=Yt(this,t,n);return this.width(new J(r.width)).height(new J(r.height))}width(t){return this.attr("width",t)}writeDataToDom(){return al(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};z(We,{bbox:Ab,rbox:Nb,inside:Ob,point:Eb,ctm:Sb,screenCTM:Ib});B(We,"Element");var Rs={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){let t={},n;t[e]=function(r){if(typeof r>"u")return this.attr(e);if(typeof r=="string"||r instanceof at||at.isRgb(r)||r instanceof We)this.attr(e,r);else for(n=Rs[e].length-1;n>=0;n--)r[Rs[e][n]]!=null&&this.attr(Rs.prefix(e,Rs[e][n]),r[Rs[e][n]]);return this},F(["Element","Runner"],t)});F(["Element","Runner"],{matrix:function(e,t,n,r,i,o){return e==null?new oe(this):this.attr("transform",new oe(e,t,n,r,i,o))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:r},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:r},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});F("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new J(e)):this.rx(e).ry(t)}});F("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new Ne(this.node.getPointAtLength(e))}});F(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});var AT=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){let n=function(r){return r===null?this.off(t):this.on(t,r),this};return e[t]=n,e},{});F("Element",AT);function NT(){return this.attr("transform",null)}function OT(){return(this.attr("transform")||"").split(Db).slice(0,-1).map(function(t){let n=t.trim().split("(");return[n[0],n[1].split(st).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(oe.fromArray(n[1])):t[n[0]].apply(t,n[1])},new oe)}function kT(e,t){if(this===e)return this;if(Ns(this.node))return this.addTo(e,t);let n=this.screenCTM(),r=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(r.multiply(n)),this}function RT(e){return this.toParent(this.root(),e)}function PT(e,t){if(e==null||typeof e=="string"){let i=new oe(this).decompose();return e==null?i:i[e]}oe.isMatrixLike(e)||(e=Le(j({},e),{origin:As(e,this)}));let n=t===!0?this:t||!1,r=new oe(n).transform(e);return this.attr("transform",r)}F("Element",{untransform:NT,matrixify:OT,toParent:kT,toRoot:RT,transform:PT});var Fe=class e extends We{flatten(){return this.each(function(){if(this instanceof e)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(t,n)}),this.remove()}};B(Fe,"Container");var wr=class extends Fe{constructor(t,n=t){super(K("defs",t),n)}flatten(){return this}ungroup(){return this}};B(wr,"Defs");var ke=class extends We{};B(ke,"Shape");var Hh={};vi(Hh,{cx:()=>Vh,cy:()=>$h,height:()=>Uh,rx:()=>Ps,ry:()=>Fs,width:()=>Bh,x:()=>Lh,y:()=>jh});function Ps(e){return this.attr("rx",e)}function Fs(e){return this.attr("ry",e)}function Lh(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function jh(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function Vh(e){return this.attr("cx",e)}function $h(e){return this.attr("cy",e)}function Bh(e){return e==null?this.rx()*2:this.rx(new J(e).divide(2))}function Uh(e){return e==null?this.ry()*2:this.ry(new J(e).divide(2))}var xr=class extends ke{constructor(t,n=t){super(K("ellipse",t),n)}size(t,n){let r=Yt(this,t,n);return this.rx(new J(r.width).divide(2)).ry(new J(r.height).divide(2))}};z(xr,Hh);F("Container",{ellipse:re(function(e=0,t=e){return this.put(new xr).size(e,t).move(0,0)})});B(xr,"Ellipse");var dl=class extends Qt{constructor(t=Z.document.createDocumentFragment()){super(t)}xml(t,n,r){if(typeof t=="boolean"&&(r=n,n=t,t=null),t==null||typeof t=="function"){let i=new Qt(oi("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(t,!1,r)}};B(dl,"Fragment");var zh=dl;var qh={};vi(qh,{from:()=>Gh,to:()=>Wh});function Gh(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new J(e),fy:new J(t)}):this.attr({x1:new J(e),y1:new J(t)})}function Wh(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new J(e),cy:new J(t)}):this.attr({x2:new J(e),y2:new J(t)})}var Gn=class extends Fe{constructor(t,n){super(K(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,r){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,r)}bbox(){return new Be}targets(){return kt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};z(Gn,qh);F({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:re(function(e,t){return this.put(new Gn(e)).update(t)})}});B(Gn,"Gradient");var En=class extends Fe{constructor(t,n=t){super(K("pattern",t),n)}attr(t,n,r){return t==="transform"&&(t="patternTransform"),super.attr(t,n,r)}bbox(){return new Be}targets(){return kt("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}};F({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:re(function(e,t,n){return this.put(new En).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});B(En,"Pattern");var Dr=class extends ke{constructor(t,n=t){super(K("image",t),n)}load(t,n){if(!t)return this;let r=new Z.window.Image;return ks(r,"load",function(i){let o=this.parent(En);this.width()===0&&this.height()===0&&this.size(r.width,r.height),o instanceof En&&o.width()===0&&o.height()===0&&o.size(this.width(),this.height()),typeof n=="function"&&n.call(this,i)},this),ks(r,"load error",function(){br(r)}),this.attr("href",r.src=t,_n)}};$b(function(e,t,n){return(e==="fill"||e==="stroke")&&_b.test(t)&&(t=n.root().defs().image(t)),t instanceof Dr&&(t=n.root().defs().pattern(0,0,r=>{r.add(t)})),t});F({Container:{image:re(function(e,t){return this.put(new Dr).size(0,0).load(e,t)})}});B(Dr,"Image");var ct=class extends Dt{bbox(){let t=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(o){t=Math.max(o[0],t),n=Math.max(o[1],n),r=Math.min(o[0],r),i=Math.min(o[1],i)}),new Be(r,i,t-r,n-i)}move(t,n){let r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+t,this[i][1]+n];return this}parse(t=[0,0]){let n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(st).map(parseFloat),t.length%2!==0&&t.pop();for(let r=0,i=t.length;r<i;r=r+2)n.push([t[r],t[r+1]]);return n}size(t,n){let r,i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*t/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let t=[];for(let n=0,r=this.length;n<r;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){oe.isMatrixLike(t)||(t=new oe(t));for(let n=this.length;n--;){let[r,i]=this[n];this[n][0]=t.a*r+t.c*i+t.e,this[n][1]=t.b*r+t.d*i+t.f}return this}};var ai={};vi(ai,{MorphArray:()=>FT,height:()=>$T,width:()=>VT,x:()=>LT,y:()=>jT});var FT=ct;function LT(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function jT(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function VT(e){let t=this.bbox();return e==null?t.width:this.size(e,t.height)}function $T(e){let t=this.bbox();return e==null?t.height:this.size(t.width,e)}var Wn=class extends ke{constructor(t,n=t){super(K("line",t),n)}array(){return new ct([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,r,i){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:r,y2:i}:t=new ct(t).toLine(),this.attr(t))}size(t,n){let r=Yt(this,t,n);return this.attr(this.array().size(r.width,r.height).toLine())}};z(Wn,ai);F({Container:{line:re(function(...e){return Wn.prototype.plot.apply(this.put(new Wn),e[0]!=null?e:[0,0,0,0])})}});B(Wn,"Line");var Cr=class extends Fe{constructor(t,n=t){super(K("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}};F({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:re(function(e,t,n){return this.put(new Cr).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,r){let i=["marker"];return e!=="all"&&i.push(e),i=i.join("-"),e=arguments[1]instanceof Cr?arguments[1]:this.defs().marker(t,n,r),this.attr(i,e)}}});B(Cr,"Marker");function fo(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}var Ub={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,r){return function(i){return i<0?e>0?t/e*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):e<1?(1-t)/(1-e)*i+(t-e)/(1-e):1:3*i*(1-i)**2*t+3*i**2*(1-i)*r+i**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(r,i=!1)=>{let o=Math.floor(r*e),s=r*o%1===0;return(t==="start"||t==="both")&&++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}},ho=class{done(){return!1}},_r=class extends ho{constructor(t=si.ease){super(),this.ease=Ub[t]||t}step(t,n,r){return typeof t!="number"?r<1?t:n:t+(n-t)*this.ease(r)}},Er=class extends ho{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,r,i){return this.stepper(t,n,r,i)}};function Bb(){let e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,r=Math.PI,i=Math.log(t/100+n),o=-i/Math.sqrt(r*r+i*i),s=3.9/(o*e);this.d=2*o*s,this.k=s*s}var fl=class extends Er{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;r>100&&(r=16),r/=1e3;let o=i.velocity||0,s=-this.d*o-this.k*(t-n),l=t+o*r+s*r*r/2;return i.velocity=o+s*r,i.done=Math.abs(n-l)+Math.abs(o)<.002,i.done?n:l}};z(fl,{duration:fo("_duration",Bb),overshoot:fo("_overshoot",Bb)});var hl=class extends Er{constructor(t=.1,n=.01,r=0,i=1e3){super(),this.p(t).i(n).d(r).windup(i)}step(t,n,r,i){if(typeof t=="string")return t;if(i.done=r===1/0,r===1/0)return n;if(r===0)return t;let o=n-t,s=(i.integral||0)+o*r,l=(o-(i.error||0))/r,d=this._windup;return d!==!1&&(s=Math.max(-d,Math.min(s,d))),i.error=o,i.integral=s,i.done=Math.abs(o)<.001,i.done?n:t+(this.P*o+this.I*s+this.D*l)}};z(hl,{windup:fo("_windup"),p:fo("P"),i:fo("I"),d:fo("D")});var BT={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Xh={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},Yh="mlhvqtcsaz".split("");for(let e=0,t=Yh.length;e<t;++e)Xh[Yh[e]]=function(n){return function(r,i,o){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let s=0,l=r.length;s<l;++s)r[s]=r[s]+(s%2?i.y:i.x);return Xh[n](r,i,o)}}(Yh[e].toUpperCase());function UT(e){let t=e.segment[0];return Xh[t](e.segment.slice(1),e.p,e.p0)}function Kh(e){return e.segment.length&&e.segment.length-1===BT[e.segment[0].toUpperCase()]}function HT(e,t){e.inNumber&&ci(e,!1);let n=Os.test(t);if(n)e.segment=[t];else{let r=e.lastCommand,i=r.toLowerCase(),o=r===i;e.segment=[i==="m"?o?"l":"L":r]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function ci(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,Kh(e)&&Qh(e)}function Qh(e){e.inSegment=!1,e.absolute&&(e.segment=UT(e)),e.segments.push(e.segment)}function zT(e){if(!e.segment.length)return!1;let t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function GT(e){return e.lastToken.toUpperCase()==="E"}var WT=new Set([" ",",","	",`
`,"\r","\f"]);function Hb(e,t=!0){let n=0,r="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new Ne,p:new Ne};for(;i.lastToken=r,r=e.charAt(n++);)if(!(!i.inSegment&&HT(i,r))){if(r==="."){if(i.pointSeen||i.hasExponent){ci(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r;continue}if(!isNaN(parseInt(r))){if(i.number==="0"||zT(i)){i.inNumber=!0,i.number=r,ci(i,!0);continue}i.inNumber=!0,i.number+=r;continue}if(WT.has(r)){i.inNumber&&ci(i,!1);continue}if(r==="-"||r==="+"){if(i.inNumber&&!GT(i)){ci(i,!1),--n;continue}i.number+=r,i.inNumber=!0;continue}if(r.toUpperCase()==="E"){i.number+=r,i.hasExponent=!0;continue}if(Os.test(r)){if(i.inNumber)ci(i,!1);else if(Kh(i))Qh(i);else throw new Error("parser Error");--n}}return i.inNumber&&ci(i,!1),i.inSegment&&Kh(i)&&Qh(i),i.segments}function qT(e){let t="";for(let n=0,r=e.length;n<r;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}var Ct=class extends Dt{bbox(){return Xt().path.setAttribute("d",this.toString()),new Be(Xt.nodes.path.getBBox())}move(t,n){let r=this.bbox();if(t-=r.x,n-=r.y,!isNaN(t)&&!isNaN(n))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=t,this[o][2]+=n):i==="H"?this[o][1]+=t:i==="V"?this[o][1]+=n:i==="C"||i==="S"||i==="Q"?(this[o][1]+=t,this[o][2]+=n,this[o][3]+=t,this[o][4]+=n,i==="C"&&(this[o][5]+=t,this[o][6]+=n)):i==="A"&&(this[o][6]+=t,this[o][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),Hb(t)}size(t,n){let r=this.bbox(),i,o;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):o==="H"?this[i][1]=(this[i][1]-r.x)*t/r.width+r.x:o==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-r.x)*t/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*t/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,o==="C"&&(this[i][5]=(this[i][5]-r.x)*t/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):o==="A"&&(this[i][1]=this[i][1]*t/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*t/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return qT(this)}};var zb=e=>{let t=typeof e;return t==="number"?J:t==="string"?at.isColor(e)?at:st.test(e)?Os.test(e)?Ct:Dt:ul.test(e)?J:po:Zh.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?Dt:t==="object"?qn:po},hn=class{constructor(t){this._stepper=t||new _r("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(zb(t));let n=new this._type(t);return this._type===at&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===qn&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}};var po=class{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}},pl=(()=>{class e{constructor(...n){this.init(...n)}init(n){return Array.isArray(n)&&(n={scaleX:n[0],scaleY:n[1],shear:n[2],rotate:n[3],translateX:n[4],translateY:n[5],originX:n[6],originY:n[7]}),Object.assign(this,e.defaults,n),this}toArray(){let n=this;return[n.scaleX,n.scaleY,n.shear,n.rotate,n.translateX,n.translateY,n.originX,n.originY]}}return e.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0},e})(),YT=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0,qn=class{constructor(...t){this.init(...t)}align(t){let n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===t[r+1]){if(n[r+1]===at&&t[r+7]!==n[r+7]){let l=t[r+7],d=new at(this.values.splice(r+3,5))[l]().toArray();this.values.splice(r+3,0,...d)}r+=n[r+2]+2;continue}if(!t[r+1])return this;let o=new t[r+1]().toArray(),s=n[r+2]+3;n.splice(r,s,t[r],t[r+1],t[r+2],...o),r+=n[r+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};let n=[];for(let r in t){let i=zb(t[r]),o=new i(t[r]).toArray();n.push([r,i,o.length,...o])}return n.sort(YT),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){let t={},n=this.values;for(;n.length;){let r=n.shift(),i=n.shift(),o=n.shift(),s=n.splice(0,o);t[r]=new i(s)}return t}},Zh=[po,pl,qn];function Gb(e=[]){Zh.push(...[].concat(e))}function Wb(){z(Zh,{to(e){return new hn().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,r,i){let o=function(s,l){return r.step(s,t[l],n,i[l],i)};return this.fromArray(e.map(o))}})}var pn=class extends ke{constructor(t,n=t){super(K("path",t),n)}array(){return this._array||(this._array=new Ct(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new Ct(t))}size(t,n){let r=Yt(this,t,n);return this.attr("d",this.array().size(r.width,r.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}};pn.prototype.MorphArray=Ct;F({Container:{path:re(function(e){return this.put(new pn).plot(e||new Ct)})}});B(pn,"Path");var Ls={};vi(Ls,{array:()=>XT,clear:()=>KT,move:()=>QT,plot:()=>ZT,size:()=>JT});function XT(){return this._array||(this._array=new ct(this.attr("points")))}function KT(){return delete this._array,this}function QT(e,t){return this.attr("points",this.array().move(e,t))}function ZT(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new ct(e))}function JT(e,t){let n=Yt(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}var Yn=class extends ke{constructor(t,n=t){super(K("polygon",t),n)}};F({Container:{polygon:re(function(e){return this.put(new Yn).plot(e||new ct)})}});z(Yn,ai);z(Yn,Ls);B(Yn,"Polygon");var Xn=class extends ke{constructor(t,n=t){super(K("polyline",t),n)}};F({Container:{polyline:re(function(e){return this.put(new Xn).plot(e||new ct)})}});z(Xn,ai);z(Xn,Ls);B(Xn,"Polyline");var Sr=class extends ke{constructor(t,n=t){super(K("rect",t),n)}};z(Sr,{rx:Ps,ry:Fs});F({Container:{rect:re(function(e,t){return this.put(new Sr).size(e,t)})}});B(Sr,"Rect");var li=class{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){let n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){let t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}};var Pe={nextDraw:null,frames:new li,timeouts:new li,immediates:new li,timer:()=>Z.window.performance||Z.window.Date,transforms:[],frame(e){let t=Pe.frames.push({run:e});return Pe.nextDraw===null&&(Pe.nextDraw=Z.window.requestAnimationFrame(Pe._draw)),t},timeout(e,t){t=t||0;let n=Pe.timer().now()+t,r=Pe.timeouts.push({run:e,time:n});return Pe.nextDraw===null&&(Pe.nextDraw=Z.window.requestAnimationFrame(Pe._draw)),r},immediate(e){let t=Pe.immediates.push(e);return Pe.nextDraw===null&&(Pe.nextDraw=Z.window.requestAnimationFrame(Pe._draw)),t},cancelFrame(e){e!=null&&Pe.frames.remove(e)},clearTimeout(e){e!=null&&Pe.timeouts.remove(e)},cancelImmediate(e){e!=null&&Pe.immediates.remove(e)},_draw(e){let t=null,n=Pe.timeouts.last();for(;(t=Pe.timeouts.shift())&&(e>=t.time?t.run():Pe.timeouts.push(t),t!==n););let r=null,i=Pe.frames.last();for(;r!==i&&(r=Pe.frames.shift());)r.run(e);let o=null;for(;o=Pe.immediates.shift();)o();Pe.nextDraw=Pe.timeouts.first()||Pe.frames.first()?Z.window.requestAnimationFrame(Pe._draw):null}},ui=Pe;var eA=function(e){let t=e.start,n=e.runner.duration(),r=t+n;return{start:t,duration:n,end:r,runner:e.runner}},tA=function(){let e=Z.window;return(e.performance||e.Date).now()},mo=class extends Kt{constructor(t=tA){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){let t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){let n=this.speed();if(t==null)return this.speed(-n);let r=Math.abs(n);return this.speed(t?-r:r)}schedule(t,n,r){if(t==null)return this._runners.map(eA);let i=0,o=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=o;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){let d=this.getRunnerInfoById(t.id);d&&(i=d.start+n,n=0)}else if(r==="with-last"){let d=this.getLastRunnerInfo();i=d?d.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);let s=t.persist(),l={persist:s===null?this._persist:s,start:i+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(l),this._runners.sort((d,h)=>d.start-h.start),this._runnerIds=this._runners.map(d=>d.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){let n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return ui.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=ui.frame(this._step),this)}_stepFn(t=!1){let n=this._timeSource(),r=n-this._lastSourceTime;t&&(r=0);let i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){let l=this._runners[s],d=l.runner;this._time-l.start<=0&&d.reset()}let o=!1;for(let s=0,l=this._runners.length;s<l;s++){let d=this._runners[s],h=d.runner,v=i,m=this._time-d.start;if(m<=0){o=!0;continue}else m<v&&(v=m);if(!h.active())continue;h.step(v).done?d.persist!==!0&&h.duration()-h.time()+this._time+d.persist<this._time&&(h.unschedule(),--s,--l):o=!0}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}};F({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new mo,this._timeline):(this._timeline=e,this)}}});var Sn=(()=>{class e extends Kt{constructor(n){super(),this.id=e.id++,n=n??si.duration,n=typeof n=="function"?new Er(n):n,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof n=="number"&&n,this._isDeclarative=n instanceof Er,this._stepper=this._isDeclarative?n:new _r,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new oe,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(n,r,i){let o=1,s=!1,l=0;return n=n??si.duration,r=r??si.delay,i=i||"last",typeof n=="object"&&!(n instanceof ho)&&(r=n.delay??r,i=n.when??i,s=n.swing||s,o=n.times??o,l=n.wait??l,n=n.duration??si.duration),{duration:n,delay:r,swing:s,times:o,wait:l,when:i}}active(n){return n==null?this.enabled:(this.enabled=n,this)}addTransform(n){return this.transforms.lmultiplyO(n),this}after(n){return this.on("finished",n)}animate(n,r,i){let o=e.sanitise(n,r,i),s=new e(o.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(o).schedule(o.delay,o.when)}clearTransform(){return this.transforms=new oe,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(n=>!n.isTransform))}delay(n){return this.animate(0,n)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(n){return this.queue(null,n)}ease(n){return this._stepper=new _r(n),this}element(n){return n==null?this._element:(this._element=n,n._prepareRunner(),this)}finish(){return this.step(1/0)}loop(n,r,i){return typeof n=="object"&&(r=n.swing,i=n.wait,n=n.times),this._times=n||1/0,this._swing=r||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(n){let r=this._duration+this._wait;if(n==null){let l=Math.floor(this._time/r),h=(this._time-l*r)/this._duration;return Math.min(l+h,this._times)}let i=Math.floor(n),o=n%1,s=r*i+this._duration*o;return this.time(s)}persist(n){return n==null?this._persist:(this._persist=n,this)}position(n){let r=this._time,i=this._duration,o=this._wait,s=this._times,l=this._swing,d=this._reverse,h;if(n==null){let _=function(T){let k=l*Math.floor(T%(2*(o+i))/(o+i)),R=k&&!d||!k&&d,fe=Math.pow(-1,R)*(T%(o+i))/i+R;return Math.max(Math.min(fe,1),0)},S=s*(o+i)-o;return h=r<=0?Math.round(_(1e-5)):r<S?_(r):Math.round(_(S-1e-5)),h}let v=Math.floor(this.loops()),m=l&&v%2===0;return h=v+(m&&!d||d&&m?n:1-n),this.loops(h)}progress(n){return n==null?Math.min(1,this._time/this.duration()):this.time(n*this.duration())}queue(n,r,i,o){return this._queue.push({initialiser:n||Ph,runner:r||Ph,retarget:i,isTransform:o,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(n){return this._reverse=n??!this._reverse,this}schedule(n,r,i){if(n instanceof mo||(i=r,r=n,n=this.timeline()),!n)throw Error("Runner cannot be scheduled without timeline");return n.schedule(this,r,i),this}step(n){if(!this.enabled)return this;n=n??16,this._time+=n;let r=this.position(),i=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;let o=this.duration(),s=this._lastTime<=0&&this._time>0,l=this._lastTime<o&&this._time>=o;this._lastTime=this._time,s&&this.fire("start",this);let d=this._isDeclarative;this.done=!d&&!l&&this._time>=o,this._reseted=!1;let h=!1;return(i||d)&&(this._initialise(i),this.transforms=new oe,h=this._run(d?n:r),this.fire("step",this)),this.done=this.done||h&&d,l&&this.fire("finished",this),this}time(n){if(n==null)return this._time;let r=n-this._time;return this.step(r),this}timeline(n){return typeof n>"u"?this._timeline:(this._timeline=n,this)}unschedule(){let n=this.timeline();return n&&n.unschedule(this),this}_initialise(n){if(!(!n&&!this._isDeclarative))for(let r=0,i=this._queue.length;r<i;++r){let o=this._queue[r],s=this._isDeclarative||!o.initialised&&n;n=!o.finished,s&&n&&(o.initialiser.call(this),o.initialised=!0)}}_rememberMorpher(n,r){if(this._history[n]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){let i=this.timeline();i&&i.play()}}_run(n){let r=!0;for(let i=0,o=this._queue.length;i<o;++i){let s=this._queue[i],l=s.runner.call(this,n);s.finished=s.finished||l===!0,r=r&&s.finished}return r}_tryRetarget(n,r,i){if(this._history[n]){if(!this._history[n].caller.initialised){let s=this._queue.indexOf(this._history[n].caller);return this._queue.splice(s,1),!1}this._history[n].caller.retarget?this._history[n].caller.retarget.call(this,r,i):this._history[n].morpher.to(r),this._history[n].caller.finished=!1;let o=this.timeline();return o&&o.play(),!0}return!1}}return e.id=0,e})();var go=class{constructor(t=new oe,n=-1,r=!0){this.transforms=t,this.id=n,this.done=r}clearTransformsFromQueue(){}};z([Sn,go],{mergeWith(e){return new go(e.transforms.lmultiply(this.transforms),e.id)}});var qb=(e,t)=>e.lmultiplyO(t),Yb=e=>e.transforms;function nA(){let t=this._transformationRunners.runners.map(Yb).reduce(qb,new oe);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}var Jh=class{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;let n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){let n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new go).forEach(r=>r.clearTransformsFromQueue()),this}edit(t,n){let r=this.ids.indexOf(t+1);return this.ids.splice(r,1,t+1),this.runners.splice(r,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){let r=this.runners[n];if(t&&r.done&&t.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(r.id);let o=r.mergeWith(t);this.edit(t.id,o),t=o,--n}else t=r}return this}remove(t){let n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}};F({Element:{animate(e,t,n){let r=Sn.sanitise(e,t,n),i=this.timeline();return new Sn(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(Yb).reduce(qb,new oe)},_addRunner(e){this._transformationRunners.add(e),ui.cancelImmediate(this._frameId),this._frameId=ui.immediate(nA.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Jh().add(new go(new oe(this))))}}});var rA=(e,t)=>e.filter(n=>!t.includes(n));z(Sn,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let r=t;if(this._tryRetarget(e,r))return this;let i=new hn(this._stepper).to(r),o=Object.keys(r);return this.queue(function(){i=i.from(this.element()[e](o))},function(s){return this.element()[e](i.at(s).valueOf()),i.done()},function(s){let l=Object.keys(s),d=rA(l,o);if(d.length){let v=this.element()[e](d),m=new qn(i.from()).valueOf();Object.assign(m,v),i.from(m)}let h=new qn(i.to()).valueOf();Object.assign(h,s),i.to(h),o=l,r=s}),this._rememberMorpher(e,i),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new hn(this._stepper).to(new J(e));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),t),n.done()},function(r,i){t=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;let r=oe.isMatrixLike(e);n=e.affine!=null?e.affine:n??!r;let i=new hn(this._stepper).type(n?pl:oe),o,s,l,d,h;function v(){s=s||this.element(),o=o||As(e,s),h=new oe(t?void 0:s),s._addRunner(this),t||s._clearTransformRunnersBefore(this)}function m(_){t||this.clearTransform();let{x:S,y:T}=new Ne(o).transform(s._currentTransform(this)),k=new oe(Le(j({},e),{origin:[S,T]})),R=this._isDeclarative&&l?l:h;if(n){k=k.decompose(S,T),R=R.decompose(S,T);let pe=k.rotate,Oe=R.rotate,I=[pe-360,pe,pe+360],Se=I.map(In=>Math.abs(In-Oe)),Je=Math.min(...Se),ht=Se.indexOf(Je);k.rotate=I[ht]}t&&(r||(k.rotate=e.rotate||0),this._isDeclarative&&d&&(R.rotate=d)),i.from(R),i.to(k);let fe=i.at(_);return d=fe.rotate,l=new oe(fe),this.addTransform(l),s._addRunner(this),i.done()}function D(_){(_.origin||"center").toString()!==(e.origin||"center").toString()&&(o=As(_,s)),e=Le(j({},_),{origin:o})}return this.queue(v,m,D,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new J(t),this._tryRetarget(e,t))return this;let n=new hn(this._stepper).to(t),r=null;return this.queue(function(){r=this.element()[e](),n.from(r),n.to(r+t)},function(i){return this.element()[e](n.at(i)),n.done()},function(i){n.to(r+new J(i))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;let n=new hn(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(r){return this.element()[e](n.at(r)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new J(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,r){if(arguments.length===4)return this.plot([e,t,n,r]);if(this._tryRetarget("plot",e))return this;let i=new hn(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){i.from(this._element.array())},function(o){return this._element.plot(i.at(o)),i.done()}),this._rememberMorpher("plot",i),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,r){return this._queueObject("viewbox",new Be(e,t,n,r))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});z(Sn,{rx:Ps,ry:Fs,from:Gh,to:Wh});B(Sn,"Runner");var di=class extends Fe{constructor(t,n=t){super(K("svg",t),n),this.namespace()}defs(){return this.isRoot()?ft(this.node.querySelector("defs"))||this.put(new wr):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof Z.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ao,version:"1.1"}).attr("xmlns:xlink",_n,cl):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,cl).attr("xmlns:svgjs",null,cl)}root(){return this.isRoot()?this:super.root()}};F({Container:{nested:re(function(){return this.put(new di)})}});B(di,"Svg",!0);var fi=class extends Fe{constructor(t,n=t){super(K("symbol",t),n)}};F({Container:{symbol:re(function(){return this.put(new fi)})}});B(fi,"Symbol");var js={};vi(js,{amove:()=>pA,ax:()=>fA,ay:()=>hA,build:()=>mA,center:()=>dA,cx:()=>lA,cy:()=>uA,length:()=>oA,move:()=>cA,plain:()=>iA,x:()=>sA,y:()=>aA});function iA(e){return this._build===!1&&this.clear(),this.node.appendChild(Z.document.createTextNode(e)),this}function oA(){return this.node.getComputedTextLength()}function sA(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function aA(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function cA(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function lA(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function uA(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function dA(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function fA(e){return this.attr("x",e)}function hA(e){return this.attr("y",e)}function pA(e,t){return this.ax(e).ay(t)}function mA(e){return this._build=!!e,this}var lt=class extends ke{constructor(t,n=t){super(K("text",t),n),this.dom.leading=this.dom.leading??new J(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new J(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){let n=this,r=0,i=this.dom.leading;this.each(function(o){if(Ns(this.node))return;let s=Z.window.getComputedStyle(this.node).getPropertyValue("font-size"),l=i*new J(s);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=l:(this.attr("dy",o?l+r:0),r=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new J(t.leading||1.3),this}writeDataToDom(){return al(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){let n=this.node.childNodes,r=0;t="";for(let i=0,o=n.length;i<o;++i){if(n[i].nodeName==="textPath"||Ns(n[i])){i===0&&(r=i+1);continue}i!==r&&n[i].nodeType!==3&&ft(n[i]).dom.newLined===!0&&(t+=`
`),t+=n[i].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,r=t.length;n<r;n++)this.newLine(t[n])}return this.build(!1).rebuild()}};z(lt,js);F({Container:{text:re(function(e=""){return this.put(new lt).text(e)}),plain:re(function(e=""){return this.put(new lt).plain(e)})}});B(lt,"Text");var Ir=class extends ke{constructor(t,n=t){super(K("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;let t=this.parent();if(!(t instanceof lt))return this;let n=t.index(this),r=Z.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=t.dom.leading*new J(r);return this.dy(n?i:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}};z(Ir,js);F({Tspan:{tspan:re(function(e=""){let t=new Ir;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});B(Ir,"Tspan");var vo=class extends ke{constructor(t,n=t){super(K("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new J(t).divide(2))}};z(vo,{x:Lh,y:jh,cx:Vh,cy:$h,width:Bh,height:Uh});F({Container:{circle:re(function(e=0){return this.put(new vo).size(e).move(0,0)})}});B(vo,"Circle");var yo=class extends Fe{constructor(t,n=t){super(K("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return kt("svg [clip-path*="+this.id()+"]")}};F({Container:{clip:re(function(){return this.defs().put(new yo)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){let t=e instanceof yo?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});B(yo,"ClipPath");var Vs=class extends We{constructor(t,n=t){super(K("foreignObject",t),n)}};F({Container:{foreignObject:re(function(e,t){return this.put(new Vs).size(e,t)})}});B(Vs,"ForeignObject");var $s={};vi($s,{dmove:()=>gA,dx:()=>vA,dy:()=>yA,height:()=>bA,move:()=>wA,size:()=>xA,width:()=>DA,x:()=>CA,y:()=>_A});function gA(e,t){return this.children().forEach(n=>{let r;try{r=n.node instanceof Eh().SVGSVGElement?new Be(n.attr(["x","y","width","height"])):n.bbox()}catch{return}let i=new oe(n),o=i.translate(e,t).transform(i.inverse()),s=new Ne(r.x,r.y).transform(o);n.move(s.x,s.y)}),this}function vA(e){return this.dmove(e,0)}function yA(e){return this.dmove(0,e)}function bA(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function wA(e=0,t=0,n=this.bbox()){let r=e-n.x,i=t-n.y;return this.dmove(r,i)}function xA(e,t,n=this.bbox()){let r=Yt(this,e,t,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(s=>{let l=new Ne(n).transform(new oe(s).inverse());s.scale(i,o,l.x,l.y)}),this}function DA(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function CA(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function _A(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}var bo=class extends Fe{constructor(t,n=t){super(K("g",t),n)}};z(bo,$s);F({Container:{group:re(function(){return this.put(new bo)})}});B(bo,"G");var hi=class extends Fe{constructor(t,n=t){super(K("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,_n)}};z(hi,$s);F({Container:{link:re(function(e){return this.put(new hi).to(e)})},Element:{unlink(){let e=this.linker();if(!e)return this;let t=e.parent();if(!t)return this.remove();let n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new hi,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){let e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});B(hi,"A");var wo=class extends Fe{constructor(t,n=t){super(K("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return kt("svg [mask*="+this.id()+"]")}};F({Container:{mask:re(function(){return this.defs().put(new wo)})},Element:{masker(){return this.reference("mask")},maskWith(e){let t=e instanceof wo?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});B(wo,"Mask");var Bs=class extends We{constructor(t,n=t){super(K("stop",t),n)}update(t){return(typeof t=="number"||t instanceof J)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new J(t.offset)),this}};F({Gradient:{stop:function(e,t,n){return this.put(new Bs).update(e,t,n)}}});B(Bs,"Stop");function EA(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(let r in t)n+=gb(r)+":"+t[r]+";";return n+="}",n}var xo=class extends We{constructor(t,n=t){super(K("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,r={}){return this.rule("@font-face",j({fontFamily:t,src:n},r))}rule(t,n){return this.addText(EA(t,n))}};F("Dom",{style(e,t){return this.put(new xo).rule(e,t)},fontface(e,t,n){return this.put(new xo).font(e,t,n)}});B(xo,"Style");var Do=class extends lt{constructor(t,n=t){super(K("textPath",t),n)}array(){let t=this.track();return t?t.array():null}plot(t){let n=this.track(),r=null;return n&&(r=n.plot(t)),t==null?r:this}track(){return this.reference("href")}};F({Container:{textPath:re(function(e,t){return e instanceof lt||(e=this.text(e)),e.path(t)})},Text:{path:re(function(e,t=!0){let n=new Do;e instanceof pn||(e=this.defs().path(e)),n.attr("href","#"+e,_n);let r;if(t)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:re(function(e){return e instanceof lt||(e=new lt().addTo(this.parent()).text(e)),e.path(this)}),targets(){return kt("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});Do.prototype.MorphArray=Ct;B(Do,"TextPath");var Us=class extends ke{constructor(t,n=t){super(K("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,_n)}};F({Container:{use:re(function(e,t){return this.put(new Us).use(e,t)})}});B(Us,"Use");var ep=Ge;z([di,fi,Dr,En,Cr],bt("viewbox"));z([Wn,Xn,Yn,pn],bt("marker"));z(lt,bt("Text"));z(pn,bt("Path"));z(wr,bt("Defs"));z([lt,Ir],bt("Tspan"));z([Sr,xr,Gn,Sn],bt("radius"));z(Kt,bt("EventTarget"));z(Qt,bt("Dom"));z(We,bt("Element"));z(ke,bt("Shape"));z([Fe,zh],bt("Container"));z(Gn,bt("Gradient"));z(Sn,bt("Runner"));zn.extend(pb());Gb([J,at,Be,oe,Dt,ct,Ct,Ne]);Wb();var Xb=(()=>{class e{constructor(n){this.graphemesService=n}export(n=[]){n.length===0&&(n=this.graphemesService.graphemes),n=n.filter(S=>!S.deleted);let r=50,i=1/0,o=1/0,s=-1/0,l=-1/0,d=NaN,h=NaN,v=0,m=0;if(n.forEach(S=>{let T=this.graphemesService.calculateRotatedGraphemeFootprintOnCanas(S);T.minX<i&&(i=T.minX,d=i-r),T.minY<o&&(o=T.minY,h=o-r)}),n.forEach(S=>{let T=this.graphemesService.calculateRotatedGraphemeFootprintOnCanas(S);T.maxX>s&&(s=T.maxX,v=s-i+r*2),T.maxY>l&&(l=T.maxY,m=l-o+r*2)}),m=Math.ceil(m),v=Math.ceil(v),d=Math.floor(d),v===0||m===0){let S=ep().size(0,0);this.saveFile(S,"export.svg");return}let D=ep().size(v,m),_=[];n.forEach((S,T)=>{_.push(this.getGraphemeSvgStream(n,T))}),Promise.all(_).then(S=>{S.sort((k,R)=>R.index-k.index);let T=S.map(k=>{let R=n[k.index],fe=D.group();fe.svg(k.stream);let pe=R instanceof _e&&R.styleData.flipped||!1,Oe=0;R instanceof Ae&&(Oe=R.rotation),R instanceof _e&&(Oe=R.rotation);let I=this.generateTransformMatrix(R.x-d,R.y-h,R.offsetX,R.offsetY,Oe*(Math.PI/180),pe);if(fe.transform({a:I[0],b:I[1],c:I[2],d:I[3],e:I[4],f:I[5]}),R instanceof dt){let Se=R.attachs.map(Je=>this.getAttachSvgStream(Je).then(ht=>{let In=D.group();In.svg(ht.stream);let Ue=this.generateTransformMatrix(R.x-d,R.y-h,Je.offsetX,Je.offsetY,0,!1);In.transform({a:Ue[0],b:Ue[1],c:Ue[2],d:Ue[3],e:Ue[4],f:Ue[5]})}));return Promise.all(Se)}return Promise.resolve()});Promise.all(T).then(()=>{this.saveFile(D,"export.svg")})})}createIdentity(){return[1,0,0,1,0,0]}translateMatrix(n,r){return[1,0,0,1,n,r]}rotateMatrix(n){let r=Math.cos(n),i=Math.sin(n);return[r,i,-i,r,0,0]}scaleMatrix(n,r){return[n,0,0,r,0,0]}multiplyMatrices(n,r){let[i,o,s,l,d,h]=n,[v,m,D,_,S,T]=r;return[i*v+s*m,o*v+l*m,i*D+s*_,o*D+l*_,i*S+s*T+d,o*S+l*T+h]}generateTransformMatrix(n,r,i,o,s,l){let d=this.translateMatrix(-i,-o),h=l?this.scaleMatrix(-1,1):this.createIdentity(),v=this.rotateMatrix(s),m=this.translateMatrix(n,r);return this.multiplyMatrices(m,this.multiplyMatrices(v,this.multiplyMatrices(h,d)))}getGraphemeSvgStream(n,r){return fetch(n[r].src).then(i=>i.text()).then(i=>({index:r,stream:i}))}getAttachSvgStream(n){return fetch(n.src).then(r=>r.text()).then(r=>({id:n.id,stream:r}))}saveFile(n,r="export.svg"){let i=n.svg(),o=new Blob([i],{type:"image/svg+xml"}),s=URL.createObjectURL(o),l=document.createElement("a");l.href=s,l.download=r,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(s)}static{this.\u0275fac=function(r){return new(r||e)(ye(oo))}}static{this.\u0275prov=X({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var IA=["designerCanvas"],MA=["addGraphemeButton"],TA=["panelTopButtonsContainer"],AA=["addTypeMenu"],NA=["addAttachMenu"],OA=["mainSelectionBoundingBox"],kA=["addAttachToolbarButton"],RA=["panelLayerAddAttachButton"],PA=(e,t)=>({"panel-layer-main-selection":e,"panel-layer-secondary-selection":t}),tp=e=>({"panel-layer-input-dragging":e});function FA(e,t){if(e&1){let n=dn();V(0,"div",36)(1,"div",37),Bn(2,"rot:"),W(),V(3,"input",38),nt("input",function(i){Ye(n);let o=$(2).index,s=$();return Xe(s.onLayerFieldInput(i,"rot",o))})("change",function(i){Ye(n);let o=$(2).index,s=$();return Xe(s.onLayerFieldChange(i,"rot",o))}),W(),V(4,"div",50),Bn(5,"\xB0"),W()()}if(e&2){let n=$(2),r=n.$implicit,i=n.index,o=$();Ce("inputType","rot"),q(3),xn("value",r.rotation),Q("disabled",o.draggingLayerField)("ngClass",Nc(5,tp,o.draggingLayerField)),Ce("index",i)}}function LA(e,t){e&1&&(ze(),V(0,"svg",51),ie(1,"defs",43)(2,"path",52)(3,"path",53)(4,"path",54)(5,"path",55)(6,"path",56)(7,"path",57),W())}function jA(e,t){e&1&&(ze(),V(0,"svg",51),ie(1,"defs",43)(2,"path",58)(3,"path",59)(4,"path",60)(5,"path",61)(6,"path",62)(7,"path",63),W())}function VA(e,t){if(e&1){let n=dn();V(0,"button",40),nt("click",function(){Ye(n);let i=$(2).index,o=$();return o.toggleGraphemeFlipWithUndo(i),Xe(o.renderGrapheme(i))}),Te(1,LA,8,0,":svg:svg",51)(2,jA,8,0),W()}if(e&2){let n=$(2).$implicit;q(),yt(1,n.styleData.flipped?2:1)}}function $A(e,t){e&1&&(ze(),V(0,"svg",51),ie(1,"defs",43)(2,"path",52)(3,"path",53)(4,"path",54)(5,"path",55)(6,"path",56)(7,"path",57),W())}function BA(e,t){e&1&&(ze(),V(0,"svg",51),ie(1,"defs",43)(2,"path",58)(3,"path",59)(4,"path",60)(5,"path",61)(6,"path",62)(7,"path",63),W())}function UA(e,t){if(e&1){let n=dn();V(0,"button",40),nt("click",function(){Ye(n);let i=$(3).index,o=$();return o.toggleLocationGraphemeFlipWithUndo(i),Xe(o.renderGrapheme(i))}),Te(1,$A,8,0,":svg:svg",51)(2,BA,8,0),W()}if(e&2){let n=$(3).$implicit;q(),yt(1,n.id==2||n.id===4?1:2)}}function HA(e,t){if(e&1){let n=dn();V(0,"button",40,3),nt("click",function(){Ye(n);let i=$(4).index,o=$();return Xe(o.onPanelLayerAddAttach(i))}),ze(),V(2,"svg",64),ie(3,"defs",43)(4,"path",65)(5,"path",66),W()()}if(e&2){let n=$(4).index;Ce("index",n)}}function zA(e,t){if(e&1&&Te(0,HA,6,1,"button",39),e&2){let n=$(3).$implicit;yt(0,n.type==="head"?0:-1)}}function GA(e,t){if(e&1&&Te(0,UA,3,1,"button",39)(1,zA,1,1),e&2){let n=$(2).$implicit;yt(0,n.type==="location"&&n.id>=2&&n.id<=5?0:1)}}function WA(e,t){e&1&&(ze(),V(0,"svg",41),ie(1,"defs",43)(2,"rect",67)(3,"rect",68)(4,"path",69),W())}function qA(e,t){e&1&&(ze(),V(0,"svg",41),ie(1,"defs",43)(2,"rect",67)(3,"path",70),W())}function YA(e,t){if(e&1){let n=dn();V(0,"div",29)(1,"div",30),ie(2,"img",31),W(),V(3,"div",32)(4,"div",33)(5,"div",34),Bn(6),W()(),V(7,"div",35)(8,"div",36)(9,"div",37),Bn(10,"x:"),W(),V(11,"input",38),nt("input",function(i){Ye(n);let o=$().index,s=$();return Xe(s.onLayerFieldInput(i,"x",o))})("change",function(i){Ye(n);let o=$().index,s=$();return Xe(s.onLayerFieldChange(i,"x",o))}),W()(),V(12,"div",36)(13,"div",37),Bn(14,"y:"),W(),V(15,"input",38),nt("input",function(i){Ye(n);let o=$().index,s=$();return Xe(s.onLayerFieldInput(i,"y",o))})("change",function(i){Ye(n);let o=$().index,s=$();return Xe(s.onLayerFieldChange(i,"y",o))}),W()(),Te(16,FA,6,7,"div",36)(17,VA,3,1,"button",39)(18,GA,2,1),V(19,"button",40),nt("click",function(){Ye(n);let i=$().index,o=$();return o.toggleGraphemeLockWithUndo(i),Xe(o.renderGrapheme(i))}),Te(20,WA,5,0,":svg:svg",41)(21,qA,4,0),W(),V(22,"button",40),nt("click",function(){Ye(n);let i=$().index,o=$();return Xe(o.deleteGraphemeWithUndo(i))}),ze(),V(23,"svg",42),ie(24,"defs",43)(25,"path",44)(26,"path",45)(27,"rect",46)(28,"path",47)(29,"path",48)(30,"path",49),W()()()()()}if(e&2){let n=$(),r=n.$implicit,i=n.index,o=$();Q("ngClass",jy(17,PA,o.mainSelection==i,o.mainSelection!=i&&o.selectedGraphemes.includes(i))),Ce("index",i),q(2),xn("src",r.src,dr),q(4),os(" ",r.name," "),q(2),Ce("inputType","x"),q(3),xn("value",r.x),Q("disabled",o.draggingLayerField)("ngClass",Nc(20,tp,o.draggingLayerField)),Ce("index",i),q(),Ce("inputType","y"),q(3),xn("value",r.y),Q("disabled",o.draggingLayerField)("ngClass",Nc(22,tp,o.draggingLayerField)),Ce("index",i),q(),yt(16,r.rotatable?16:-1),q(),yt(17,r.flippable?17:18),q(3),yt(20,r.locked?21:20)}}function XA(e,t){if(e&1&&(Hi(0),Te(1,YA,31,24,"div",28),zi()),e&2){let n=t.$implicit;q(),Q("ngIf",!n.deleted)}}function KA(e,t){if(e&1&&(ze(),V(0,"svg",71),ie(1,"path",72),W()),e&2){let n=$();Q("ngStyle",n.rotationLineStyle),Ce("height",n.rotationLineHeight),q(),Ce("d","M 1,0 V "+n.rotationLineHeight)}}function QA(e,t){if(e&1&&(V(0,"div",75),ie(1,"img",76),W()),e&2){let n=$(),r=n.$implicit,i=n.index;Q("ngStyle",r.style),Ce("index",i),q(),xn("src",r.src,dr),Ce("index",i)}}function ZA(e,t){if(e&1&&(Hi(0),V(1,"div",77),ie(2,"img",76),W(),zi()),e&2){let n=t.$implicit,r=$(2).index;q(),Q("ngStyle",n.style),Ce("index",r)("attachId",n.id),q(),xn("src",n.src,dr),Ce("index",r)}}function JA(e,t){if(e&1&&(Hi(0),Te(1,ZA,3,5,"ng-container",21),zi()),e&2){let n=$().$implicit;q(),Q("ngForOf",n.attachs)}}function eN(e,t){if(e&1&&(Hi(0,null,4),Te(2,QA,2,4,"div",73)(3,JA,2,1,"ng-container",74),zi()),e&2){let n=t.$implicit;q(2),Q("ngIf",!n.deleted),q(),Q("ngIf",!n.deleted&&n.type==="head")}}function tN(e,t){if(e&1&&ie(0,"div",78),e&2){let n=$();Q("ngStyle",n.xAxisStyle)}}function nN(e,t){if(e&1&&ie(0,"div",79),e&2){let n=$();Q("ngStyle",n.yAxisStyle)}}function rN(e,t){if(e&1&&ie(0,"div",80,5),e&2){let n=$(2),r=n.$implicit,i=n.index;Q("ngStyle",r.selectionBoundingBox),Ce("index",i)}}function iN(e,t){if(e&1&&Te(0,rN,2,2,"div",83),e&2){let n=$().$implicit;Q("ngIf",!n.deleted)}}function oN(e,t){if(e&1&&ie(0,"div",84),e&2){let n=$(3),r=n.$implicit,i=n.index;Q("ngStyle",r.selectionBoundingBox),Ce("index",i)}}function sN(e,t){if(e&1&&Te(0,oN,1,2,"div",85),e&2){let n=$(2).$implicit;Q("ngIf",!n.deleted)}}function aN(e,t){if(e&1&&Te(0,sN,1,1,"div",84),e&2){let n=$().index,r=$();yt(0,r.selectedGraphemes.includes(n)?0:-1)}}function cN(e,t){e&1&&ie(0,"div")}function lN(e,t){if(e&1&&(V(0,"div",88,8),ze(),V(2,"svg",89),ie(3,"defs",43)(4,"path",90)(5,"path",91)(6,"path",92),W()(),mc(),V(7,"div",93),ze(),V(8,"svg",89),ie(9,"defs",43)(10,"path",90)(11,"rect",94)(12,"path",95),W()(),mc(),V(13,"div",96),ze(),V(14,"svg",89),ie(15,"defs",43)(16,"path",90)(17,"path",97)(18,"path",98)(19,"rect",99)(20,"path",100)(21,"path",101)(22,"path",102),W()()),e&2){let n=$(4).index;Ce("index",n),q(7),Ce("index",n),q(6),Ce("index",n)}}function uN(e,t){if(e&1&&(V(0,"div",103),ze(),V(1,"svg",89),ie(2,"path",104)(3,"path",105)(4,"path",106),W()()),e&2){let n=$(5).index;Ce("index",n)}}function dN(e,t){if(e&1&&(V(0,"div",107),ze(),V(1,"svg",89),ie(2,"defs",43)(3,"path",90)(4,"path",108)(5,"path",109)(6,"path",110)(7,"path",111)(8,"path",112)(9,"path",113),W()()),e&2){let n=$(6).index;Ce("index",n)}}function fN(e,t){if(e&1&&(V(0,"div",107),ze(),V(1,"svg",89),ie(2,"defs",43)(3,"path",90)(4,"path",114)(5,"path",109)(6,"path",110)(7,"path",111)(8,"path",115)(9,"path",116),W()()),e&2){let n=$(6).index;Ce("index",n)}}function hN(e,t){if(e&1&&Te(0,dN,10,1,"div",107)(1,fN,10,1),e&2){let n=$(5).$implicit;yt(0,n.styleData.flipped?0:1)}}function pN(e,t){if(e&1&&(Te(0,uN,5,1,"div",103)(1,hN,2,1),V(2,"div",93),ze(),V(3,"svg",89),ie(4,"defs",43)(5,"path",90)(6,"rect",94)(7,"path",95),W()(),mc(),V(8,"div",96),ze(),V(9,"svg",89),ie(10,"defs",43)(11,"path",90)(12,"path",97)(13,"path",98)(14,"rect",99)(15,"path",100)(16,"path",101)(17,"path",102),W()()),e&2){let n=$(4),r=n.$implicit,i=n.index;yt(0,r.rotatable?0:-1),q(),yt(1,r.flippable?1:-1),q(),Ce("index",i),q(6),Ce("index",i)}}function mN(e,t){if(e&1&&Te(0,lN,23,3)(1,pN,18,4),e&2){let n=$(3).$implicit;yt(0,n.type==="head"?0:1)}}function gN(e,t){if(e&1&&(V(0,"div",117),ze(),V(1,"svg",89),ie(2,"defs",43)(3,"path",90)(4,"path",97)(5,"path",98)(6,"rect",99)(7,"path",100)(8,"path",101)(9,"path",102),W()()),e&2){let n=$(3).index;Ce("index",n)}}function vN(e,t){if(e&1&&Te(0,mN,2,1)(1,gN,10,1),e&2){let n=$(3);yt(0,n.attachSelection===-1?0:1)}}function yN(e,t){if(e&1&&(V(0,"div",93),ze(),V(1,"svg",89),ie(2,"defs",43)(3,"path",90)(4,"rect",94)(5,"path",118),W()()),e&2){let n=$(2).index;Ce("index",n)}}function bN(e,t){if(e&1&&(V(0,"div",86),Te(1,cN,1,0,"div",87)(2,vN,2,1,"ng-template",null,6,uf)(4,yN,6,1,"ng-template",null,7,uf),W()),e&2){let n=lf(3),r=lf(5),i=$(),o=i.$implicit,s=i.index;Q("ngStyle",o.toolbar),Ce("index",s),q(),Q("ngIf",!o.locked)("ngIfThen",n)("ngIfElse",r)}}function wN(e,t){if(e&1&&(V(0,"div",119),ze(),V(1,"svg",120),ie(2,"defs",121),V(3,"g",122),ie(4,"circle",123)(5,"path",124)(6,"path",125)(7,"path",126)(8,"path",127),W()()()),e&2){let n=$(),r=n.$implicit,i=n.index;Q("ngStyle",r.center),Ce("index",i)}}function xN(e,t){if(e&1&&(V(0,"div"),Te(1,iN,1,1,"div",80)(2,aN,1,1)(3,bN,6,5,"div",81)(4,wN,9,2,"div",82),W()),e&2){let n=t.$implicit,r=t.index,i=$();q(),yt(1,r===i.mainSelection?1:2),q(2),Q("ngIf",i.mainSelection==r&&!i.keyboardTransformMode),q(),Q("ngIf",i.mainSelection==r&&n.rotatable)}}function DN(e,t){if(e&1&&(V(0,"div",128,9),ie(2,"app-add-type",129),W()),e&2){let n=$();Q("ngStyle",n.addMenuStyle),q(2),Q("onAdd",n.onMenuAddGrapheme)("width",n.addMenuWidth+"px")}}function CN(e,t){if(e&1&&(V(0,"div",128,10),ie(2,"app-add-menu",130),W()),e&2){let n=$();Q("ngStyle",n.addMenuStyle),q(2),Q("onAdd",n.onMenuAddAttach)("width",n.addMenuWidth+"px")("height",n.addAttachMenuHeight+"px")("type","attach")}}var Kb=(()=>{class e{onResize(){this.renderUI(),this.cdr.detectChanges(),this.adaptCanvasToView(),this.panCanvasCenterTo(this.canvasCenterX,this.canvasCenterY),this.renderAllGraphemes()}constructor(n,r,i,o,s){this.graphemesService=n,this.undoService=r,this.exportService=i,this.renderer2=o,this.cdr=s,this.title="ser-libras-sign-designer",this.mainSelection=-1,this.attachSelection=-1,this.selectedGraphemes=[],this.scale=1,this.canvasViewOffsetX=0,this.canvasViewOffsetY=0,this.canvasCenterX=NaN,this.canvasCenterY=NaN,this.preferredPanelSize=NaN,this.rotating=!1,this.actions=[],this.addGraphemeMenuOpen=!1,this.addAttachMenuOpen=!1,this.draggingLayerField=!1,this.addAttachMenuHeight=NaN,this.unlisteners=[],this.mouseX=0,this.mouseY=0,this.allowXMotion=!0,this.allowYMotion=!0,this.unconstrainedX=0,this.unconstrainedY=0,this.xAxisStyle={top:"0px"},this.yAxisStyle={left:"0px"},this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.keyboardRotating=!1,this.rotationSnapKeyDownUnlistener=null,this.rotationSnapKeyUpUnlistener=null,this.canvasStyle={width:"auto",height:"auto",top:"auto",left:"auto",bottom:"auto"},this.panelStyle={width:"auto",height:"auto",top:"auto",left:"auto",right:"auto",bottom:"auto","box-shadow":"none",display:"none"},this.panelResizeBorderStyle={width:"auto",height:"auto",top:"auto",right:"auto",bottom:"auto",cursor:"auto"},this.panelLayersStyle={height:"auto"},this.panelMode="",this.addMenuStyle={top:"auto",left:"auto",right:"auto"},this.addMenuWidth=300,this.onMenuAddGrapheme=(l,d)=>{switch(d){case"handconf":this.addHandconfGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY,0,!1),this.selectLastGrapheme();break;case"faceexp":this.addFaceexpHeadGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"location":this.graphemesService.locationAddList[l].type==="location"?this.addLocationGraphemeWithUndo(this.graphemesService.locationAddList[l].id,this.canvasCenterX,this.canvasCenterY):this.addLocationHeadGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"movement":this.addMovementGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"plane":this.addPlaneGraphemeWithUndo(l,this.canvasCenterX,this.canvasCenterY),this.selectLastGrapheme();break;case"attach":this.onMenuAddAttach(l,d);break;default:throw new Error("Invalid grapheme type.")}this.renderAllGraphemes(),this.closeAddGraphemeMenu()},this.onMenuAddAttach=(l,d)=>{if(d!=="attach")throw new Error("Can only add attach on onMenuAddAttach method.");this.addAttachWithUndo(this.mainSelection,l),this.renderMainSelection(),this.closeAddAttachMenu()},this.rotationLineHeight=0,this.rotationLineStyle={transform:"rotate(0deg)",top:"0px",left:"0px"},this.originalCanvasWidth=-1,this.originalCanvasHeight=-1}ngOnInit(){if(typeof document<"u"){window.addEventListener("contextmenu",m=>{m.preventDefault(),m.stopPropagation()});let n=!1;(0,Zt.default)(".draggable").draggable({listeners:{start:m=>{n=!0;let D=parseInt(m.target.getAttribute("index"));this.graphemesService.graphemes[D].locked||(this.selectedGraphemes.includes(D)||m.ctrlKey?this.selectMultipleGraphemes(D,!1):this.selectOneGrapheme(D,!1),this.actions=[],this.selectedGraphemes.forEach(_=>{this.graphemesService.graphemes[_].locked||this.actions.push({index:_,type:"move",data:{fromX:this.graphemesService.graphemes[_].x,fromY:this.graphemesService.graphemes[_].y}})}))},move:m=>{let D=parseInt(m.target.getAttribute("index"));this.graphemesService.graphemes[D].locked?(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.renderAllGraphemes()):this.selectedGraphemes.forEach((_,S)=>{if(this.graphemesService.graphemes[_].locked)this.deselectGrapheme(_);else{let T=this.graphemesService.graphemes[_].x,k=this.graphemesService.graphemes[_].y;T+=m.dx/this.scale,k+=m.dy/this.scale,this.graphemesService.graphemes[_].move(T,k),this.renderGrapheme(_)}})},end:m=>{n=!1,this.actions.forEach(D=>{"fromX"in D.data&&"fromY"in D.data&&(D.data.toX=this.graphemesService.graphemes[D.index].x,D.data.toY=this.graphemesService.graphemes[D.index].y)}),this.undoService.push(this.actions),this.actions=[]}}}).on("tap",m=>{if(!this.keyboardTransformMode&&m.dt<500){let D=parseInt(m.target.getAttribute("index")),_=-1;if(m.ctrlKey?(_=this.mainSelection,this.selectMultipleGraphemes(D)):(_=this.mainSelection,this.selectOneGrapheme(D)),m.target.closest(".attach")!==null){if(_===this.mainSelection){let S=parseInt(m.target.closest(".attach").getAttribute("attachId"));this.attachSelection!==S||this.mainSelection!==D?this.attachSelection=S:this.attachSelection=-1,this.renderGrapheme(D)}}else this.attachSelection=-1,this.renderGrapheme(D)}m.stopPropagation()}).on("hold",m=>{let D=parseInt(m.target.getAttribute("index"));this.selectMultipleGraphemes(D),m.stopPropagation(),m.preventDefault()}).gesturable({listeners:{move:m=>{n||(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.zoom(1+m.ds,m.clientX,m.clientY),this.renderAllGraphemes()),m.preventDefault(),m.stopPropagation()}}});let r={x:0,y:0},i=0,o=0;(0,Zt.default)(".rotation-handle").draggable({listeners:{start:m=>{n=!0,this.rotating=!0,this.actions=[],this.selectedGraphemes.forEach(D=>{let _=this.graphemesService.graphemes[D];_.rotatable&&!_.locked&&this.actions.push({index:D,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[D].rotation}})}),r=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y),i=Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI,this.renderRotationLine(m.clientX,m.clientY,r.x,r.y),this.rotationSnapKeyDownUnlistener=this.renderer2.listen("document","keydown",D=>{this.keyDownRotationHandler(D,i,r)}),this.rotationSnapKeyUpUnlistener=this.renderer2.listen("document","keyup",D=>{this.keyUpRotationHandler(D,i,r)}),m.stopPropagation()},move:m=>{let D=0,_=NaN;m.ctrlKey?_=5:m.shiftKey&&(_=45),isNaN(_)?D=Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI:D=Math.round(Math.atan2(m.clientY-r.y,m.clientX-r.x)*180/Math.PI/_)*_,o=D-i,this.actions.forEach(S=>{"oldAngle"in S.data&&!this.graphemesService.graphemes[S.index].locked&&(this.graphemesService.graphemes[S.index]instanceof _e?this.graphemesService.graphemes[S.index].setRotation(S.data.oldAngle+o):this.graphemesService.graphemes[S.index]instanceof Ae&&this.graphemesService.graphemes[S.index].setRotation(S.data.oldAngle+o)),this.renderGrapheme(S.index)}),this.renderRotationLine(m.clientX,m.clientY,r.x,r.y),m.stopPropagation()},end:m=>{n=!1,this.rotating=!1,this.actions.forEach(D=>{"oldAngle"in D.data&&(D.data.newAngle=this.graphemesService.graphemes[D.index].rotation)}),this.undoService.push(this.actions),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.(),m.stopPropagation()}}}).on("tap",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{if(this.graphemesService.graphemes[D].rotatable&&!this.graphemesService.graphemes[D].locked){let _=this.graphemesService.graphemes[D].rotation,S=NaN;m.shiftKey?S=45:S=5;let T=Math.floor((_+S)/S)*S;if(this.graphemesService.graphemes[D]instanceof _e)this.graphemesService.graphemes[D].setRotation(T);else if(this.graphemesService.graphemes[D]instanceof Ae)this.graphemesService.graphemes[D].setRotation(T);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(D),this.actions.push({index:D,type:"changeAngle",data:{oldAngle:_,newAngle:T}})}}),this.undoService.push(this.actions),this.actions=[],m.stopPropagation()}).on("hold",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{if(this.graphemesService.graphemes[D].rotatable&&!this.graphemesService.graphemes[D].locked){let _=this.graphemesService.graphemes[D].rotation,S=Math.floor((_+45)/45)*45;if(this.graphemesService.graphemes[D]instanceof _e)this.graphemesService.graphemes[D].setRotation(S);else if(this.graphemesService.graphemes[D]instanceof Ae)this.graphemesService.graphemes[D].setRotation(S);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(D),this.actions.push({index:D,type:"changeAngle",data:{oldAngle:_,newAngle:S}})}}),this.undoService.push(this.actions),this.actions=[]}).styleCursor(!1),(0,Zt.default)(".flip-button").on("tap",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{if(!this.graphemesService.graphemes[D].locked){if(this.graphemesService.graphemes[D].flippable){if(this.graphemesService.graphemes[D]instanceof _e)this.graphemesService.graphemes[D].toggleFlipped(),this.selectedGraphemes.forEach(_=>{this.actions.push({index:_,type:"flip",data:{newFlip:this.graphemesService.graphemes[_].styleData.flipped}})});else if(this.graphemesService.graphemes[D]instanceof Ae)this.graphemesService.graphemes[D].toggleFlipped(),this.selectedGraphemes.forEach(_=>{this.actions.push({index:_,type:"flip",data:{newFlip:this.graphemesService.graphemes[_].styleData.flipped}})});else throw new Error("Only handconf and movement graphemes can be flipped.");this.renderGrapheme(D)}m.stopPropagation()}}),this.undoService.push(this.actions),this.actions=[]}).styleCursor(!1),(0,Zt.default)(".lock-button").on("tap",m=>{this.actions=[];let D=this.graphemesService.graphemes[this.mainSelection].toggleLocked();this.renderGrapheme(this.mainSelection),this.actions.push({index:this.mainSelection,type:"lock",data:{newLock:D}}),this.selectedGraphemes.forEach(_=>{_!==this.mainSelection&&(this.graphemesService.graphemes[_].setLocked(D),this.renderGrapheme(_),this.actions.push({index:_,type:"lock",data:{newLock:D}}))}),this.undoService.push(this.actions),this.actions=[],m.stopPropagation()}).styleCursor(!1),(0,Zt.default)(".delete-button").on("tap",m=>{this.actions=[],this.selectedGraphemes.forEach(D=>{this.graphemesService.graphemes[D].locked||(this.graphemesService.deleteGrapheme(D),this.actions.push({type:"delete",index:D,data:{}}),this.deselectGrapheme(D),this.designerCanvas.nativeElement.focus())}),this.undoService.push(this.actions),this.actions=[]}).styleCursor(!1),(0,Zt.default)(".add-attach-button").on("tap",m=>{if(m.stopPropagation(),this.addAttachMenuOpen)this.closeAddAttachMenu();else{let D=this.addAttachToolbarButton.nativeElement.getBoundingClientRect();this.openAddAttachMenu(D.right,D.top)}this.cdr.detectChanges()}).styleCursor(!1),(0,Zt.default)(".delete-attach-button").on("tap",m=>{this.removeAttachWithUndo(this.mainSelection,this.attachSelection),this.attachSelection=-1,this.renderMainSelection(),m.stopPropagation()}).styleCursor(!1),(0,Zt.default)(".designer-canvas").draggable({listeners:{move:m=>{!n&&!this.keyboardTransformMode&&(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.renderAllGraphemes())}}}).on("tap",m=>{this.keyboardTransformMode||(this.selectOneGrapheme(-1),window.focus())}).gesturable({listeners:{move:m=>{n||(this.panCanvas(m.dx/this.scale,m.dy/this.scale),this.zoom(1+m.ds,m.clientX,m.clientY),this.renderAllGraphemes())}}}).styleCursor(!1),(0,Zt.default)(".panel-resize-border").draggable({listeners:{start:m=>{n=!0},move:m=>{this.panelMode==="portrait"?this.preferredPanelSize-=m.dy:this.panelMode==="landscape"&&(this.preferredPanelSize-=m.dx),this.renderUI(),this.cdr.detectChanges(),this.adaptCanvasToView(),this.renderAllGraphemes()},end:m=>{n=!1}}}).styleCursor(!1),(0,Zt.default)(".panel-layer").on("tap",m=>{if(!this.keyboardTransformMode&&m.dt<500){let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));m.ctrlKey?this.selectMultipleGraphemes(D):this.selectOneGrapheme(D)}}).on("hold",m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));this.selectMultipleGraphemes(D)}).on("doubletap",m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));this.lookAtGrapheme(D)}).styleCursor(!1);let s=NaN,l=NaN,d=NaN,h=NaN,v;(0,Zt.default)(".panel-layer-field").draggable({listeners:{start:m=>{n=!0,this.draggingLayerField=!0;let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));v=m.target.getAttribute("inputType"),l=this.graphemesService.graphemes[D].x,d=this.graphemesService.graphemes[D].y,h=this.graphemesService.graphemes[D].rotation,s=m.clientX,this.actions=[],v==="x"||v==="y"?this.actions=[{index:D,type:"move",data:{fromX:l,fromY:d}}]:v==="rot"&&(this.actions=[{index:D,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[D].rotation}}])},move:m=>{let D=parseInt(m.target.closest(".panel-layer").getAttribute("index"));if(v==="x"||v==="y")v==="x"?this.graphemesService.graphemes[D].move(l+(m.clientX-s)/this.scale,d):v==="y"&&this.graphemesService.graphemes[D].move(l,d+(m.clientX-s)/this.scale),"toX"in this.actions[0]&&"toY"in this.actions[0].data&&(v==="x"?this.actions[0].data.toX=this.graphemesService.graphemes[D].x:v==="y"&&(this.actions[0].data.toY=this.graphemesService.graphemes[D].y));else if(v==="rot"){let _=h+(m.clientX-s)/5;if(this.graphemesService.graphemes[D]instanceof _e)this.graphemesService.graphemes[D].setRotation(_);else if(this.graphemesService.graphemes[D]instanceof Ae)this.graphemesService.graphemes[D].setRotation(_);else throw new Error("Only handconf and movement graphemes can be rotated.");"oldAngle"in this.actions[0].data&&(this.actions[0].data.newAngle=_)}this.renderGrapheme(D)},end:m=>{n=!1,this.draggingLayerField=!1,v==="x"||v==="y"?"toX"in this.actions[0].data&&"fromX"in this.actions[0].data&&"toY"in this.actions[0].data&&"fromY"in this.actions[0].data&&(this.actions[0].data.toX!=this.actions[0].data.fromX||this.actions[0].data.toY!=this.actions[0].data.fromY)&&this.undoService.push(this.actions):v==="rot"&&"oldAngle"in this.actions[0].data&&"newAngle"in this.actions[0].data&&this.actions[0].data.oldAngle!=this.actions[0].data.newAngle&&this.undoService.push(this.actions),this.actions=[]}}}).styleCursor(!1)}}ngAfterViewInit(){typeof document<"u"&&(window.innerHeight>window.innerWidth?this.preferredPanelSize=window.innerHeight*.6:this.preferredPanelSize=window.innerWidth*.3,this.renderUI(),this.adaptCanvasToView(),this.panCanvasTo(0,0),this.addHandconfGraphemeWithUndo(2,400,this.canvasCenterY,0,!1),this.addHandconfGraphemeWithUndo(12,1100,this.canvasCenterY,0,!0),this.addHandconfGraphemeWithUndo(14,1600,this.canvasCenterY,0,!1)),this.renderAllGraphemes();let n=r=>{!this.addGraphemeMenuOpen&&!this.addAttachMenuOpen&&this.clientCoordinateOverCanvas(r.clientX,r.clientY)&&(r.ctrlKey?(this.zoom(r.deltaY>0?.95:1.05,r.clientX,r.clientY),this.renderAllGraphemes()):r.shiftKey?(this.panCanvas(-r.deltaY/this.scale,0),this.renderAllGraphemes()):(this.panCanvas(-r.deltaX/this.scale,-r.deltaY/this.scale),this.renderAllGraphemes()),r.preventDefault())};if(typeof document<"u"){document?.addEventListener("wheel",n,{passive:!1}),this.unlisteners.push(()=>{document?.removeEventListener("wheel",n)});let r=!1,i=0,o=0;this.unlisteners.push(this.renderer2.listen("document","mousedown",h=>{h.button===1&&this.clientCoordinateOverCanvas(h.clientX,h.clientY)&&(r=!0,i=h.clientX,o=h.clientY,h.preventDefault())}));let s=0,l=0,d=0;this.unlisteners.push(this.renderer2.listen("document","mousemove",h=>{if(r&&(this.panCanvas((h.clientX-i)/this.scale,(h.clientY-o)/this.scale),i=h.clientX,o=h.clientY,this.renderAllGraphemes()),this.mouseX=h.clientX,this.mouseY=h.clientY,this.keyboardRotating){let v=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y),D=Math.atan2(this.mouseY-v.y,this.mouseX-v.x)*180/Math.PI-s;this.actions.forEach(_=>{if(!this.graphemesService.graphemes[_.index].locked&&"oldAngle"in _.data){let S=0;if(h.ctrlKey?S=Math.round((_.data.oldAngle+D)/5)*5:S=_.data.oldAngle+D,this.graphemesService.graphemes[_.index]instanceof _e)this.graphemesService.graphemes[_.index].setRotation(S);else if(this.graphemesService.graphemes[_.index]instanceof Ae)this.graphemesService.graphemes[_.index].setRotation(S);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(_.index)}}),this.renderRotationLine(this.mouseX,this.mouseY,v.x,v.y)}if(this.keyboardMoving){let v=this.mouseX-l,m=this.mouseY-d;this.actions.forEach(D=>{this.graphemesService.graphemes[D.index].locked||(this.moveGraphemeWithConstraints(D,v,m),this.renderGrapheme(D.index))})}})),this.unlisteners.push(this.renderer2.listen("document","mouseup",h=>{h.button===1&&r&&(r=!1),this.keyboardRotating&&(h.button===2?(this.cancelKeyboardRotation(),h.preventDefault(),h.stopPropagation()):h.button===0&&(this.applyKeyboardRotation(),h.preventDefault(),h.stopPropagation())),this.keyboardMoving&&(h.button===2?(this.cancelKeyboardMoving(),h.preventDefault(),h.stopPropagation()):h.button===0&&(this.applyKeyboardMoving(),h.preventDefault(),h.stopPropagation())),h.button===0&&(this.addGraphemeMenuOpen&&!this.addGraphemeButton.nativeElement.contains(h.target)&&!this.addTypeMenu.nativeElement.contains(h.target)&&this.closeAddGraphemeMenu(),this.addAttachMenuOpen&&!this.addAttachMenu.nativeElement.contains(h.target)&&h.target.closest(".add-attach-button")===null&&this.closeAddAttachMenu())})),this.unlisteners.push(this.renderer2.listen("document","keyup",h=>{if(h.target===document.body)if(h.key==="g"||h.key==="G"||h.key==="m"||h.key==="M")this.selectedGraphemes.length>0&&(this.keyboardRotating&&this.cancelKeyboardRotation(),this.keyboardTransformMode=!0,this.keyboardMoving=!0,this.allowXMotion=!0,this.allowYMotion=!0,l=this.mouseX,d=this.mouseY,this.actions=[],this.selectedGraphemes.forEach(v=>{this.actions.push({index:v,type:"move",data:{fromX:this.graphemesService.graphemes[v].x,fromY:this.graphemesService.graphemes[v].y}})}));else if(h.key==="x"||h.key==="X")this.keyboardTransformMode&&this.keyboardMoving&&(this.allowXMotion&&this.allowYMotion?(this.allowXMotion=!0,this.allowYMotion=!1):this.allowXMotion&&!this.allowYMotion?(this.allowXMotion=!0,this.allowYMotion=!0):!this.allowXMotion&&this.allowYMotion&&(this.allowXMotion=!0,this.allowYMotion=!1),this.actions.forEach(v=>{this.moveGraphemeWithConstraints(v,this.mouseX-l,this.mouseY-d),this.renderGrapheme(v.index)}));else if(h.key==="y"||h.key==="Y")this.keyboardTransformMode&&this.keyboardMoving&&(this.allowXMotion&&this.allowYMotion?(this.allowXMotion=!1,this.allowYMotion=!0):this.allowXMotion&&!this.allowYMotion?(this.allowXMotion=!1,this.allowYMotion=!0):!this.allowXMotion&&this.allowYMotion&&(this.allowXMotion=!0,this.allowYMotion=!0),this.actions.forEach(v=>{this.moveGraphemeWithConstraints(v,this.mouseX-l,this.mouseY-d),this.renderGrapheme(v.index)}));else if(h.key==="r"||h.key==="R"){if(this.selectedGraphemes.length>0&&!this.rotating&&this.graphemesService.graphemes[this.mainSelection].rotatable){this.keyboardMoving&&this.cancelKeyboardMoving(),this.keyboardTransformMode=!0,this.keyboardRotating=!0,this.rotating=!0,this.actions=[];let v=this.graphemeCoordinatesToClientCoordinates(this.graphemesService.graphemes[this.mainSelection].x,this.graphemesService.graphemes[this.mainSelection].y);s=Math.atan2(this.mouseY-v.y,this.mouseX-v.x)*180/Math.PI,this.renderRotationLine(this.mouseX,this.mouseY,v.x,v.y),this.selectedGraphemes.forEach(m=>{this.graphemesService.graphemes[m].rotatable&&this.actions.push({index:m,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[m].rotation}})}),this.rotationSnapKeyDownUnlistener=this.renderer2.listen("document","keydown",m=>{this.keyDownRotationHandler(m,s,v)}),this.rotationSnapKeyUpUnlistener=this.renderer2.listen("document","keyup",m=>{this.keyUpRotationHandler(m,s,v)})}}else if(h.key=="f"||h.key=="F")this.actions=[],this.selectedGraphemes.forEach(v=>{if(!this.graphemesService.graphemes[v].locked&&this.graphemesService.graphemes[v].flippable)if(this.graphemesService.graphemes[v]instanceof _e)this.graphemesService.graphemes[v].toggleFlipped(),this.renderGrapheme(v),this.actions.push({index:v,type:"flip",data:{newFlip:this.graphemesService.graphemes[v].styleData.flipped}});else if(this.graphemesService.graphemes[v]instanceof Ae)this.graphemesService.graphemes[v].toggleFlipped(),this.renderGrapheme(v),this.actions.push({index:v,type:"flip",data:{newFlip:this.graphemesService.graphemes[v].styleData.flipped}});else throw new Error("only handconf and movement graphemes can be flipped.")}),this.undoService.push(this.actions),this.actions=[];else if(h.key=="l"||h.key=="L"){this.actions=[];let v=this.graphemesService.graphemes[this.mainSelection].toggleLocked();this.renderGrapheme(this.mainSelection),this.actions.push({index:this.mainSelection,type:"lock",data:{newLock:v}}),this.selectedGraphemes.forEach(m=>{m!==this.mainSelection&&(this.graphemesService.graphemes[m].setLocked(v),this.renderGrapheme(m),this.actions.push({index:m,type:"lock",data:{newLock:v}}))}),this.undoService.push(this.actions),this.actions=[]}else h.key==="Delete"&&this.selectedGraphemes.length>0?(this.selectedGraphemes.forEach(v=>{this.graphemesService.graphemes[v].locked||(this.graphemesService.deleteGrapheme(v),this.actions.push({type:"delete",index:v,data:{}}),this.designerCanvas.nativeElement.focus())}),this.undoService.push(this.actions),this.actions=[],this.selectOneGrapheme(-1),this.renderAllGraphemes()):h.key==="Enter"?this.keyboardTransformMode&&(this.keyboardRotating&&this.applyKeyboardRotation(),this.keyboardMoving&&this.applyKeyboardMoving()):h.key==="Escape"?(this.keyboardTransformMode&&(this.keyboardRotating&&this.cancelKeyboardRotation(),this.keyboardMoving&&this.cancelKeyboardMoving()),this.addGraphemeMenuOpen&&this.closeAddGraphemeMenu(),this.addAttachMenu&&this.closeAddAttachMenu()):(h.code==="NumpadDecimal"||h.code=="Period")&&this.mainSelection!=-1&&this.lookAtGrapheme(this.mainSelection)})),this.unlisteners.push(this.renderer2.listen("document","keydown",h=>{if(h.ctrlKey&&(h.key==="+"||h.key==="="))h.preventDefault(),this.zoom(1.25),this.renderAllGraphemes();else if(h.key==="-")h.preventDefault(),this.zoom(.75),this.renderAllGraphemes();else if(h.ctrlKey&&(h.key==="z"||h.key=="Z")&&!h.shiftKey){if(h.target===document.body){h.preventDefault();let v=this.undoService.undo();v&&v.forEach(m=>{if(m.type=="move"&&"fromX"in m.data&&"fromY"in m.data)this.graphemesService.graphemes[m.index].move(m.data.fromX,m.data.fromY),this.renderGrapheme(m.index);else if(m.type=="changeAngle"&&"oldAngle"in m.data){if(this.graphemesService.graphemes[m.index]instanceof _e)this.graphemesService.graphemes[m.index].setRotation(m.data.oldAngle);else if(this.graphemesService.graphemes[m.index]instanceof Ae)this.graphemesService.graphemes[m.index].setRotation(m.data.oldAngle);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(m.index)}else if(m.type=="flip"&&"newFlip"in m.data){if(this.graphemesService.graphemes[m.index]instanceof _e)this.graphemesService.graphemes[m.index].setFlipped(!m.data.newFlip);else if(this.graphemesService.graphemes[m.index]instanceof Ae)this.graphemesService.graphemes[m.index].setFlipped(!m.data.newFlip);else throw new Error("Only handconf and movement graphemes can be flipped.");this.renderGrapheme(m.index)}else m.type=="lock"&&"newLock"in m.data?(this.graphemesService.graphemes[m.index].setLocked(!m.data.newLock),this.renderGrapheme(m.index)):m.type=="delete"?this.graphemesService.graphemes[m.index].deleted=!1:m.type=="add"?(this.graphemesService.deleteGrapheme(m.index),this.selectedGraphemes.includes(m.index)&&this.deselectGrapheme(m.index),this.renderAllGraphemes()):m.type=="addAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"?(this.graphemesService.graphemes[m.index].removeAttach(m.data.attachId),this.renderGrapheme(m.index)):m.type=="removeAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"&&(this.graphemesService.graphemes[m.index].addAttach(m.data.attachId),this.renderGrapheme(m.index))})}}else if(h.ctrlKey&&(h.key==="y"||h.key==="Y")||h.shiftKey&&h.ctrlKey&&(h.key==="z"||h.key==="Z")){if(h.target===document.body){h.preventDefault();let v=this.undoService.redo();v&&v.forEach(m=>{if(m.type=="move"&&"toX"in m.data&&"toY"in m.data)this.graphemesService.graphemes[m.index].move(m.data.toX,m.data.toY);else if(m.type=="changeAngle"&&"newAngle"in m.data)if(this.graphemesService.graphemes[m.index]instanceof _e)this.graphemesService.graphemes[m.index].setRotation(m.data.newAngle);else if(this.graphemesService.graphemes[m.index]instanceof Ae)this.graphemesService.graphemes[m.index].setRotation(m.data.newAngle);else throw new Error("Only handconf and movement graphemes can be rotated.");else if(m.type=="flip"&&"newFlip"in m.data)if(this.graphemesService.graphemes[m.index]instanceof _e)this.graphemesService.graphemes[m.index].setFlipped(m.data.newFlip);else if(this.graphemesService.graphemes[m.index]instanceof Ae)this.graphemesService.graphemes[m.index].setFlipped(m.data.newFlip);else throw new Error("Only handconf and movement graphemes can be flipped.");else m.type=="lock"&&"newLock"in m.data?this.graphemesService.graphemes[m.index].setLocked(m.data.newLock):m.type=="delete"?(this.graphemesService.deleteGrapheme(m.index),this.mainSelection===m.index&&this.selectOneGrapheme(-1)):m.type=="add"?this.graphemesService.graphemes[m.index].deleted=!1:m.type=="addAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"?this.graphemesService.graphemes[m.index].addAttach(m.data.attachId):m.type=="removeAttach"&&"attachId"in m.data&&typeof m.data.attachId=="number"&&this.graphemesService.graphemes[m.index].removeAttach(m.data.attachId);this.renderGrapheme(m.index)})}}else if(h.key==="a"||h.key==="A")h.ctrlKey&&h.shiftKey?this.deselectAllGraphemes():h.ctrlKey?this.selectAllGraphemes():h.shiftKey&&(this.graphemesService.graphemes[this.mainSelection]instanceof dt&&this.clientCoordinateOverMainSelectionGrapheme(this.mouseX,this.mouseY)&&!this.graphemesService.graphemes[this.mainSelection].locked?(this.closeAddGraphemeMenu(),this.openAddAttachMenu(this.mouseX,this.mouseY)):(this.closeAddAttachMenu(),this.setAddMenuStyle(this.mouseX,this.mouseY),this.openAddGraphemeMenu()),this.cdr.detectChanges()),this.renderAllGraphemes(),h.preventDefault();else if(h.key==="i"||h.key==="I")this.invertSelection(),this.renderAllGraphemes(),h.preventDefault();else if((h.key==="d"||h.key==="D")&&h.ctrlKey){this.actions=[];let v=50,m=NaN,D=this.selectedGraphemes.slice(),_=this.mainSelection;D.forEach(S=>{let T=this.graphemesService.graphemes[S];this.graphemesService.graphemes[S].locked||(T instanceof _e?this.graphemesService.addHandconfGrapheme(T.id,T.x+v,T.y+v,T.rotation,T.styleData.flipped):T instanceof Ae?this.graphemesService.addMovementGrapheme(T.id,T.x+v,T.y+v,T.rotation):T instanceof ti?this.graphemesService.addLocationGrapheme(T.x+v,T.y+v):T instanceof dt&&(this.graphemesService.addHeadGrapheme(T.x+v,T.y+v),T.attachs.forEach(k=>{T.addAttach(k.id)}))),S===_&&(m=this.graphemesService.graphemes.length-1),this.selectMultipleGraphemes(this.graphemesService.graphemes.length-1),this.deselectGrapheme(S),this.actions.push({type:"add",index:this.graphemesService.graphemes.length-1,data:{}})}),this.selectMultipleGraphemes(m,!1),this.undoService.push(this.actions),this.renderAllGraphemes(),h.preventDefault()}(h.key==="z"||h.key==="Z"||h.key==="y"||h.key==="Y")&&h.target===document.body&&h.preventDefault()}))}}renderUI(){window.innerHeight>window.innerWidth?(this.panelMode="portrait",this.panelStyle={width:"100%",height:`${this.preferredPanelSize}px`,top:"auto",left:"auto",right:"0px",bottom:"0px","box-shadow":"0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)",display:"flex"},this.panelResizeBorderStyle={width:"100%",height:"1rem",top:"auto",right:"0px",bottom:`calc(${this.preferredPanelSize}px - 0.5rem)`,cursor:"ns-resize"},this.canvasStyle={width:"100%",height:`calc(100vh - ${this.preferredPanelSize}px - 3rem)`,top:"3rem",left:"0px",bottom:"auto"}):(this.panelMode="landscape",this.panelStyle={width:`${this.preferredPanelSize}px`,height:"calc(100% - 3rem)",top:"auto",left:"auto",right:"0px",bottom:"0px","box-shadow":"2px 0px 4px -1px rgba(0, 0, 0, 0.2), 4px 0px 5px 0 rgba(0, 0, 0, 0.14), 1px 0px 10px 0 rgba(0, 0, 0, 0.12)",display:"flex"},this.panelResizeBorderStyle={width:"1rem",height:"calc(100% - 3rem)",top:"auto",right:`calc(${this.preferredPanelSize}px - 0.5rem)`,bottom:"0px",cursor:"ew-resize"},this.canvasStyle={width:`calc(100% - ${this.preferredPanelSize}px)`,height:"calc(100vh - 3rem)",top:"auto",left:"0px",bottom:"0px"}),this.cdr.detectChanges();let n=this.panelTopButtonsContainer.nativeElement.getBoundingClientRect();this.panelLayersStyle={height:`${window.innerHeight-n.bottom}px`}}addGraphemeButtonHandler(){let n=this.addGraphemeButton.nativeElement.getBoundingClientRect(),r=window.innerWidth;n.left+this.addMenuWidth>r?this.addMenuStyle={top:`calc(${n.bottom}px + 0.25rem)`,left:"auto",right:"0px"}:this.addMenuStyle={top:`calc(${n.bottom}px + 0.25rem)`,left:`${n.left}px`,right:"auto"},this.addGraphemeMenuOpen?this.closeAddGraphemeMenu():this.openAddGraphemeMenu()}closeAddGraphemeMenu(){this.addGraphemeMenuOpen=!1}openAddGraphemeMenu(){this.addGraphemeMenuOpen=!0}openAddAttachMenu(n=NaN,r=NaN,i=300,o=750){isNaN(n)||(n+this.addMenuWidth>window.innerWidth?(this.addMenuStyle.left="auto",this.addMenuStyle.right="0px"):(this.addMenuStyle.left=`${n}px`,this.addMenuStyle.right="auto")),isNaN(r)||(r+i>window.innerHeight?(window.innerHeight>=o?this.addAttachMenuHeight=o:this.addAttachMenuHeight=window.innerHeight,this.addMenuStyle.top=`${window.innerHeight-this.addAttachMenuHeight}px`):r+o<=window.innerHeight?(this.addAttachMenuHeight=o,this.addMenuStyle.top=`${r}px`):(this.addAttachMenuHeight=window.innerHeight-r,this.addMenuStyle.top=`${r}px`)),this.addAttachMenuOpen=!0}closeAddAttachMenu(){this.addAttachMenuOpen=!1}keyDownRotationHandler(n,r,i){if(!n.repeat&&(n.key==="Control"||n.key==="Shift")){let s=Math.atan2(this.mouseY-i.y,this.mouseX-i.x)*180/Math.PI-r,l=NaN;n.ctrlKey?l=5:n.shiftKey&&(l=45),this.actions.forEach(d=>{if(!this.graphemesService.graphemes[d.index].locked)if(this.graphemesService.graphemes[d.index]instanceof _e){if("oldAngle"in d.data){let h=Math.round((d.data.oldAngle+s)/l)*l;this.graphemesService.graphemes[d.index].setRotation(h),this.renderGrapheme(d.index)}}else if(this.graphemesService.graphemes[d.index]instanceof Ae){if("oldAngle"in d.data){let h=Math.round((d.data.oldAngle+s)/l)*l;this.graphemesService.graphemes[d.index].setRotation(h),this.renderGrapheme(d.index)}}else throw new Error("Only handconf and movement graphemes can be rotated.")})}}onLayerFieldInput(n,r,i){if(r==="x"||r==="y")this.actions.length===0&&this.actions.push({index:i,type:"move",data:{fromX:this.graphemesService.graphemes[i].x,fromY:this.graphemesService.graphemes[i].y}}),r==="x"?this.graphemesService.graphemes[i].move(n.target.value,this.graphemesService.graphemes[i].y):r==="y"&&this.graphemesService.graphemes[i].move(this.graphemesService.graphemes[i].x,n.target.value);else if(r==="rot"){if(this.actions.length===0)if(this.graphemesService.graphemes[i].rotatable)this.actions.push({index:i,type:"changeAngle",data:{oldAngle:this.graphemesService.graphemes[i].rotation}});else throw new Error("Grapheme is not rotatable.");if(this.graphemesService.graphemes[i]instanceof _e)this.graphemesService.graphemes[i].setRotation(n.target.value,!1,!1);else if(this.graphemesService.graphemes[i]instanceof Ae)this.graphemesService.graphemes[i].setRotation(n.target.value,!1,!1);else throw new Error("Only handconf and movement graphemes can be rotated.")}this.renderGrapheme(i)}onLayerFieldChange(n,r,i){if(r==="x")"toX"in this.actions[0].data&&"toY"in this.actions[0].data&&(this.actions[0].data.toX=n.target.value,this.actions[0].data.toY=this.graphemesService.graphemes[i].y);else if(r==="y")"toX"in this.actions[0].data&&"toY"in this.actions[0].data&&(this.actions[0].data.toX=this.graphemesService.graphemes[i].x,this.actions[0].data.toY=n.target.value);else if(r==="rot"&&(this.graphemesService.graphemes[i]instanceof _e||this.graphemesService.graphemes[i]instanceof Ae)){if(this.graphemesService.graphemes[i]instanceof _e)this.graphemesService.graphemes[i].setRotation(n.target.value,!0,!0);else if(this.graphemesService.graphemes[i]instanceof Ae)this.graphemesService.graphemes[i].setRotation(n.target.value,!0,!0);else throw new Error("Only handconf and movement graphemes can be rotated.");"newAngle"in this.actions[0].data&&(this.actions[0].data.newAngle=this.graphemesService.graphemes[i].rotation)}this.undoService.push(this.actions),this.actions=[]}onPanelLayerAddAttach(n){let r;if(r=this.panelLayerAddAttachButtons.find(i=>parseInt(i.nativeElement.getAttribute("index"))===n),r===void 0)throw new Error("Add attach panel layer button not found in the DOM.");{let i=r.nativeElement.getBoundingClientRect();this.openAddAttachMenu(i.left,i.top)}}keyUpRotationHandler(n,r,i){if(!n.repeat&&(n.key==="Control"||n.key==="Shift")){let s=Math.atan2(this.mouseY-i.y,this.mouseX-i.x)*180/Math.PI-r;this.actions.forEach(l=>{if(!this.graphemesService.graphemes[l.index].locked&&"oldAngle"in l.data&&this.graphemesService.graphemes[l.index].rotatable){let d=l.data.oldAngle+s;if(this.graphemesService.graphemes[l.index]instanceof _e)this.graphemesService.graphemes[l.index].setRotation(d);else if(this.graphemesService.graphemes[l.index]instanceof Ae)this.graphemesService.graphemes[l.index].setRotation(d);else throw new Error("Only handconf and movement graphemes can be rotated.");this.renderGrapheme(l.index)}})}}exportButtonHandler(){this.exportService.export(this.graphemesService.graphemes)}applyKeyboardMoving(){this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.actions.forEach(n=>{"fromX"in n.data&&"fromY"in n.data&&(n.data.toX=this.graphemesService.graphemes[n.index].x,n.data.toY=this.graphemesService.graphemes[n.index].y)}),this.undoService.push(this.actions),this.actions=[]}cancelKeyboardMoving(){this.keyboardTransformMode=!1,this.keyboardMoving=!1,this.actions.forEach(n=>{"fromX"in n.data&&"fromY"in n.data&&(this.graphemesService.graphemes[n.index].move(n.data.fromX,n.data.fromY),this.renderGrapheme(n.index))}),this.actions=[]}applyKeyboardRotation(){this.keyboardTransformMode=!1,this.keyboardRotating=!1,this.rotating=!1,this.actions.forEach(n=>{if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof _e)n.data.newAngle=this.graphemesService.graphemes[n.index].rotation;else if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Ae)n.data.newAngle=this.graphemesService.graphemes[n.index].rotation;else throw new Error("Only handconf and movement graphemes can be rotated.")}),this.undoService.push(this.actions),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.()}cancelKeyboardRotation(){this.keyboardTransformMode=!1,this.keyboardRotating=!1,this.rotating=!1,this.actions.forEach(n=>{if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof _e)this.graphemesService.graphemes[n.index].setRotation(n.data.oldAngle),this.renderGrapheme(n.index);else if("oldAngle"in n.data&&this.graphemesService.graphemes[n.index]instanceof Ae)this.graphemesService.graphemes[n.index].setRotation(n.data.oldAngle),this.renderGrapheme(n.index);else throw new Error("Only handconf and movement graphemes can be rotated.")}),this.actions=[],this.rotationSnapKeyDownUnlistener?.(),this.rotationSnapKeyUpUnlistener?.()}lookAtGrapheme(n,r=!0){let i=this.graphemesService.graphemes[n],o=this.scale,s=this.graphemesService.calculateRotatedGraphemeCenter(i),l=this.graphemesService.calculateRotatedGraphemeFootprint(i),d=l.maxX-l.minX,h=l.maxY-l.minY,v=this.designerCanvas.nativeElement.getBoundingClientRect?.();v.width>v.height?o=v.width/d/2:o=v.height/h/2,!isNaN(this.scale)&&!(this.scale/o>4)&&!(this.scale/o<.25)&&(o=this.scale);let m=i.x+s.x-v.width/2/o,D=i.y+s.y-v.height/2/o;if(r){let _=this.canvasViewOffsetX,S=this.canvasViewOffsetY,T=this.scale,k=250,R=NaN,fe=pe=>{isNaN(R)&&(R=pe);let Oe=pe-R,I=Math.min(Oe/k,1),Se=1-Math.pow(1-I,3);this.panCanvasTo(_+(m-_)*Se,S+(D-S)*Se),this.scale=T+(o-T)*Se,this.renderAllGraphemes(),Oe<k?requestAnimationFrame(fe):(this.panCanvasTo(m,D),this.scale=o,this.renderAllGraphemes())};requestAnimationFrame(fe)}else this.panCanvasTo(m,D),this.scale=o,this.renderAllGraphemes()}moveGraphemeWithConstraints(n,r,i){let o=0,s=0;if("fromX"in n.data&&"fromY"in n.data&&(this.unconstrainedX=n.data.fromX+r/this.scale,this.unconstrainedY=n.data.fromY+i/this.scale,this.allowXMotion?o=this.unconstrainedX:o=n.data.fromX,this.allowYMotion?s=this.unconstrainedY:s=n.data.fromY),this.graphemesService.graphemes[n.index].move(o,s),"fromX"in n.data&&"fromY"in n.data){let l=this.graphemeCoordinatesToClientCoordinates(n.data.fromX,n.data.fromY),d=this.clientCoordinatesToCanvasCoordinates(l.x,l.y);this.xAxisStyle={top:`${d.y-1}px`},this.yAxisStyle={left:`${d.x-1}px`}}}ngOnDestroy(){this.unlisteners?.forEach(n=>n())}addHandconfGraphemeWithUndo(n,r,i,o=0,s=!1){this.graphemesService.addHandconfGrapheme(n,r,i,o,s),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}addLocationGraphemeWithUndo(n,r,i){this.graphemesService.addLocationGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}addMovementGraphemeWithUndo(n,r,i,o=0){this.graphemesService.addMovementGrapheme(n,r,i,o),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}addPlaneGraphemeWithUndo(n,r,i){this.graphemesService.addPlaneGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}addAttachWithUndo(n,r){if(!(this.graphemesService.graphemes[n]instanceof dt))throw new Error("Can only add attachs to head graphemes.");this.graphemesService.graphemes[n].addAttach(r),this.undoService.push([{index:n,type:"addAttach",data:{attachId:r}}])}removeAttachWithUndo(n,r){if(!(this.graphemesService.graphemes[n]instanceof dt))throw new Error("Can only remove attachs from head graphemes.");this.graphemesService.graphemes[n].removeAttach(r),this.undoService.push([{index:n,type:"removeAttach",data:{attachId:r}}])}addFaceexpHeadGrapheme(n,r,i){this.graphemesService.addHeadGrapheme(r,i),this.graphemesService.faceexpAddList[n].attachs.forEach(o=>{this.graphemesService.graphemes[this.graphemesService.graphemes.length-1].addAttach(o)})}addFaceexpHeadGraphemeWithUndo(n,r,i){this.addFaceexpHeadGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}addLocationHeadGrapheme(n,r,i){this.graphemesService.addHeadGrapheme(r,i),this.graphemesService.locationAddList[n].attachs.forEach(o=>{this.graphemesService.graphemes[this.graphemesService.graphemes.length-1].addAttach(o)})}addLocationHeadGraphemeWithUndo(n,r,i){this.addLocationHeadGrapheme(n,r,i),this.undoService.push([{index:this.graphemesService.graphemes.length-1,type:"add",data:{}}])}toggleGraphemeFlipWithUndo(n){if(!this.graphemesService.graphemes[n].locked)if(this.graphemesService.graphemes[n]instanceof _e)this.graphemesService.graphemes[n].toggleFlipped(),this.undoService.push([{index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped}}]);else if(this.graphemesService.graphemes[n]instanceof Ae)this.graphemesService.graphemes[n].toggleFlipped(),this.undoService.push([{index:n,type:"flip",data:{newFlip:this.graphemesService.graphemes[n].styleData.flipped}}]);else throw new Error("Only handconf and movement graphemes can be flipped.")}toggleLocationGraphemeFlip(n){let r=this.graphemesService.graphemes[n],i=NaN;if(r instanceof ti){if(r.id==2)i=3;else if(r.id==3)i=2;else if(r.id==4)i=5;else if(r.id==5)i=4;else throw new Error(`Location grapheme with id ${r.id} cannot be flipped.`);this.graphemesService.addLocationGrapheme(i,r.x,r.y),this.graphemesService.deleteGrapheme(n),this.selectedGraphemes.includes(n)&&(this.deselectGrapheme(n),this.selectOneGrapheme(this.graphemesService.graphemes.length-1)),this.renderGrapheme(this.graphemesService.graphemes.length-1),this.renderGrapheme(n)}else throw new Error("Invalid location grapheme flip.");return[{index:this.graphemesService.graphemes.length-1,type:"add",data:{}},{index:n,type:"delete",data:{}}]}toggleLocationGraphemeFlipWithUndo(n){this.actions=this.toggleLocationGraphemeFlip(n),this.undoService.push(this.actions)}toggleGraphemeLockWithUndo(n){this.graphemesService.graphemes[n].toggleLocked(),this.undoService.push([{index:n,type:"lock",data:{newLock:this.graphemesService.graphemes[n].locked}}])}deleteGraphemeWithUndo(n){this.graphemesService.deleteGrapheme(n),this.undoService.push([{index:n,type:"delete",data:{}}]),this.deselectGrapheme(n)}renderAllGraphemes(){for(let n=0;n<this.graphemesService.graphemes.length;n++)this.renderGrapheme(n)}renderMainSelection(){this.mainSelection!==-1&&this.renderGrapheme(this.mainSelection)}renderAllSelectedGraphemes(){this.selectedGraphemes.forEach(n=>{this.renderGrapheme(n)})}renderRotationLine(n,r,i,o){let s=this.clientCoordinatesToCanvasCoordinates(n,r),l=this.clientCoordinatesToCanvasCoordinates(i,o),d=Math.atan2(l.y-s.y,l.x-s.x)*180/Math.PI-90,h=Math.sqrt(Math.pow(s.x-l.x,2)+Math.pow(s.y-l.y,2));this.rotationLineHeight=h-5,this.rotationLineHeight<0&&(this.rotationLineHeight=0);let v=Math.cos(d*Math.PI/180)*2/2/2,m=Math.sin(d*Math.PI/180)*2/2/2;this.rotationLineStyle={transform:`rotate(${d}deg)`,top:`${r-m}px`,left:`${n-v}px`}}panCanvas(n,r){this.canvasViewOffsetX-=n,this.canvasViewOffsetY-=r;let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.canvasCenterX=this.canvasViewOffsetX+i.width/2/this.scale,this.canvasCenterY=this.canvasViewOffsetY+i.height/2/this.scale,{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}panCanvasTo(n,r){this.canvasViewOffsetX=n,this.canvasViewOffsetY=r,isNaN(this.canvasViewOffsetX)&&(this.canvasViewOffsetX=0),isNaN(this.canvasViewOffsetY)&&(this.canvasViewOffsetY=0);let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.canvasCenterX=this.canvasViewOffsetX+i.width/2/this.scale,this.canvasCenterY=this.canvasViewOffsetY+i.height/2/this.scale,{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}panCanvasCenterTo(n,r){let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return this.panCanvasTo(n-i.width/2/this.scale,r-i.height/2/this.scale),{canvasX:this.canvasViewOffsetX,canvasY:this.canvasViewOffsetY}}zoom(n,r=NaN,i=NaN){this.scale*=n,(this.scale<=0||isNaN(this.scale)||this.scale===1/0||this.scale===-1/0)&&(this.scale=.01);let o=this.designerCanvas.nativeElement.getBoundingClientRect?.();if(Number.isNaN(r)||Number.isNaN(i))this.panCanvasTo(this.canvasCenterX-o.width/2/this.scale,this.canvasCenterY-o.height/2/this.scale);else{let s=this.clientCoordinatesToGraphemeCoordinates(r,i);this.panCanvasTo(s.x-(s.x-this.canvasViewOffsetX)/n,s.y-(s.y-this.canvasViewOffsetY)/n)}}renderGrapheme(n){if(this.graphemesService.graphemes[n].deleted)return;let r=this.graphemesService.graphemes[n],i=r.getMaxFootprint(),o=i.right-i.left,s=i.bottom-i.top,l=this.graphemeCoordinatesToCanvasCoordinates(r.x,r.y),d=this.graphemesService.graphemes[n].offsetY,h=r.flippable?this.graphemesService.graphemes[n].styleData.flipped:!1;if(r.styleData.top=(r.y-r.offsetY/this.scale-this.canvasViewOffsetY)*this.scale,r.styleData.left=(r.x-r.offsetX/this.scale-this.canvasViewOffsetX)*this.scale,r.style.top=`${r.styleData.top}px`,r.style.left=`${r.styleData.left}px`,r instanceof dt&&r.attachs.forEach(_=>{_.style.top=`${(r.y-_.offsetY/this.scale-this.canvasViewOffsetY)*this.scale}px`,_.style.left=`${(r.x-_.offsetX/this.scale-this.canvasViewOffsetX)*this.scale}px`}),r instanceof dt?(r.style.transform=`scale(${this.scale})`,r.attachs.forEach(_=>{_.style.transform=`scale(${this.scale})`})):r.rotatable&&r.flippable?r.style.transform=`rotate(${r.rotation}deg) scale(${this.scale}) scaleX(${r.styleData.flipped?-1:1})`:r.rotatable?r.style.transform=`rotate(${r.rotation}deg) scale(${this.scale})`:r.flippable?r.style.transform=`scale(${this.scale}) scaleX(${r.styleData.flipped?-1:1})`:r.style.transform=`scale(${this.scale})`,this.attachSelection===-1){let _=r.toolbarItems(),S={minX:(h?-i.right:i.left)*this.scale,minY:i.top*this.scale,maxX:(h?-i.left:i.right)*this.scale,maxY:i.bottom*this.scale},{x:T,y:k}=this.calculateToolbarPosition(S.minX,S.minY,S.maxX,S.maxY,r.rotatable?r.rotation:0);r.toolbar.top=`calc(${k+l.y}px - 3rem)`,r.toolbar.left=`calc(${T+l.x}px - ${(2*_+.5*(_-1))/2}rem)`,r.toolbar.width=`${2*_+.5*(_-1)}rem`}else if(r instanceof dt){let _=r.getAttachMaxFootprint(this.attachSelection),S=(_.left+_.right)/2,T=r.x+S,k=_.top+r.y,R=this.graphemeCoordinatesToCanvasCoordinates(T,k);r.toolbar.top=`calc(${R.y}px - 3rem)`,r.toolbar.left=`calc(${R.x}px - 1rem)`,r.toolbar.width="2rem"}let v=o,m=s,D=i;if(r instanceof dt){let _=this.graphemesService.getHeadSpec(),S=this.graphemesService.getAttachSpec();this.graphemesService.graphemes[n].attachs.forEach(T=>{if(T.id===2){let k=Math.abs(S[r.idNumberToKey(2)].max.right-_.max.right);v+=k}else if(T.id===3){let k=Math.abs(S[r.idNumberToKey(3)].max.left-_.max.left);v+=k,D=j({},D),D.left-=k}else if(T.id===25){let k=Math.abs(S[r.idNumberToKey(25)].max.bottom-_.max.bottom);m+=k}})}r.selectionBoundingBox.top=`${l.y-d*this.scale}px`,r.selectionBoundingBox.left=`${l.x-(h?D.right:-D.left)*this.scale}px`,r.selectionBoundingBox.width=`${v*this.scale}px`,r.selectionBoundingBox.height=`${m*this.scale}px`,r.rotatable&&(r.selectionBoundingBox["transform-origin"]=`${(h?D.right:-D.left)*this.scale}px ${d*this.scale}px`,r.selectionBoundingBox.transform=`rotate(${r.rotation}deg)`),r.rotatable&&(r.center.top=`calc(${l.y}px - 0.5rem)`,r.center.left=`calc(${l.x}px - 0.5rem)`)}selectOneGrapheme(n,r=!0){n===-1&&r?(this.mainSelection=-1,this.selectedGraphemes=[],this.attachSelection=-1):this.mainSelection!==n?(this.mainSelection=n,this.selectedGraphemes=[n],this.attachSelection=-1):this.mainSelection===n&&(this.selectedGraphemes=[n])}selectLastGrapheme(n=!0){this.selectOneGrapheme(this.graphemesService.graphemes.length-1,n)}selectMultipleGraphemes(n,r=!0){this.selectedGraphemes.includes(n)?this.mainSelection===n&&r?(this.selectedGraphemes=this.selectedGraphemes.filter(i=>i!==n),this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1):(this.selectedGraphemes=this.selectedGraphemes.filter(i=>i!==n),this.selectedGraphemes.push(n),this.mainSelection=n):(this.selectedGraphemes.push(n),this.mainSelection=n)}deselectGrapheme(n){this.selectedGraphemes=this.selectedGraphemes.filter(r=>r!==n),this.mainSelection===n&&(this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1)}deselectAllGraphemes(){this.selectedGraphemes=[],this.mainSelection=-1}selectAllGraphemes(){this.selectedGraphemes=[],this.graphemesService.graphemes.forEach((n,r)=>{n.deleted||this.selectedGraphemes.push(r)}),this.mainSelection==-1&&(this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1])}invertSelection(){let n=[];this.graphemesService.graphemes.forEach((r,i)=>{!r.deleted&&!this.selectedGraphemes.includes(i)&&n.push(i)}),this.selectedGraphemes=n,this.selectedGraphemes.length>0?this.mainSelection=this.selectedGraphemes[this.selectedGraphemes.length-1]:this.mainSelection=-1}calculateToolbarPosition(n,r,i,o,s){let l=Math.cos(s*Math.PI/180),d=Math.sin(s*Math.PI/180),h=[{x:n*l-r*d,y:n*d+r*l},{x:i*l-r*d,y:i*d+r*l},{x:n*l-o*d,y:n*d+o*l},{x:i*l-o*d,y:i*d+o*l}],v=h.reduce((_,S)=>S.x<_.x?S:_),m=h.reduce((_,S)=>S.x>_.x?S:_),D=h.reduce((_,S)=>S.y<_.y?S:_);return{x:(v.x+m.x)/2,y:D.y}}adaptCanvasToView(){let n=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,r=this.designerCanvas.nativeElement.getBoundingClientRect?.().height;this.originalCanvasWidth===-1||this.originalCanvasHeight===-1?this.scaleCanvasToPrintWidth(2048):n<r?(this.panCanvasTo(this.canvasCenterX-n/2/this.scale,this.canvasCenterY-r/2/this.scale),this.scaleCanvasToPrintWidth(this.originalCanvasWidth/this.scale)):(this.panCanvasTo(this.canvasCenterX-n/2/this.scale,this.canvasCenterY-r/2/this.scale),this.scaleCanvasToPrintHeight(this.originalCanvasHeight/this.scale)),this.originalCanvasWidth=n,this.originalCanvasHeight=r}scaleCanvasToPrintWidth(n){this.originalCanvasWidth=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,this.originalCanvasHeight=this.designerCanvas.nativeElement.getBoundingClientRect?.().height,this.scale=this.originalCanvasWidth/n}scaleCanvasToPrintHeight(n){this.originalCanvasWidth=this.designerCanvas.nativeElement.getBoundingClientRect?.().width,this.originalCanvasHeight=this.designerCanvas.nativeElement.getBoundingClientRect?.().height,this.scale=this.originalCanvasHeight/n}graphemeCoordinatesToClientCoordinates(n,r){return{x:n*this.scale-this.canvasViewOffsetX*this.scale+this.designerCanvas.nativeElement.getBoundingClientRect?.().left,y:r*this.scale-this.canvasViewOffsetY*this.scale+this.designerCanvas.nativeElement.getBoundingClientRect?.().top}}clientCoordinatesToGraphemeCoordinates(n,r){let i=this.clientCoordinatesToCanvasCoordinates(n,r);return{x:i.x/this.scale+this.canvasViewOffsetX,y:i.y/this.scale+this.canvasViewOffsetY}}clientCoordinatesToCanvasCoordinates(n,r){return{x:n-this.designerCanvas.nativeElement.getBoundingClientRect?.().left,y:r-this.designerCanvas.nativeElement.getBoundingClientRect?.().top}}graphemeCoordinatesToCanvasCoordinates(n,r){return{x:n*this.scale-this.canvasViewOffsetX*this.scale,y:r*this.scale-this.canvasViewOffsetY*this.scale}}setAddMenuStyle(n,r){n+this.addMenuWidth>window.innerWidth?this.addMenuStyle={top:`${r}px`,left:"auto",right:"0px"}:this.addMenuStyle={top:`${r}px`,left:`${n}px`,right:"auto"}}clientCoordinateOverCanvas(n,r){let i=this.designerCanvas.nativeElement.getBoundingClientRect?.();return n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom}clientCoordinateOverMainSelectionGrapheme(n,r){let i=this.mainSelectionBoundingBox.nativeElement.getBoundingClientRect?.();return n>=i.left&&n<=i.right&&r>=i.top&&r<=i.bottom}static{this.\u0275fac=function(r){return new(r||e)(Ve(oo),Ve(fb),Ve(Xb),Ve($n),Ve(Un))}}static{this.\u0275cmp=cr({type:e,selectors:[["app-root"]],viewQuery:function(r,i){if(r&1&&(fn(IA,5),fn(MA,5),fn(TA,5),fn(AA,5),fn(NA,5),fn(OA,5),fn(kA,5),fn(RA,5)),r&2){let o;zt(o=Gt())&&(i.designerCanvas=o.first),zt(o=Gt())&&(i.addGraphemeButton=o.first),zt(o=Gt())&&(i.panelTopButtonsContainer=o.first),zt(o=Gt())&&(i.addTypeMenu=o.first),zt(o=Gt())&&(i.addAttachMenu=o.first),zt(o=Gt())&&(i.mainSelectionBoundingBox=o.first),zt(o=Gt())&&(i.addAttachToolbarButton=o.first),zt(o=Gt())&&(i.panelLayerAddAttachButtons=o)}},hostBindings:function(r,i){r&1&&nt("resize",function(s){return i.onResize(s)},!1,Uv)},standalone:!0,features:[pr],decls:25,vars:12,consts:[["panelTopButtonsContainer",""],["addGraphemeButton",""],["designerCanvas",""],["panelLayerAddAttachButton",""],["graphemes",""],["mainSelectionBoundingBox",""],["graphemeUnlocked",""],["graphemeLocked",""],["addAttachToolbarButton",""],["addTypeMenu",""],["addAttachMenu",""],["id","panel-resize-border",1,"panel-resize-border","uninteractive",3,"ngStyle"],[1,"panel","uninteractive",3,"ngStyle"],[1,"panel-content-container"],["id","panel-top-buttons-container",1,"panel-top-buttons-container"],["id","panel-add-button",1,"panel-add-button","panel-content",3,"click"],["src","../assets/add-outline.svg",1,"add-icon"],[1,"add-text"],[1,"export-button","panel-content",3,"click"],["src","../assets/arrow-up-circle-outline.svg",1,"export-icon"],[1,"panel-layers-container",3,"ngStyle"],[4,"ngFor","ngForOf"],[1,"header"],["id","rotation-line","class","rotation-line","width","2","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",3,"ngStyle",4,"ngIf"],["id","designer-canvas",1,"designer-canvas","uninteractive",3,"ngStyle"],["class","x-axis",3,"ngStyle",4,"ngIf"],["class","y-axis",3,"ngStyle",4,"ngIf"],["class","add-menu",3,"ngStyle",4,"ngIf"],["class","panel-layer panel-content",3,"ngClass",4,"ngIf"],[1,"panel-layer","panel-content",3,"ngClass"],[1,"panel-layer-icon-container"],["inert","",1,"panel-layer-icon","uninteractive",3,"src"],[1,"panel-layer-content"],[1,"panel-layer-text-container"],[1,"panel-layer-text"],[1,"panel-layer-properties-container"],[1,"panel-layer-field"],[1,"panel-layer-label"],["type","number",1,"panel-layer-input","uninteractive",3,"input","change","value","disabled","ngClass"],[1,"panel-layer-button"],[1,"panel-layer-button",3,"click"],["viewBox","0 0 512 512","version","1.1","id","svg1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"icon"],["viewBox","0 0 512 512","version","1.1","id","svg3","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"icon"],["id","defs3"],["id","rect3","d","M 113.78127,137.53137 H 399.22899 L 352.9856,461.827 H 160.02466 Z",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","52.8496","stroke-linecap","round","stroke-linejoin","round"],["d","m 80.24515,137.53137 h 351.5097","id","path5",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","52.8496","stroke-linecap","round","stroke-linejoin","round"],["id","rect7","width","134.3893","height","87.358398","x","191.66637","y","50.173004",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","52.8496","stroke-linecap","round","stroke-linejoin","round"],["d","m 188.49762,189.33787 29.95837,210.09209","id","path9",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","19.8185","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],["d","M 323.50238,189.33787 293.54402,399.42996","id","path10",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","19.8185","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],["d","M 256,189.33787 V 399.42996","id","path12",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","19.8185","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],[1,"panel-layer-input-rotation-suffix","uninteractive"],["viewBox","0 0 512 512","version","1.1","id","svg3",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"icon"],["id","path4","d","M 338.38732,140.01086 V 334.75442 H 450.82258 Z",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","36.9404","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-opacity","1"],["d","m 256.00006,47.84035 v 27.4209","id","path8",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 256.00006,436.73875 v 27.4209","id","path15",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 256.00006,307.10596 v 27.4209","id","path16",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 256.00006,177.47316 v 27.42089","id","path18",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["id","path20","d","M 173.61211,140.01086 V 334.75442 H 61.176848 Z",2,"fill","#7b7b7b","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","36.9404","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-opacity","1"],["id","path4","d","M 173.61211,140.01086 V 334.75442 H 61.176848 Z",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","36.9404","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-opacity","1"],["d","m 255.99937,47.84035 v 27.4209","id","path8",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 255.99937,436.73875 v 27.4209","id","path15",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 255.99937,307.10596 v 27.4209","id","path16",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","m 255.99937,177.47316 v 27.42089","id","path18",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","48.1847","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["id","path20","d","M 338.38732,140.01086 V 334.75442 H 450.82258 Z",2,"fill","#7b7b7b","fill-opacity","1","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","36.9404","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-opacity","1"],["viewBox","0 0 512 512","version","1.1","id","svg1","xmlns","http://www.w3.org/2000/svg",1,"icon"],["d","M 54.750001,256 H 457.25","id","path6",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","57.5","stroke-linecap","round","stroke-dasharray","none","stroke-dashoffset","0","stroke-opacity","1"],["d","M 256,54.75001 V 457.24999","id","path7",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","57.5","stroke-linecap","round","stroke-dasharray","none","stroke-opacity","1"],["id","rect1","width","305.82788","height","207.28311","x","103.0862","y","251.34184",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","59.2541","stroke-linecap","round","stroke-linejoin","round","stroke-opacity","1"],["id","rect1-4","width","305.82785","height","207.28329","x","103.08621","y","251.34164",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","59.2541","stroke-linecap","round","stroke-linejoin","round","stroke-opacity","1"],["id","path2","d","M 140.79549,121.97546 A 120.35997,120.35997 0 0 1 277.24973,53.231572 120.35997,120.35997 0 0 1 371.18852,173.73464 l -2e-5,77.60697",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","59.2541","stroke-linecap","round","stroke-linejoin","round","stroke-opacity","1"],["id","path6","d","M 371.18854,251.34184 V 173.73493 A 120.35998,120.35986 0 0 0 250.82856,53.375063 120.35998,120.35986 0 0 0 130.46859,173.73493 v 77.60691",2,"fill","none","fill-rule","evenodd","stroke","#7b7b7b","stroke-width","59.2541","stroke-linecap","round","stroke-linejoin","round","stroke-opacity","1"],["id","rotation-line","width","2","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg",1,"rotation-line",3,"ngStyle"],["id","rotation-line-path",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","2","stroke-dasharray","6, 3","stroke-dashoffset","0"],["class","grapheme draggable uninteractive",3,"ngStyle",4,"ngIf"],[4,"ngIf"],[1,"grapheme","draggable","uninteractive",3,"ngStyle"],["inert","",3,"src"],[1,"grapheme","attach","draggable","uninteractive",3,"ngStyle"],[1,"x-axis",3,"ngStyle"],[1,"y-axis",3,"ngStyle"],[1,"grapheme-selection-bounding-box","draggable","uninteractive","main-selection",3,"ngStyle"],["class","grapheme-toolbar uninteractive",3,"ngStyle",4,"ngIf"],["class","grapheme-center draggable uninteractive",3,"ngStyle",4,"ngIf"],["class","grapheme-selection-bounding-box draggable uninteractive main-selection",3,"ngStyle",4,"ngIf"],[1,"grapheme-selection-bounding-box","draggable","uninteractive","secondary-selection",3,"ngStyle"],["class","grapheme-selection-bounding-box draggable uninteractive secondary-selection",3,"ngStyle",4,"ngIf"],[1,"grapheme-toolbar","uninteractive",3,"ngStyle"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"toolbar-item","add-attach-button","uninteractive"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"icon"],["d","M 448,256 C 448,150 362,64 256,64 150,64 64,150 64,256 c 0,106 86,192 192,192 106,0 192,-86 192,-192 z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","32","id","path1"],["d","M 144,256 H 368","id","path6",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-dasharray","none","stroke-dashoffset","0"],["d","M 256,144 V 368","id","path7",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-dasharray","none"],[1,"toolbar-item","lock-button","uninteractive"],["id","rect1","width","165.16132","height","111.94266","x","173.41934","y","256",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],["id","path2","d","m 193.78412,186.13624 a 65,65 0 0 1 73.69166,-37.12491 65,65 0 0 1 50.73133,65.07728 L 318.2071,256",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],[1,"toolbar-item","delete-button","uninteractive"],["id","rect3","d","M 169.8877,186.26524 H 342.724 l -28,196.3584 H 197.8877 Z",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],["d","m 149.58185,186.26524 h 212.8363","id","path5",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],["id","rect7","width","81.371643","height","52.894806","x","217.04651","y","133.37045",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],["d","M 215.12785,217.63366 233.2674,344.84273","id","path9",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","12","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],["d","M 296.87215,217.63366 278.7326,344.84273","id","path10",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","12","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],["d","M 256,217.63366 V 344.84273","id","path12",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","12","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","none"],[1,"toolbar-item","rotation-handle","uninteractive"],["d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z","fill","none","stroke","currentColor","stroke-miterlimit","10","stroke-width","32"],["d","M341.54 197.85l-11.37-13.23a103.37 103.37 0 1022.71 105.84","fill","none","stroke","currentColor","stroke-linecap","round","stroke-miterlimit","10","stroke-width","32"],["d","M367.32 162a8.44 8.44 0 00-6 2.54l-59.54 59.54a8.61 8.61 0 006.09 14.71h59.54a8.62 8.62 0 008.62-8.62v-59.56a8.61 8.61 0 00-8.68-8.63z"],[1,"toolbar-item","flip-button","uninteractive"],["id","path4","d","M 201.28525,178.97032 V 308.30169 H 126.61574 Z",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","24.5325","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none"],["d","m 256,117.75886 v 18.21052","id","path8",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0"],["d","m 256,376.03062 v 18.21052","id","path15",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0"],["d","m 256,289.94004 v 18.21052","id","path16",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0"],["d","m 255.99955,203.84945 v 18.21052","id","path18",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0"],["id","path20","d","m 310.7143,178.97032 v 129.33137 h 74.66951 z",2,"fill","#000000","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","24.5325","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none"],["id","path4","d","m 310.7143,178.97032 v 129.33137 h 74.66951 z",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","24.5325","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none"],["d","m 256,203.84945 v 18.21052","id","path18",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none","stroke-dashoffset","0"],["id","path20","d","M 201.28525,178.97032 V 308.30169 H 126.61574 Z",2,"fill","#000000","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","24.5325","stroke-linecap","round","stroke-linejoin","round","stroke-miterlimit","4","stroke-dasharray","none"],[1,"toolbar-item","delete-attach-button","uninteractive"],["id","path6","d","m 318.20711,256 v -41.91139 a 65,65 0 0 0 -65,-65 65,65 0 0 0 -65,65 V 256",2,"fill","none","fill-rule","evenodd","stroke","#000000","stroke-width","32","stroke-linecap","round","stroke-linejoin","round"],[1,"grapheme-center","draggable","uninteractive",3,"ngStyle"],["width","16","height","16","viewBox","0 0 16 16","version","1.1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","svg","http://www.w3.org/2000/svg"],["id","defs1"],["id","layer1"],["id","path1","cx","11.313708","cy","8.8817842e-16","r","5","transform","rotate(45)",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","3","stroke-linejoin","round","stroke-dasharray","none","stroke-opacity","1"],["d","M 11.535533,4.4644653 14.939338,1.0606602","id","path2",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","3","stroke-linejoin","round","stroke-dasharray","none","stroke-opacity","1"],["d","m 11.535533,11.535534 3.403806,3.403806","id","path3",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","3","stroke-linejoin","round","stroke-dasharray","none","stroke-opacity","1"],["d","M 4.4644655,4.4644665 1.0606602,1.0606612","id","path4",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","3","stroke-linejoin","round","stroke-dasharray","none","stroke-opacity","1"],["d","M 4.4644653,11.535533 1.0606602,14.939338","id","path5",2,"fill","none","fill-opacity","1","fill-rule","evenodd","stroke","#000000","stroke-width","3","stroke-linejoin","round","stroke-dasharray","none","stroke-opacity","1"],[1,"add-menu",3,"ngStyle"],[3,"onAdd","width"],[3,"onAdd","width","height","type"]],template:function(r,i){if(r&1){let o=dn();ie(0,"div",11),V(1,"div",12)(2,"div",13)(3,"div",14,0)(5,"button",15,1),nt("click",function(){return Ye(o),Xe(i.addGraphemeButtonHandler())}),ie(7,"img",16),V(8,"div",17),Bn(9,"Adicionar"),W()(),V(10,"button",18),nt("click",function(){return Ye(o),Xe(i.exportButtonHandler())}),ie(11,"img",19),W()(),V(12,"div",20),Te(13,XA,2,1,"ng-container",21),W()()(),ie(14,"header",22),Te(15,KA,2,3,"svg",23),V(16,"div",24,2),Te(18,eN,4,2,"ng-container",21)(19,tN,1,1,"div",25)(20,nN,1,1,"div",26)(21,xN,5,3,"div",21),W(),Te(22,DN,3,3,"div",27)(23,CN,3,5,"div",27),ie(24,"router-outlet")}r&2&&(Q("ngStyle",i.panelResizeBorderStyle),q(),Q("ngStyle",i.panelStyle),q(11),Q("ngStyle",i.panelLayersStyle),q(),Q("ngForOf",i.graphemesService.graphemes),q(2),Q("ngIf",i.rotating),q(),Q("ngStyle",i.canvasStyle),q(2),Q("ngForOf",i.graphemesService.graphemes),q(),Q("ngIf",!i.allowYMotion&&i.keyboardMoving),q(),Q("ngIf",!i.allowXMotion&&i.keyboardMoving),q(),Q("ngForOf",i.graphemesService.graphemes),q(),Q("ngIf",i.addGraphemeMenuOpen),q(),Q("ngIf",i.addAttachMenuOpen))},dependencies:[uh,Kr,i0,qi,Fc,Yi,db,ol],styles:[".header[_ngcontent-%COMP%]{position:relative;width:100%;height:3rem;background-color:#0049c7;box-shadow:0 2px 4px -1px #0003,0 4px 5px #00000024,0 1px 10px #0000001f;z-index:2}.panel[_ngcontent-%COMP%]{display:none;flex-direction:column;justify-content:space-between;position:absolute;background-color:#42525b;z-index:2}.panel-content-container[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.panel-top-buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:5rem}.panel-add-button[_ngcontent-%COMP%]{width:calc(100% - 3.5rem);height:3rem;border-radius:.25rem;background-color:#1dd584;border-color:#0b665a;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d}.add-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.add-text[_ngcontent-%COMP%]{font-family:sans-serif;font-weight:700;font-size:1rem;width:calc(100% - 2rem)}.export-button[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:.25rem;background-color:#455d6b;border-color:#7b7b7b;display:flex;justify-content:center;align-items:center;cursor:pointer;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d}.export-icon[_ngcontent-%COMP%]{width:2rem;height:2rem}.panel-layers-container[_ngcontent-%COMP%]{display:box;overflow-y:auto;scrollbar-color:#7b7b7b #455d6b;scrollbar-width:thin}.panel-layer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:start;align-items:center;height:4rem;border:2px solid #7b7b7b;border-radius:.5rem;margin-bottom:.25rem;background-color:#1b2329}.panel-layer-main-selection[_ngcontent-%COMP%]{border:2px solid white!important;background-color:#12486b!important}.panel-layer-secondary-selection[_ngcontent-%COMP%]{border:2px solid #bbbbbb!important;background-color:#575e63!important}.panel-layer[_ngcontent-%COMP%]:last-child{margin-bottom:0}.panel-layer-icon-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;background-color:#fff;border-radius:calc(.5rem - 2px) 0 0 calc(.5rem - 2px);border-right:2px solid #7b7b7b}.panel-layer-icon[_ngcontent-%COMP%]{height:4rem;width:4rem}.panel-layer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:calc(100% - 4rem);height:100%;padding:0 .25rem}.panel-layer-text-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;font-size:1rem;padding:.125rem .25rem;width:calc(100% - .5rem);background-color:#2c373d;color:#cfcfcf;border:1px solid #7b7b7b;font-family:sans-serif;border-radius:.25rem}.panel-layer-properties-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:end;width:100%;font-family:sans-serif}.panel-layer-field[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;width:100%;height:1.25rem;border-radius:.25rem;background-color:#2c373d;border:1px solid #7b7b7b;padding:.25rem;font-size:1rem;margin-right:.125rem;cursor:ew-resize}.panel-layer-field[_ngcontent-%COMP%]:focus-within{cursor:text}.panel-layer-label[_ngcontent-%COMP%]{color:#7b7b7b}.panel-layer-input[_ngcontent-%COMP%]{border:none;background-color:transparent;color:#cfcfcf;width:calc(100% - 1rem);appearance:textfield;-moz-appearance:textfield;cursor:ew-resize}.panel-layer-input[_ngcontent-%COMP%]::selection{background-color:#7b7b7b;color:#fff}.panel-layer-input-dragging[_ngcontent-%COMP%]{cursor:ew-resize}.panel-layer-input-dragging[_ngcontent-%COMP%]::selection{background-color:transparent!important}.panel-layer-input[_ngcontent-%COMP%]:focus{outline:none;cursor:text}.panel-layer-input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;appearance:none;margin:0}.panel-layer-input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}.panel-layer-input-rotation-suffix[_ngcontent-%COMP%]{color:#7b7b7b}.panel-layer-button[_ngcontent-%COMP%]{height:100%;aspect-ratio:1/1;padding:.25rem;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:.25rem;background-color:#2c373d;border:1px solid #7b7b7b;margin-right:.125rem}.panel-layer-button[_ngcontent-%COMP%]:last-child{margin-right:0}.panel-resize-border[_ngcontent-%COMP%]{position:absolute;background-color:transparent;z-index:4}.add-menu[_ngcontent-%COMP%]{position:absolute;z-index:7}.grapheme[_ngcontent-%COMP%]{position:absolute;z-index:2}.attach[_ngcontent-%COMP%]{z-index:4}.grapheme-toolbar[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:row;justify-content:space-between;height:2rem;padding:.125rem;border-radius:1000rem;box-shadow:0 0 0 1px #6464640a,0 6px 25px -3px #0000004d;z-index:5;background-color:#fff}.toolbar-item[_ngcontent-%COMP%]{width:2rem;height:2rem}.designer-canvas[_ngcontent-%COMP%]{position:absolute;background-color:#fff;overflow:hidden;z-index:1}.grapheme-selection-bounding-box[_ngcontent-%COMP%]{position:absolute;z-index:3}.main-selection[_ngcontent-%COMP%]{outline:2px solid blue}.secondary-selection[_ngcontent-%COMP%]{outline:2px solid rgba(0,0,255,.4980392157)}.grapheme-center[_ngcontent-%COMP%]{position:absolute;z-index:5;width:1rem;height:1rem}.x-axis[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:2px;background-color:red}.y-axis[_ngcontent-%COMP%]{position:absolute;z-index:1;height:100%;width:2px;background-color:#0f0}.rotation-line[_ngcontent-%COMP%]{position:absolute;z-index:6;transform-origin:0px 0px}"]})}}return e})();C0(Kb,cb).catch(e=>console.error(e));
